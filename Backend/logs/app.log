2025-05-26 06:46:32,350 - root - INFO - [app.py:41] - Root logging configured at app startup.
2025-05-26 06:46:38,811 - services.cascaded_backend - INFO - [cascaded_backend.py:35] - CascadedBackend logger setup: Will use root handlers.
2025-05-26 06:46:39,751 - services.cascaded_backend - INFO - [cascaded_backend.py:40] - Whisper library FOUND and imported for CascadedBackend.
2025-05-26 06:46:39,771 - services.cascaded_backend - INFO - [cascaded_backend.py:59] - OpenVoice API is available and models are loaded: Models loaded.
2025-05-26 06:46:40,217 - __main__ - WARNING - [app.py:92] - ESPnet native library not found or import failed, ESPnetBackend will not be available.
2025-05-26 06:46:40,218 - services.model_manager - INFO - [model_manager.py:41] - ModelManager (for optional SeamlessM4T) instance created. Models NOT loaded.
2025-05-26 06:46:40,218 - __main__ - INFO - [app.py:106] - ModelManager (for optional SeamlessM4T) instance created; models load if explicitly requested by a route.
2025-05-26 06:46:40,218 - services.translation_strategy - INFO - [translation_strategy.py:42] - TranslationManager initialized.
2025-05-26 06:46:40,218 - services.cascaded_backend - INFO - [cascaded_backend.py:87] - Initializing CascadedBackend. Device: cpu, Voice Cloning Config: True
2025-05-26 06:46:40,218 - services.cascaded_backend - INFO - [cascaded_backend.py:89] - CascadedBackend will use ML device: cpu
2025-05-26 06:46:40,218 - services.cascaded_backend - INFO - [cascaded_backend.py:168] - CascadedBackend __init__ flags: Whisper=True, OpenVoiceAPI=True, PollySDK=False
2025-05-26 06:46:40,218 - services.translation_strategy - INFO - [translation_strategy.py:45] - Registering backend: 'cascaded', Default: True
2025-05-26 06:46:40,218 - services.translation_strategy - INFO - [translation_strategy.py:49] - Successfully registered backend: 'cascaded'.
2025-05-26 06:46:40,218 - services.translation_strategy - INFO - [translation_strategy.py:51] - 'cascaded' is default backend.
2025-05-26 06:46:40,221 - __main__ - INFO - [app.py:376] - ==================================================
2025-05-26 06:46:40,221 - __main__ - INFO - [app.py:376] - Starting Magenta AI Backend Main Application
2025-05-26 06:46:40,221 - __main__ - INFO - [app.py:381] - Attempting to initialize default translation backend: 'cascaded'
2025-05-26 06:46:40,221 - services.translation_strategy - INFO - [translation_strategy.py:73] - Backend 'cascaded' requires initialization. Initializing now...
2025-05-26 06:46:40,221 - services.cascaded_backend - INFO - [cascaded_backend.py:181] - Initializing CascadedBackend components on device: cpu
2025-05-26 06:46:44,749 - services.cascaded_backend - INFO - [cascaded_backend.py:182] - Whisper ASR loaded ('medium').
2025-05-26 06:46:45,846 - services.cascaded_backend - INFO - [cascaded_backend.py:187] - NLLB translation model and tokenizer loaded.
2025-05-26 06:46:45,846 - services.cascaded_backend - INFO - [cascaded_backend.py:189] - CascadedBackend initialized successfully in 5.62s
2025-05-26 06:46:45,846 - __main__ - INFO - [app.py:387] - Default backend 'cascaded' (type: CascadedBackend) initialized successfully.
2025-05-26 06:46:45,846 - __main__ - INFO - [app.py:394] - ModelManager (for optional SeamlessM4T) instance created; its models will load on-demand if any route specifically requests its components.
2025-05-26 06:46:45,846 - __main__ - INFO - [app.py:395] - Flask app starting on port 5001 using device for ML: cpu
2025-05-26 06:50:49,815 - __main__ - INFO - [app.py:256] - Request received for /process-video (Method: POST)
2025-05-26 06:50:49,817 - __main__ - INFO - [app.py:269] - Content-Type for /process-video POST: multipart/form-data; boundary=----WebKitFormBoundaryMJnBjJeQ1yznMrbp
2025-05-26 06:50:49,828 - __main__ - INFO - [app.py:285] - Video processing: Target Lang='fra', Apply Lip Sync='False'
2025-05-26 06:50:49,829 - __main__ - INFO - [app.py:293] - Video processing: Set use_voice_cloning on 'cascaded' to: True
2025-05-26 06:50:49,829 - services.video_routes - INFO - [video_routes.py:356] - handle_video_processing for lang: fra, using backend: CascadedBackend, LipSync: False
2025-05-26 06:50:49,829 - services.video_routes - INFO - [video_routes.py:27] - Initializing VideoProcessor (relies on passed-in backend for translation)
2025-05-26 06:50:49,829 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-05-26 06:50:49,829 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-05-26 06:50:49,830 - services.video_routes - INFO - [video_routes.py:34] - VideoProcessor base temp directory for requests: /Users/robmills/Documents/Magenta AI/Backend/temp_video_processing_requests
2025-05-26 06:50:49,830 - services.video_routes - INFO - [video_routes.py:40] - Checking Wav2Lip setup in: /Users/robmills/Documents/Magenta AI/Backend/Wav2Lip
2025-05-26 06:50:49,831 - services.video_routes - INFO - [video_routes.py:55] - Found Wav2Lip inference script: /Users/robmills/Documents/Magenta AI/Backend/Wav2Lip/inference.py
2025-05-26 06:50:49,831 - services.video_routes - INFO - [video_routes.py:64] - Found Wav2Lip standard checkpoint: /Users/robmills/Documents/Magenta AI/Backend/Wav2Lip/checkpoints/wav2lip.pth
2025-05-26 06:50:49,831 - services.utils - INFO - [utils.py:57] - Performance - Function: process_video_route, Duration: 0.02s, Memory Change: 9.03MB
2025-05-26 06:50:49,831 - __main__ - INFO - [app.py:157] - REQ: POST /process-video (127.0.0.1) -> 200 [0.02s]
2025-05-26 06:50:49,832 - services.video_routes - INFO - [video_routes.py:253] - [d0aa8062-1170-4ce2-8f09-9a5127c4abc2] VideoProcessing START. Target: fra, Backend: CascadedBackend, LipSyncEnabled: False, TempDir: /Users/robmills/Documents/Magenta AI/Backend/temp_video_processing_requests/d0aa8062-1170-4ce2-8f09-9a5127c4abc2
2025-05-26 06:50:49,835 - services.video_routes - INFO - [video_routes.py:266] - [d0aa8062-1170-4ce2-8f09-9a5127c4abc2] Saved uploaded video: Movie_on_06-04-2025_at_13.29_2.mov (0.00s)
2025-05-26 06:50:49,835 - services.video_routes - INFO - [video_routes.py:86] - Extracting audio from /Users/robmills/Documents/Magenta AI/Backend/temp_video_processing_requests/d0aa8062-1170-4ce2-8f09-9a5127c4abc2/Movie_on_06-04-2025_at_13.29_2.mov to /Users/robmills/Documents/Magenta AI/Backend/temp_video_processing_requests/d0aa8062-1170-4ce2-8f09-9a5127c4abc2/Movie_on_06-04-2025_at_13.29_2_extracted_audio.wav
2025-05-26 06:50:50,352 - services.video_routes - INFO - [video_routes.py:98] - Audio extracted: /Users/robmills/Documents/Magenta AI/Backend/temp_video_processing_requests/d0aa8062-1170-4ce2-8f09-9a5127c4abc2/Movie_on_06-04-2025_at_13.29_2_extracted_audio.wav (size: 517976 bytes)
2025-05-26 06:50:50,353 - services.video_routes - INFO - [video_routes.py:273] - [d0aa8062-1170-4ce2-8f09-9a5127c4abc2] Audio extracted (0.52s)
2025-05-26 06:50:50,353 - services.audio_processor - INFO - [audio_processor.py:280] - Loading audio from: /Users/robmills/Documents/Magenta AI/Backend/temp_video_processing_requests/d0aa8062-1170-4ce2-8f09-9a5127c4abc2/Movie_on_06-04-2025_at_13.29_2_extracted_audio.wav
2025-05-26 06:50:50,354 - services.audio_processor - INFO - [audio_processor.py:282] - Audio info - Sample rate: 16000, Channels: 1
2025-05-26 06:50:50,356 - services.audio_processor - INFO - [audio_processor.py:291] - Original audio shape: torch.Size([1, 258949]), Frequency: 16000Hz
2025-05-26 06:50:50,377 - services.video_routes - INFO - [video_routes.py:279] - [d0aa8062-1170-4ce2-8f09-9a5127c4abc2] Original audio processed for ASR (0.02s)
2025-05-26 06:50:50,377 - services.cascaded_backend - INFO - [cascaded_backend.py:314] - [377504] CascadedBackend.translate_speech CALLED. App Source: 'eng', App Target: 'fra'
2025-05-26 06:50:50,378 - services.cascaded_backend - INFO - [cascaded_backend.py:325] - [377504] Using temp directory: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/cascaded_s2st_377504_9y1u81qr
2025-05-26 06:50:54,409 - services.cascaded_backend - INFO - [cascaded_backend.py:332] - [377504] Whisper ASR (en): ' Hey, I hope you're doing well and you're having a good weekend. I wan...' (4.03s)
2025-05-26 06:50:54,409 - services.cascaded_backend - INFO - [cascaded_backend.py:344] - [377504] Translating NLLB 'eng_Latn' to 'fra_Latn'.
2025-05-26 06:50:54,410 - services.cascaded_backend - INFO - [cascaded_backend.py:360] - [377504] Using BOS ID: 256057 for fra_Latn
2025-05-26 06:51:03,227 - services.cascaded_backend - INFO - [cascaded_backend.py:366] - [377504] NLLB Translation: 'J'espère que vous allez bien et que vous passez un bon week-end. Je vo...' (8.82s)
2025-05-26 06:51:03,228 - services.cascaded_backend - INFO - [cascaded_backend.py:266] - Polly not for 'fra'. Trying gTTS.
2025-05-26 06:51:03,228 - services.cascaded_backend - WARNING - [cascaded_backend.py:244] - Falling back to gTTS for lang 'fra'. Text: 'J'espère que vous allez bien et que vous passez un bon week-end. Je vo...'
2025-05-26 06:51:06,044 - services.cascaded_backend - INFO - [cascaded_backend.py:254] - gTTS WAV for 'fra': base_gtts_fra_16k_fb.wav
2025-05-26 06:51:06,547 - services.cascaded_backend - INFO - [cascaded_backend.py:373] - [377504] Base TTS: base_gtts_fra_16k_fb.wav (3.32s)
2025-05-26 06:51:06,562 - services.cascaded_backend - INFO - [cascaded_backend.py:59] - OpenVoice API is available and models are loaded: Models loaded.
2025-05-26 06:51:06,563 - services.cascaded_backend - INFO - [cascaded_backend.py:378] - [377504] OV clone decision: Conf=True, API=True, TTS_OK=True -> Clone=True
2025-05-26 06:51:06,564 - services.cascaded_backend - INFO - [cascaded_backend.py:272] - [377504] _clone_voice_with_api: Ref='orig_ref_377504.wav', Content='base_gtts_fra_16k_fb.wav'
2025-05-26 06:51:06,568 - services.cascaded_backend - INFO - [cascaded_backend.py:59] - OpenVoice API is available and models are loaded: Models loaded.
2025-05-26 06:51:18,197 - services.cascaded_backend - INFO - [cascaded_backend.py:288] - [377504] OpenVoice API /clone-voice response status: 200
2025-05-26 06:51:18,199 - services.cascaded_backend - INFO - [cascaded_backend.py:292] - [377504] OpenVoice cloning successful. Output: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/cascaded_s2st_377504_9y1u81qr/cloned_final_377504.wav
2025-05-26 06:51:18,209 - services.cascaded_backend - INFO - [cascaded_backend.py:385] - [377504] Using OV CLONED audio. (11.65s)
2025-05-26 06:51:18,209 - services.cascaded_backend - INFO - [cascaded_backend.py:388] - [377504] Final audio shape: torch.Size([1, 193748]), dtype: torch.float32
2025-05-26 06:51:18,209 - services.cascaded_backend - INFO - [cascaded_backend.py:390] - [377504] translate_speech completed in 27.83s
2025-05-26 06:51:18,210 - services.video_routes - INFO - [video_routes.py:290] - [d0aa8062-1170-4ce2-8f09-9a5127c4abc2] Backend translation/voice prep OK (27.83s). Src: ' Hey, I hope you're doing well and you're having a...', Tgt: 'J'espère que vous allez bien et que vous passez un...'
2025-05-26 06:51:18,211 - services.video_routes - INFO - [video_routes.py:108] - Saving audio tensor shape torch.Size([1, 193748]) to /Users/robmills/Documents/Magenta AI/Backend/temp_video_processing_requests/d0aa8062-1170-4ce2-8f09-9a5127c4abc2/d0aa8062-1170-4ce2-8f09-9a5127c4abc2_final_translated_audio.wav
2025-05-26 06:51:18,213 - services.video_routes - INFO - [video_routes.py:116] - Audio tensor saved: /Users/robmills/Documents/Magenta AI/Backend/temp_video_processing_requests/d0aa8062-1170-4ce2-8f09-9a5127c4abc2/d0aa8062-1170-4ce2-8f09-9a5127c4abc2_final_translated_audio.wav (size: 775072 bytes)
2025-05-26 06:51:18,213 - services.video_routes - INFO - [video_routes.py:295] - [d0aa8062-1170-4ce2-8f09-9a5127c4abc2] Translated audio saved: d0aa8062-1170-4ce2-8f09-9a5127c4abc2_final_translated_audio.wav
2025-05-26 06:51:18,213 - services.video_routes - INFO - [video_routes.py:321] - [d0aa8062-1170-4ce2-8f09-9a5127c4abc2] Lip sync was disabled by user. Combining translated audio with original video.
2025-05-26 06:51:18,214 - services.video_routes - INFO - [video_routes.py:221] - [d0aa8062-1170-4ce2-8f09-9a5127c4abc2] Combining audio 'd0aa8062-1170-4ce2-8f09-9a5127c4abc2_final_translated_audio.wav' with video from 'Movie_on_06-04-2025_at_13.29_2.mov' into 'd0aa8062-1170-4ce2-8f09-9a5127c4abc2_audio_dubbed_no_lipsync.mp4'
2025-05-26 06:51:18,360 - services.video_routes - INFO - [video_routes.py:241] - [d0aa8062-1170-4ce2-8f09-9a5127c4abc2] Final video saved by combine_audio_video: /Users/robmills/Documents/Magenta AI/Backend/temp_video_processing_requests/d0aa8062-1170-4ce2-8f09-9a5127c4abc2/d0aa8062-1170-4ce2-8f09-9a5127c4abc2_audio_dubbed_no_lipsync.mp4
2025-05-26 06:51:18,361 - services.video_routes - INFO - [video_routes.py:328] - [d0aa8062-1170-4ce2-8f09-9a5127c4abc2] Video with new audio (no lip sync) created (0.15s)
2025-05-26 06:51:18,363 - services.video_routes - INFO - [video_routes.py:341] - [d0aa8062-1170-4ce2-8f09-9a5127c4abc2] Video finalized and encoded (0.00s)
2025-05-26 06:51:18,369 - services.video_routes - INFO - [video_routes.py:344] - [d0aa8062-1170-4ce2-8f09-9a5127c4abc2] Video processing COMPLETED & result sent (Total time: 28.54s)
2025-05-26 06:51:18,369 - services.video_routes - INFO - [video_routes.py:351] - [d0aa8062-1170-4ce2-8f09-9a5127c4abc2] Entering finally block for cleanup. Total processing time before cleanup: 28.54s
2025-05-26 06:51:18,369 - services.video_routes - INFO - [video_routes.py:75] - Cleaning up temporary request directory: /Users/robmills/Documents/Magenta AI/Backend/temp_video_processing_requests/d0aa8062-1170-4ce2-8f09-9a5127c4abc2
2025-05-26 06:51:18,370 - services.video_routes - INFO - [video_routes.py:78] - Successfully removed /Users/robmills/Documents/Magenta AI/Backend/temp_video_processing_requests/d0aa8062-1170-4ce2-8f09-9a5127c4abc2
2025-05-26 07:04:05,193 - __main__ - INFO - [app.py:364] - Signal 2 received, app initiating graceful shutdown...
2025-05-26 07:04:05,196 - __main__ - INFO - [app.py:367] - Graceful shutdown tasks will be run by atexit handler.
2025-05-26 07:04:05,197 - __main__ - INFO - [app.py:400] - Application exiting due to SystemExit signal.
2025-05-26 07:04:05,198 - __main__ - INFO - [app.py:404] - Application shutdown sequence initiated or completed.
2025-05-26 07:04:05,200 - __main__ - INFO - [app.py:338] - Shutdown handler: Cleaning up application resources...
2025-05-26 07:04:05,200 - __main__ - INFO - [app.py:344] - ModelManager (optional SeamlessM4T) components were not loaded, skipping its cleanup.
2025-05-26 07:04:05,200 - __main__ - INFO - [app.py:347] - Cleaning up registered translation backends...
2025-05-26 07:04:05,201 - __main__ - INFO - [app.py:350] - Calling .cleanup() for backend: cascaded
2025-05-26 07:04:05,201 - services.cascaded_backend - INFO - [cascaded_backend.py:410] - Cleaning CascadedBackend resources...
2025-05-26 07:04:05,392 - services.cascaded_backend - INFO - [cascaded_backend.py:415] - CascadedBackend resources cleaned.
2025-05-26 07:04:05,475 - __main__ - INFO - [app.py:359] - All resource cleanup attempts completed by _app_cleanup_tasks.
2025-05-26 07:04:23,429 - root - INFO - [app.py:41] - Root logging configured at app startup.
2025-05-26 07:08:09,133 - root - INFO - [app.py:41] - Root logging configured at app startup.
2025-05-26 08:55:28,456 - root - INFO - [app.py:41] - Root logging configured at app startup.
2025-05-26 09:01:08,993 - root - INFO - [app.py:41] - Root logging configured at app startup.
2025-05-26 09:01:14,637 - services.cascaded_backend.boto3_init - INFO - [cascaded_backend.py:22] - Attempting to import boto3...
2025-05-26 09:01:14,637 - services.cascaded_backend.boto3_init - ERROR - [cascaded_backend.py:39] - Failed to import boto3: No module named 'boto3'
Traceback (most recent call last):
  File "/Users/robmills/Documents/Magenta AI/Backend/services/cascaded_backend.py", line 23, in <module>
    import boto3
ModuleNotFoundError: No module named 'boto3'
2025-05-26 09:01:14,638 - services.cascaded_backend - INFO - [cascaded_backend.py:59] - CascadedBackend logger setup: Will use root handlers.
2025-05-26 09:01:14,997 - services.cascaded_backend - INFO - [cascaded_backend.py:64] - Whisper library FOUND and imported for CascadedBackend.
2025-05-26 09:01:15,006 - services.cascaded_backend - INFO - [cascaded_backend.py:83] - OpenVoice API is available and models are loaded: Models loaded.
2025-05-26 09:01:15,457 - __main__ - WARNING - [app.py:92] - ESPnet native library not found or import failed, ESPnetBackend will not be available.
2025-05-26 09:01:15,458 - services.model_manager - INFO - [model_manager.py:41] - ModelManager (for optional SeamlessM4T) instance created. Models NOT loaded.
2025-05-26 09:01:15,458 - __main__ - INFO - [app.py:106] - ModelManager (for optional SeamlessM4T) instance created; models load if explicitly requested by a route.
2025-05-26 09:01:15,458 - services.translation_strategy - INFO - [translation_strategy.py:42] - TranslationManager initialized.
2025-05-26 09:01:15,458 - services.cascaded_backend - INFO - [cascaded_backend.py:111] - Initializing CascadedBackend. Device: cpu, Voice Cloning Config: True
2025-05-26 09:01:15,458 - services.cascaded_backend - INFO - [cascaded_backend.py:113] - CascadedBackend will use ML device: cpu
2025-05-26 09:01:15,458 - services.cascaded_backend - INFO - [cascaded_backend.py:192] - CascadedBackend __init__ flags: Whisper=True, OpenVoiceAPI=True, PollySDK=False
2025-05-26 09:01:15,458 - services.translation_strategy - INFO - [translation_strategy.py:45] - Registering backend: 'cascaded', Default: True
2025-05-26 09:01:15,458 - services.translation_strategy - INFO - [translation_strategy.py:49] - Successfully registered backend: 'cascaded'.
2025-05-26 09:01:15,458 - services.translation_strategy - INFO - [translation_strategy.py:51] - 'cascaded' is default backend.
2025-05-26 09:01:15,460 - __main__ - INFO - [app.py:376] - ==================================================
2025-05-26 09:01:15,460 - __main__ - INFO - [app.py:376] - Starting Magenta AI Backend Main Application
2025-05-26 09:01:15,460 - __main__ - INFO - [app.py:381] - Attempting to initialize default translation backend: 'cascaded'
2025-05-26 09:01:15,460 - services.translation_strategy - INFO - [translation_strategy.py:73] - Backend 'cascaded' requires initialization. Initializing now...
2025-05-26 09:01:15,460 - services.cascaded_backend - INFO - [cascaded_backend.py:205] - Initializing CascadedBackend components on device: cpu
2025-05-26 09:01:18,576 - services.cascaded_backend - INFO - [cascaded_backend.py:206] - Whisper ASR loaded ('medium').
2025-05-26 09:01:19,670 - services.cascaded_backend - INFO - [cascaded_backend.py:211] - NLLB translation model and tokenizer loaded.
2025-05-26 09:01:19,671 - services.cascaded_backend - INFO - [cascaded_backend.py:213] - CascadedBackend initialized successfully in 4.21s
2025-05-26 09:01:19,671 - __main__ - INFO - [app.py:387] - Default backend 'cascaded' (type: CascadedBackend) initialized successfully.
2025-05-26 09:01:19,671 - __main__ - INFO - [app.py:394] - ModelManager (for optional SeamlessM4T) instance created; its models will load on-demand if any route specifically requests its components.
2025-05-26 09:01:19,671 - __main__ - INFO - [app.py:395] - Flask app starting on port 5001 using device for ML: cpu
2025-05-26 09:13:36,701 - __main__ - INFO - [app.py:364] - Signal 2 received, app initiating graceful shutdown...
2025-05-26 09:13:36,701 - __main__ - INFO - [app.py:367] - Graceful shutdown tasks will be run by atexit handler.
2025-05-26 09:13:36,702 - __main__ - INFO - [app.py:400] - Application exiting due to SystemExit signal.
2025-05-26 09:13:36,702 - __main__ - INFO - [app.py:404] - Application shutdown sequence initiated or completed.
2025-05-26 09:13:36,702 - __main__ - INFO - [app.py:338] - Shutdown handler: Cleaning up application resources...
2025-05-26 09:13:36,703 - __main__ - INFO - [app.py:344] - ModelManager (optional SeamlessM4T) components were not loaded, skipping its cleanup.
2025-05-26 09:13:36,703 - __main__ - INFO - [app.py:347] - Cleaning up registered translation backends...
2025-05-26 09:13:36,703 - __main__ - INFO - [app.py:350] - Calling .cleanup() for backend: cascaded
2025-05-26 09:13:36,703 - services.cascaded_backend - INFO - [cascaded_backend.py:434] - Cleaning CascadedBackend resources...
2025-05-26 09:13:36,838 - services.cascaded_backend - INFO - [cascaded_backend.py:439] - CascadedBackend resources cleaned.
2025-05-26 09:13:36,885 - __main__ - INFO - [app.py:359] - All resource cleanup attempts completed by _app_cleanup_tasks.
2025-05-26 09:14:02,305 - root - INFO - [app.py:41] - Root logging configured at app startup.
2025-05-26 09:14:04,121 - services.cascaded_backend.boto3_init - INFO - [cascaded_backend.py:22] - Attempting to import boto3 for Polly SDK...
2025-05-26 09:14:04,122 - services.cascaded_backend.boto3_init - ERROR - [cascaded_backend.py:38] - Failed to import boto3: No module named 'boto3'. AWS Polly will be unavailable.
2025-05-26 09:14:04,122 - services.cascaded_backend - INFO - [cascaded_backend.py:64] - CascadedBackend logger setup: Will use existing root handlers.
2025-05-26 09:14:04,234 - services.cascaded_backend - INFO - [cascaded_backend.py:70] - Whisper library FOUND and imported for CascadedBackend.
2025-05-26 09:14:04,244 - services.cascaded_backend - INFO - [cascaded_backend.py:90] - OpenVoice API is available and models are loaded: Models loaded.
2025-05-26 09:14:04,338 - __main__ - WARNING - [app.py:92] - ESPnet native library not found or import failed, ESPnetBackend will not be available.
2025-05-26 09:14:04,338 - services.model_manager - INFO - [model_manager.py:41] - ModelManager (for optional SeamlessM4T) instance created. Models NOT loaded.
2025-05-26 09:14:04,338 - __main__ - INFO - [app.py:106] - ModelManager (for optional SeamlessM4T) instance created; models load if explicitly requested by a route.
2025-05-26 09:14:04,338 - services.translation_strategy - INFO - [translation_strategy.py:42] - TranslationManager initialized.
2025-05-26 09:14:04,338 - services.cascaded_backend - INFO - [cascaded_backend.py:119] - Initializing CascadedBackend. Device: cpu, Voice Cloning Config: True
2025-05-26 09:14:04,338 - services.cascaded_backend - INFO - [cascaded_backend.py:121] - CascadedBackend will use ML device: cpu
2025-05-26 09:14:04,338 - services.cascaded_backend - INFO - [cascaded_backend.py:128] - CascadedBackend __init__ flags: Whisper=True, OpenVoiceAPI=True, PollySDK=False
2025-05-26 09:14:04,338 - services.translation_strategy - INFO - [translation_strategy.py:45] - Registering backend: 'cascaded', Default: True
2025-05-26 09:14:04,338 - services.translation_strategy - INFO - [translation_strategy.py:49] - Successfully registered backend: 'cascaded'.
2025-05-26 09:14:04,338 - services.translation_strategy - INFO - [translation_strategy.py:51] - 'cascaded' is default backend.
2025-05-26 09:14:04,340 - __main__ - INFO - [app.py:376] - ==================================================
2025-05-26 09:14:04,340 - __main__ - INFO - [app.py:376] - Starting Magenta AI Backend Main Application
2025-05-26 09:14:04,340 - __main__ - INFO - [app.py:381] - Attempting to initialize default translation backend: 'cascaded'
2025-05-26 09:14:04,340 - services.translation_strategy - INFO - [translation_strategy.py:73] - Backend 'cascaded' requires initialization. Initializing now...
2025-05-26 09:14:04,340 - services.cascaded_backend - INFO - [cascaded_backend.py:148] - Initializing CascadedBackend components on device: cpu
2025-05-26 09:14:07,531 - services.cascaded_backend - INFO - [cascaded_backend.py:149] - Whisper ASR loaded ('medium').
2025-05-26 09:14:08,611 - services.cascaded_backend - INFO - [cascaded_backend.py:154] - NLLB translation model and tokenizer loaded.
2025-05-26 09:14:08,611 - services.cascaded_backend - INFO - [cascaded_backend.py:156] - CascadedBackend initialized successfully in 4.27s
2025-05-26 09:14:08,612 - __main__ - INFO - [app.py:387] - Default backend 'cascaded' (type: CascadedBackend) initialized successfully.
2025-05-26 09:14:08,612 - __main__ - INFO - [app.py:394] - ModelManager (for optional SeamlessM4T) instance created; its models will load on-demand if any route specifically requests its components.
2025-05-26 09:14:08,612 - __main__ - INFO - [app.py:395] - Flask app starting on port 5001 using device for ML: cpu
2025-05-26 09:14:18,431 - __main__ - INFO - [app.py:364] - Signal 2 received, app initiating graceful shutdown...
2025-05-26 09:14:18,431 - __main__ - INFO - [app.py:367] - Graceful shutdown tasks will be run by atexit handler.
2025-05-26 09:14:18,432 - __main__ - INFO - [app.py:400] - Application exiting due to SystemExit signal.
2025-05-26 09:14:18,432 - __main__ - INFO - [app.py:404] - Application shutdown sequence initiated or completed.
2025-05-26 09:14:18,432 - __main__ - INFO - [app.py:338] - Shutdown handler: Cleaning up application resources...
2025-05-26 09:14:18,433 - __main__ - INFO - [app.py:344] - ModelManager (optional SeamlessM4T) components were not loaded, skipping its cleanup.
2025-05-26 09:14:18,433 - __main__ - INFO - [app.py:347] - Cleaning up registered translation backends...
2025-05-26 09:14:18,433 - __main__ - INFO - [app.py:350] - Calling .cleanup() for backend: cascaded
2025-05-26 09:14:18,433 - services.cascaded_backend - INFO - [cascaded_backend.py:377] - Cleaning CascadedBackend resources...
2025-05-26 09:14:18,580 - services.cascaded_backend - INFO - [cascaded_backend.py:382] - CascadedBackend resources cleaned.
2025-05-26 09:14:18,628 - __main__ - INFO - [app.py:359] - All resource cleanup attempts completed by _app_cleanup_tasks.
2025-05-26 09:14:27,851 - root - INFO - [app.py:41] - Root logging configured at app startup.
2025-05-26 09:14:29,113 - services.cascaded_backend.boto3_init - INFO - [cascaded_backend.py:22] - Attempting to import boto3 for Polly SDK...
2025-05-26 09:14:29,113 - services.cascaded_backend.boto3_init - ERROR - [cascaded_backend.py:38] - Failed to import boto3: No module named 'boto3'. AWS Polly will be unavailable.
2025-05-26 09:14:29,113 - services.cascaded_backend - INFO - [cascaded_backend.py:64] - CascadedBackend logger setup: Will use existing root handlers.
2025-05-26 09:14:29,177 - services.cascaded_backend - INFO - [cascaded_backend.py:70] - Whisper library FOUND and imported for CascadedBackend.
2025-05-26 09:14:29,187 - services.cascaded_backend - INFO - [cascaded_backend.py:90] - OpenVoice API is available and models are loaded: Models loaded.
2025-05-26 09:14:29,244 - __main__ - WARNING - [app.py:92] - ESPnet native library not found or import failed, ESPnetBackend will not be available.
2025-05-26 09:14:29,244 - services.model_manager - INFO - [model_manager.py:41] - ModelManager (for optional SeamlessM4T) instance created. Models NOT loaded.
2025-05-26 09:14:29,244 - __main__ - INFO - [app.py:106] - ModelManager (for optional SeamlessM4T) instance created; models load if explicitly requested by a route.
2025-05-26 09:14:29,244 - services.translation_strategy - INFO - [translation_strategy.py:42] - TranslationManager initialized.
2025-05-26 09:14:29,244 - services.cascaded_backend - INFO - [cascaded_backend.py:119] - Initializing CascadedBackend. Device: cpu, Voice Cloning Config: True
2025-05-26 09:14:29,244 - services.cascaded_backend - INFO - [cascaded_backend.py:121] - CascadedBackend will use ML device: cpu
2025-05-26 09:14:29,244 - services.cascaded_backend - INFO - [cascaded_backend.py:128] - CascadedBackend __init__ flags: Whisper=True, OpenVoiceAPI=True, PollySDK=False
2025-05-26 09:14:29,244 - services.translation_strategy - INFO - [translation_strategy.py:45] - Registering backend: 'cascaded', Default: True
2025-05-26 09:14:29,244 - services.translation_strategy - INFO - [translation_strategy.py:49] - Successfully registered backend: 'cascaded'.
2025-05-26 09:14:29,244 - services.translation_strategy - INFO - [translation_strategy.py:51] - 'cascaded' is default backend.
2025-05-26 09:14:29,246 - __main__ - INFO - [app.py:376] - ==================================================
2025-05-26 09:14:29,246 - __main__ - INFO - [app.py:376] - Starting Magenta AI Backend Main Application
2025-05-26 09:14:29,246 - __main__ - INFO - [app.py:381] - Attempting to initialize default translation backend: 'cascaded'
2025-05-26 09:14:29,246 - services.translation_strategy - INFO - [translation_strategy.py:73] - Backend 'cascaded' requires initialization. Initializing now...
2025-05-26 09:14:29,246 - services.cascaded_backend - INFO - [cascaded_backend.py:148] - Initializing CascadedBackend components on device: cpu
2025-05-26 09:14:32,315 - services.cascaded_backend - INFO - [cascaded_backend.py:149] - Whisper ASR loaded ('medium').
2025-05-26 09:14:33,595 - services.cascaded_backend - INFO - [cascaded_backend.py:154] - NLLB translation model and tokenizer loaded.
2025-05-26 09:14:33,595 - services.cascaded_backend - INFO - [cascaded_backend.py:156] - CascadedBackend initialized successfully in 4.35s
2025-05-26 09:14:33,595 - __main__ - INFO - [app.py:387] - Default backend 'cascaded' (type: CascadedBackend) initialized successfully.
2025-05-26 09:14:33,595 - __main__ - INFO - [app.py:394] - ModelManager (for optional SeamlessM4T) instance created; its models will load on-demand if any route specifically requests its components.
2025-05-26 09:14:33,595 - __main__ - INFO - [app.py:395] - Flask app starting on port 5001 using device for ML: cpu
2025-05-26 09:23:32,394 - __main__ - INFO - [app.py:364] - Signal 2 received, app initiating graceful shutdown...
2025-05-26 09:23:32,394 - __main__ - INFO - [app.py:367] - Graceful shutdown tasks will be run by atexit handler.
2025-05-26 09:23:32,394 - __main__ - INFO - [app.py:400] - Application exiting due to SystemExit signal.
2025-05-26 09:23:32,395 - __main__ - INFO - [app.py:404] - Application shutdown sequence initiated or completed.
2025-05-26 09:23:32,395 - __main__ - INFO - [app.py:338] - Shutdown handler: Cleaning up application resources...
2025-05-26 09:23:32,395 - __main__ - INFO - [app.py:344] - ModelManager (optional SeamlessM4T) components were not loaded, skipping its cleanup.
2025-05-26 09:23:32,395 - __main__ - INFO - [app.py:347] - Cleaning up registered translation backends...
2025-05-26 09:23:32,395 - __main__ - INFO - [app.py:350] - Calling .cleanup() for backend: cascaded
2025-05-26 09:23:32,395 - services.cascaded_backend - INFO - [cascaded_backend.py:377] - Cleaning CascadedBackend resources...
2025-05-26 09:23:32,539 - services.cascaded_backend - INFO - [cascaded_backend.py:382] - CascadedBackend resources cleaned.
2025-05-26 09:23:32,587 - __main__ - INFO - [app.py:359] - All resource cleanup attempts completed by _app_cleanup_tasks.
2025-05-26 09:23:53,087 - root - INFO - [app.py:41] - Root logging configured at app startup.
