2025-03-03 00:00:28,646 - services.translation_routes - INFO - [translation_routes.py:267] - Processing tuple output from model
2025-03-03 00:00:28,676 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-03-03 00:00:28,676 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-03-03 00:00:28,688 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-03-03 00:00:28,688 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-03-03 00:00:28,698 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-03-03 00:00:28,698 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-03-03 00:00:28,707 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-03-03 00:00:28,708 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-03-03 00:00:29,008 - services.diagnostics.base - WARNING - [base.py:117] - No analyzer available for language: rus
2025-03-03 00:00:29,008 - services.translation_routes - INFO - [translation_routes.py:294] - 
==================================================
2025-03-03 00:00:29,008 - services.translation_routes - INFO - [translation_routes.py:295] - Translated Audio Quality Report
2025-03-03 00:00:29,008 - services.translation_routes - INFO - [translation_routes.py:296] - ==================================================
2025-03-03 00:00:29,008 - services.translation_routes - INFO - [translation_routes.py:297] - Request ID: 62006f22
2025-03-03 00:00:29,008 - services.translation_routes - INFO - [translation_routes.py:298] - Target Language: rus
2025-03-03 00:00:29,008 - services.translation_routes - INFO - [translation_routes.py:299] - --------------------------------------------------
2025-03-03 00:00:29,008 - services.translation_routes - INFO - [translation_routes.py:300] - Audio Quality Analysis Report
==============================

Target Language: rus

Waveform Analysis:
--------------------
- Peak Amplitude: 0.737
- Avg Amplitude: 0.059
- Rms Level: 0.099
- Crest Factor: 7.458
- Zero Crossings: 27201.000
- Silence Percentage: 16.753
- Clipping Points: 0.000
- Dynamic Range: 387.538

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.068
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.030
  - Temporal Flatness: 0.015

- Volume Metrics:
  - Volume Stability: 0.195
  - Volume Range: 1214.927
  - Volume Variations: 0.062

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.0265099060463463
- Background Noise: 3.983323990241279
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled
2025-03-03 00:00:29,009 - services.translation_routes - INFO - [translation_routes.py:301] - ==================================================

2025-03-03 00:00:29,009 - services.translation_routes - INFO - [translation_routes.py:307] - Request 62006f22: Audio output processed successfully
2025-03-03 00:00:29,016 - services.translation_routes - INFO - [translation_routes.py:362] - Request 62006f22: Response prepared successfully
2025-03-03 00:00:29,016 - services.translation_routes - INFO - [translation_routes.py:375] - Request 62006f22 completed in 108.41s
2025-03-03 00:00:29,017 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 108.41s, Memory Change: 6747.86MB
2025-03-03 00:00:29,017 - __main__ - INFO - [app.py:279] - Request to /translate took 145.59s
2025-03-03 20:23:08,399 - __main__ - INFO - [app.py:218] - Received SIGINT signal
2025-03-03 20:23:08,402 - __main__ - INFO - [app.py:203] - Initiating graceful shutdown...
2025-03-03 20:23:13,407 - __main__ - INFO - [app.py:509] - Application shutting down...
2025-03-03 20:23:13,412 - services.model_manager - INFO - [model_manager.py:233] - Cleaning up model resources
2025-03-03 20:23:13,413 - services.model_manager - INFO - [model_manager.py:246] - Model cleanup completed successfully
2025-03-03 20:23:13,416 - __main__ - INFO - [app.py:491] - Cleanup complete: removed 0 files, freed 0.00MB
2025-03-03 20:23:13,417 - __main__ - INFO - [app.py:523] - Cleanup completed successfully
2025-03-03 20:23:13,417 - __main__ - INFO - [app.py:207] - Graceful shutdown completed
2025-03-03 20:23:13,421 - __main__ - INFO - [app.py:509] - Application shutting down...
2025-03-03 20:23:13,421 - services.model_manager - INFO - [model_manager.py:233] - Cleaning up model resources
2025-03-03 20:23:13,421 - services.model_manager - INFO - [model_manager.py:246] - Model cleanup completed successfully
2025-03-03 20:23:13,423 - __main__ - INFO - [app.py:491] - Cleanup complete: removed 0 files, freed 0.00MB
2025-03-03 20:23:13,423 - __main__ - INFO - [app.py:523] - Cleanup completed successfully
2025-03-03 20:23:13,426 - __main__ - INFO - [app.py:509] - Application shutting down...
2025-03-03 20:23:13,426 - services.model_manager - INFO - [model_manager.py:233] - Cleaning up model resources
2025-03-03 20:23:13,426 - services.model_manager - INFO - [model_manager.py:246] - Model cleanup completed successfully
2025-03-03 20:23:13,428 - __main__ - INFO - [app.py:491] - Cleanup complete: removed 0 files, freed 0.00MB
2025-03-03 20:23:13,428 - __main__ - INFO - [app.py:523] - Cleanup completed successfully
2025-03-03 22:41:13,820 - __main__ - INFO - [app.py:540] - Metrics server started on port 8000
2025-03-03 22:41:13,822 - services.model_manager - INFO - [model_manager.py:120] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-03-03 22:41:26,648 - services.model_manager - INFO - [model_manager.py:184] - Models loaded on CPU
2025-03-03 22:41:26,648 - services.model_manager - INFO - [model_manager.py:52] - Starting enhanced model verification
2025-03-03 22:41:26,651 - services.model_manager - INFO - [model_manager.py:63] - Testing clean_speech
2025-03-03 22:41:54,138 - services.model_manager - INFO - [model_manager.py:108] - Successfully verified clean_speech
2025-03-03 22:41:54,139 - services.model_manager - INFO - [model_manager.py:63] - Testing speech_with_music
2025-03-03 22:42:09,306 - services.model_manager - INFO - [model_manager.py:108] - Successfully verified speech_with_music
2025-03-03 22:42:09,306 - services.model_manager - INFO - [model_manager.py:110] - Model verification successful
2025-03-03 22:42:09,308 - services.model_manager - INFO - [model_manager.py:190] - Model initialization successful
2025-03-03 22:42:09,308 - services.model_manager - INFO - [model_manager.py:52] - Starting enhanced model verification
2025-03-03 22:42:09,308 - services.model_manager - INFO - [model_manager.py:63] - Testing clean_speech
2025-03-03 22:42:25,052 - services.model_manager - INFO - [model_manager.py:108] - Successfully verified clean_speech
2025-03-03 22:42:25,053 - services.model_manager - INFO - [model_manager.py:63] - Testing speech_with_music
2025-03-03 22:42:44,493 - services.model_manager - INFO - [model_manager.py:108] - Successfully verified speech_with_music
2025-03-03 22:42:44,494 - services.model_manager - INFO - [model_manager.py:110] - Model verification successful
2025-03-03 22:42:44,500 - __main__ - INFO - [app.py:491] - Cleanup complete: removed 0 files, freed 0.00MB
2025-03-03 22:42:44,500 - __main__ - INFO - [app.py:564] - ==================================================
2025-03-03 22:42:44,500 - __main__ - INFO - [app.py:565] - Starting LinguaSync Backend
2025-03-03 22:42:44,500 - __main__ - INFO - [app.py:566] - Starting Flask app on port 5001 using cpu
2025-03-03 22:42:44,500 - __main__ - INFO - [app.py:567] - Python version: 3.12.4 | packaged by Anaconda, Inc. | (main, Jun 18 2024, 10:07:17) [Clang 14.0.6 ]
2025-03-03 22:42:44,500 - __main__ - INFO - [app.py:568] - Supported languages: ['spa', 'fra', 'deu', 'ita', 'por', 'rus', 'jpn', 'cmn', 'cmn_Hant', 'ara', 'bel', 'bul', 'ces', 'dan', 'ell', 'epo', 'est', 'fin', 'heb', 'hrv', 'hun', 'lit', 'lav', 'mkd', 'nld', 'pol', 'ron', 'slk', 'slv', 'srp', 'tha', 'tur', 'vie']
2025-03-03 22:42:44,500 - __main__ - INFO - [app.py:569] - Maximum audio length: 300 seconds
2025-03-03 22:42:44,500 - __main__ - INFO - [app.py:570] - Sample rate: 16000 Hz
2025-03-03 22:42:44,500 - __main__ - INFO - [app.py:574] - System memory: 36.0GB total, 10.8GB available
2025-03-03 22:42:44,500 - __main__ - INFO - [app.py:575] - CPU cores: 11
2025-03-03 22:42:44,500 - __main__ - INFO - [app.py:583] - Configuration:
2025-03-03 22:42:44,500 - __main__ - INFO - [app.py:584] - - Debug mode: False
2025-03-03 22:42:44,500 - __main__ - INFO - [app.py:585] - - CORS enabled: True
2025-03-03 22:42:44,500 - __main__ - INFO - [app.py:586] - - Rate limiting: 10 requests per minute
2025-03-03 22:42:44,500 - __main__ - INFO - [app.py:587] - - Metrics enabled: True (port 8000)
2025-03-03 22:42:44,500 - __main__ - INFO - [app.py:589] - ==================================================
2025-03-03 22:45:26,524 - services.utils - INFO - [utils.py:57] - Performance - Function: process_audio_url, Duration: 0.00s, Memory Change: 0.27MB
2025-03-03 22:45:26,525 - __main__ - INFO - [app.py:279] - Request to /process-audio-url took 0.00s
2025-03-03 22:45:26,528 - services.audio_link_routes - INFO - [audio_link_routes.py:226] - Processing URL: https://www.tiktok.com/@fightjoe/video/7127311328095522053?lang=en&q=comedy&t=1737721075998
2025-03-03 22:45:26,528 - services.audio_link_routes - INFO - [audio_link_routes.py:246] - Processing TikTok URL
2025-03-03 22:45:26,529 - services.audio_link_routes - INFO - [audio_link_routes.py:130] - Using options for tiktok: {'format': 'bestaudio[ext=m4a]/bestaudio/best', 'outtmpl': '/var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpt4ons3_c/output', 'quiet': False, 'no_warnings': True, 'keepvideo': True, 'postprocessors': [{'key': 'FFmpegExtractAudio', 'preferredcodec': 'wav', 'preferredquality': '192'}], 'concurrent_fragment_downloads': 8, 'http_headers': {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language': 'en-us,en;q=0.5', 'Accept-Encoding': 'gzip,deflate', 'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7'}, 'nocheckcertificate': True, 'ignoreerrors': False, 'geo_bypass': True, 'extractor_args': {'tiktok': {'api_hostname': 'api22-normal-c-alisg.tiktokv.com', 'app_name': 'trill', 'app_version': '34.1.2', 'manifest_app_version': '2023401020', 'app_info': '1234567890123456789/trill///1180', 'device_id': '8816754702046351486'}}}
2025-03-03 22:45:28,360 - services.audio_link_routes - INFO - [audio_link_routes.py:143] - Successfully downloaded tiktok content
2025-03-03 22:45:28,361 - services.audio_link_routes - INFO - [audio_link_routes.py:162] - Found audio file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpt4ons3_c/output.wav
2025-03-03 22:45:28,366 - services.audio_link_routes - INFO - [audio_link_routes.py:174] - Successfully converted audio to WAV
2025-03-03 22:45:28,366 - services.audio_link_routes - INFO - [audio_link_routes.py:252] - Successfully processed audio
2025-03-03 22:45:28,366 - services.utils - INFO - [utils.py:57] - Performance - Function: process_audio_url, Duration: 1.84s, Memory Change: 38.05MB
2025-03-03 22:45:28,367 - __main__ - INFO - [app.py:279] - Request to /process-audio-url took 1.84s
2025-03-03 22:45:30,349 - services.model_manager - INFO - [model_manager.py:52] - Starting enhanced model verification
2025-03-03 22:45:30,351 - services.model_manager - INFO - [model_manager.py:63] - Testing clean_speech
2025-03-03 22:45:46,240 - services.model_manager - INFO - [model_manager.py:108] - Successfully verified clean_speech
2025-03-03 22:45:46,241 - services.model_manager - INFO - [model_manager.py:63] - Testing speech_with_music
2025-03-03 22:46:02,221 - services.model_manager - INFO - [model_manager.py:108] - Successfully verified speech_with_music
2025-03-03 22:46:02,221 - services.model_manager - INFO - [model_manager.py:110] - Model verification successful
2025-03-03 22:46:02,225 - services.translation_routes - INFO - [translation_routes.py:36] - Starting translation request 96600868
2025-03-03 22:46:02,225 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-03-03 22:46:02,225 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-03-03 22:46:02,226 - services.translation_routes - INFO - [translation_routes.py:97] - Request 96600868: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpax0dsncw.wav
2025-03-03 22:46:02,228 - services.audio_processor - INFO - [audio_processor.py:136] - Audio duration: 6.57 seconds
2025-03-03 22:46:02,228 - services.translation_routes - INFO - [translation_routes.py:112] - Request 96600868: Beginning audio processing with diagnostics
2025-03-03 22:46:02,228 - services.audio_processor - INFO - [audio_processor.py:280] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpax0dsncw.wav
2025-03-03 22:46:02,228 - services.audio_processor - INFO - [audio_processor.py:282] - Audio info - Sample rate: 16000, Channels: 1
2025-03-03 22:46:02,230 - services.audio_processor - INFO - [audio_processor.py:291] - Original audio shape: torch.Size([1, 105163]), Frequency: 16000Hz
2025-03-03 22:46:02,250 - services.audio_processor - INFO - [audio_processor.py:449] - Base audio processing successful, proceeding with enhancement
2025-03-03 22:46:02,261 - services.audio_processor - INFO - [audio_processor.py:457] - Background music analysis: {'has_background_music': False, 'music_confidence': 0.15608341036219223, 'feature_scores': {'spectral_flatness': 0.03820588165673722, 'rhythm_regularity': 0.023762376237623763, 'bass_presence': 0.039862824445829455, 'temporal_stability': 0.054252328022001785}, 'speech_vs_music': {'speech_prominence': 7.497730333222908, 'speech_band_energy': 2.2766175789001863e-07, 'music_band_energy': 3.0264089900811086e-08}}
2025-03-03 22:46:02,261 - services.audio_processor - INFO - [audio_processor.py:460] - Applying speech-optimized spectral enhancement for heb
2025-03-03 22:46:02,261 - services.audio_processor - WARNING - [audio_processor.py:365] - No specific parameters for heb, using defaults
2025-03-03 22:46:02,272 - services.audio_processor - INFO - [audio_processor.py:470] - Analyzing audio quality...
2025-03-03 22:46:02,290 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-03-03 22:46:02,293 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-03-03 22:46:02,299 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-03-03 22:46:02,299 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-03-03 22:46:02,303 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-03-03 22:46:02,303 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-03-03 22:46:02,307 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-03-03 22:46:02,308 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-03-03 22:46:02,448 - services.diagnostics.base - WARNING - [base.py:117] - No analyzer available for language: heb
2025-03-03 22:46:02,449 - services.translation_routes - INFO - [translation_routes.py:123] - 
==================================================
2025-03-03 22:46:02,449 - services.translation_routes - INFO - [translation_routes.py:124] - Input Audio Quality Report
2025-03-03 22:46:02,449 - services.translation_routes - INFO - [translation_routes.py:125] - ==================================================
2025-03-03 22:46:02,449 - services.translation_routes - INFO - [translation_routes.py:126] - Request ID: 96600868
2025-03-03 22:46:02,449 - services.translation_routes - INFO - [translation_routes.py:127] - Target Language: heb
2025-03-03 22:46:02,449 - services.translation_routes - INFO - [translation_routes.py:128] - --------------------------------------------------
2025-03-03 22:46:02,449 - services.translation_routes - INFO - [translation_routes.py:129] - Audio Quality Analysis Report
==============================

Target Language: heb

Waveform Analysis:
--------------------
- Peak Amplitude: 0.950
- Avg Amplitude: 0.026
- Rms Level: 0.076
- Crest Factor: 12.530
- Zero Crossings: 29106.000
- Silence Percentage: 62.741
- Clipping Points: 0.000
- Dynamic Range: 6753166.765

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.082
  - Temporal Flatness: 0.024

- Volume Metrics:
  - Volume Stability: -0.671
  - Volume Range: 28777495.027
  - Volume Variations: 0.065

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.012101101788277
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled
2025-03-03 22:46:02,449 - services.translation_routes - INFO - [translation_routes.py:130] - ==================================================

2025-03-03 22:46:02,449 - services.audio_processor - INFO - [audio_processor.py:280] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpax0dsncw.wav
2025-03-03 22:46:02,449 - services.audio_processor - INFO - [audio_processor.py:282] - Audio info - Sample rate: 16000, Channels: 1
2025-03-03 22:46:02,450 - services.audio_processor - INFO - [audio_processor.py:291] - Original audio shape: torch.Size([1, 105163]), Frequency: 16000Hz
2025-03-03 22:46:02,455 - services.audio_processor - INFO - [audio_processor.py:449] - Base audio processing successful, proceeding with enhancement
2025-03-03 22:46:02,458 - services.audio_processor - INFO - [audio_processor.py:457] - Background music analysis: {'has_background_music': False, 'music_confidence': 0.15608341036219223, 'feature_scores': {'spectral_flatness': 0.03820588165673722, 'rhythm_regularity': 0.023762376237623763, 'bass_presence': 0.039862824445829455, 'temporal_stability': 0.054252328022001785}, 'speech_vs_music': {'speech_prominence': 7.497730333222908, 'speech_band_energy': 2.2766175789001863e-07, 'music_band_energy': 3.0264089900811086e-08}}
2025-03-03 22:46:02,458 - services.audio_processor - INFO - [audio_processor.py:460] - Applying speech-optimized spectral enhancement for heb
2025-03-03 22:46:02,458 - services.audio_processor - WARNING - [audio_processor.py:365] - No specific parameters for heb, using defaults
2025-03-03 22:46:02,466 - services.audio_processor - INFO - [audio_processor.py:470] - Analyzing audio quality...
2025-03-03 22:46:02,479 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-03-03 22:46:02,479 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-03-03 22:46:02,484 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-03-03 22:46:02,484 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-03-03 22:46:02,489 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-03-03 22:46:02,489 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-03-03 22:46:02,494 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-03-03 22:46:02,494 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-03-03 22:46:02,635 - services.diagnostics.base - WARNING - [base.py:117] - No analyzer available for language: heb
2025-03-03 22:46:02,636 - services.translation_routes - INFO - [translation_routes.py:153] - Request 96600868: Background music analysis: {'has_background_music': False, 'music_confidence': 0.15608341036219223, 'feature_scores': {'spectral_flatness': 0.03820588165673722, 'rhythm_regularity': 0.023762376237623763, 'bass_presence': 0.039862824445829455, 'temporal_stability': 0.054252328022001785}, 'speech_vs_music': {'speech_prominence': 7.497730333222908, 'speech_band_energy': 2.2766175789001863e-07, 'music_band_energy': 3.0264089900811086e-08}}
2025-03-03 22:46:02,636 - services.translation_strategy - INFO - [translation_strategy.py:23] - Content Type: speech_with_music (Music confidence: 0.15608341036219223)
2025-03-03 22:46:02,636 - services.translation_routes - INFO - [translation_routes.py:165] - Request 96600868: Audio characteristics heard: {'content_type': 'speech_with_music', 'heard_characteristics': {'music': {'detected': False, 'confidence': 0.15608341036219223}}}
2025-03-03 22:46:02,636 - services.translation_routes - INFO - [translation_routes.py:167] - Request 96600868: Audio processed successfully
2025-03-03 22:46:02,644 - services.translation_routes - INFO - [translation_routes.py:184] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-03-03 22:46:07,907 - services.translation_routes - INFO - [translation_routes.py:223] - Source text: if you wouldn't fight what do you think it would be I would definitely be a diabetic
2025-03-03 22:46:13,510 - services.translation_routes - INFO - [translation_routes.py:243] - Target text: אם היית עושה את זה, מה אתה חושב שהיית עושה? -אני בהחלט הייתי סובל מסוכרת.
2025-03-03 22:46:13,510 - services.translation_routes - ERROR - [translation_routes.py:282] - Translation error: `tgt_lang=heb` is not supported by this model.
                    Please specify a `tgt_lang` in arb,ben,cat,ces,cmn,cym,dan,deu,eng,est,fin,fra,hin,ind,ita,jpn,kan,kor,mlt,nld,pes,pol,por,ron,rus,slk,spa,swe,swh,tam,tel,tgl,tha,tur,ukr,urd,uzn,vie. Note that SeamlessM4Tv2 supports
                    more languages for text translation than for speech synthesis.
2025-03-03 22:46:13,510 - services.translation_routes - INFO - [translation_routes.py:375] - Request 96600868 completed in 11.29s
2025-03-03 22:46:13,511 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 11.29s, Memory Change: 203.22MB
2025-03-03 22:46:13,511 - __main__ - INFO - [app.py:279] - Request to /translate took 43.16s
2025-03-03 22:46:30,752 - services.model_manager - INFO - [model_manager.py:52] - Starting enhanced model verification
2025-03-03 22:46:30,754 - services.model_manager - INFO - [model_manager.py:63] - Testing clean_speech
2025-03-03 22:46:50,159 - services.model_manager - INFO - [model_manager.py:108] - Successfully verified clean_speech
2025-03-03 22:46:50,159 - services.model_manager - INFO - [model_manager.py:63] - Testing speech_with_music
2025-03-03 22:47:10,583 - services.model_manager - INFO - [model_manager.py:108] - Successfully verified speech_with_music
2025-03-03 22:47:10,583 - services.model_manager - INFO - [model_manager.py:110] - Model verification successful
2025-03-03 22:47:10,587 - services.translation_routes - INFO - [translation_routes.py:36] - Starting translation request 94debd5e
2025-03-03 22:47:10,587 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-03-03 22:47:10,587 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-03-03 22:47:10,588 - services.translation_routes - INFO - [translation_routes.py:97] - Request 94debd5e: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmp8guf_qch.wav
2025-03-03 22:47:10,588 - services.audio_processor - INFO - [audio_processor.py:136] - Audio duration: 6.57 seconds
2025-03-03 22:47:10,588 - services.translation_routes - INFO - [translation_routes.py:112] - Request 94debd5e: Beginning audio processing with diagnostics
2025-03-03 22:47:10,588 - services.audio_processor - INFO - [audio_processor.py:280] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmp8guf_qch.wav
2025-03-03 22:47:10,588 - services.audio_processor - INFO - [audio_processor.py:282] - Audio info - Sample rate: 16000, Channels: 1
2025-03-03 22:47:10,591 - services.audio_processor - INFO - [audio_processor.py:291] - Original audio shape: torch.Size([1, 105163]), Frequency: 16000Hz
2025-03-03 22:47:10,597 - services.audio_processor - INFO - [audio_processor.py:449] - Base audio processing successful, proceeding with enhancement
2025-03-03 22:47:10,600 - services.audio_processor - INFO - [audio_processor.py:457] - Background music analysis: {'has_background_music': False, 'music_confidence': 0.15608341036219223, 'feature_scores': {'spectral_flatness': 0.03820588165673722, 'rhythm_regularity': 0.023762376237623763, 'bass_presence': 0.039862824445829455, 'temporal_stability': 0.054252328022001785}, 'speech_vs_music': {'speech_prominence': 7.497730333222908, 'speech_band_energy': 2.2766175789001863e-07, 'music_band_energy': 3.0264089900811086e-08}}
2025-03-03 22:47:10,600 - services.audio_processor - INFO - [audio_processor.py:460] - Applying speech-optimized spectral enhancement for heb
2025-03-03 22:47:10,600 - services.audio_processor - WARNING - [audio_processor.py:365] - No specific parameters for heb, using defaults
2025-03-03 22:47:10,612 - services.audio_processor - INFO - [audio_processor.py:470] - Analyzing audio quality...
2025-03-03 22:47:10,622 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-03-03 22:47:10,623 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-03-03 22:47:10,627 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-03-03 22:47:10,627 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-03-03 22:47:10,632 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-03-03 22:47:10,632 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-03-03 22:47:10,637 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-03-03 22:47:10,637 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-03-03 22:47:10,776 - services.diagnostics.base - WARNING - [base.py:117] - No analyzer available for language: heb
2025-03-03 22:47:10,776 - services.translation_routes - INFO - [translation_routes.py:123] - 
==================================================
2025-03-03 22:47:10,777 - services.translation_routes - INFO - [translation_routes.py:124] - Input Audio Quality Report
2025-03-03 22:47:10,777 - services.translation_routes - INFO - [translation_routes.py:125] - ==================================================
2025-03-03 22:47:10,777 - services.translation_routes - INFO - [translation_routes.py:126] - Request ID: 94debd5e
2025-03-03 22:47:10,777 - services.translation_routes - INFO - [translation_routes.py:127] - Target Language: heb
2025-03-03 22:47:10,777 - services.translation_routes - INFO - [translation_routes.py:128] - --------------------------------------------------
2025-03-03 22:47:10,777 - services.translation_routes - INFO - [translation_routes.py:129] - Audio Quality Analysis Report
==============================

Target Language: heb

Waveform Analysis:
--------------------
- Peak Amplitude: 0.950
- Avg Amplitude: 0.026
- Rms Level: 0.076
- Crest Factor: 12.530
- Zero Crossings: 29106.000
- Silence Percentage: 62.741
- Clipping Points: 0.000
- Dynamic Range: 6753166.765

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.082
  - Temporal Flatness: 0.024

- Volume Metrics:
  - Volume Stability: -0.671
  - Volume Range: 28777495.027
  - Volume Variations: 0.065

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.012101101788277
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled
2025-03-03 22:47:10,777 - services.translation_routes - INFO - [translation_routes.py:130] - ==================================================

2025-03-03 22:47:10,777 - services.audio_processor - INFO - [audio_processor.py:280] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmp8guf_qch.wav
2025-03-03 22:47:10,777 - services.audio_processor - INFO - [audio_processor.py:282] - Audio info - Sample rate: 16000, Channels: 1
2025-03-03 22:47:10,777 - services.audio_processor - INFO - [audio_processor.py:291] - Original audio shape: torch.Size([1, 105163]), Frequency: 16000Hz
2025-03-03 22:47:10,783 - services.audio_processor - INFO - [audio_processor.py:449] - Base audio processing successful, proceeding with enhancement
2025-03-03 22:47:10,785 - services.audio_processor - INFO - [audio_processor.py:457] - Background music analysis: {'has_background_music': False, 'music_confidence': 0.15608341036219223, 'feature_scores': {'spectral_flatness': 0.03820588165673722, 'rhythm_regularity': 0.023762376237623763, 'bass_presence': 0.039862824445829455, 'temporal_stability': 0.054252328022001785}, 'speech_vs_music': {'speech_prominence': 7.497730333222908, 'speech_band_energy': 2.2766175789001863e-07, 'music_band_energy': 3.0264089900811086e-08}}
2025-03-03 22:47:10,785 - services.audio_processor - INFO - [audio_processor.py:460] - Applying speech-optimized spectral enhancement for heb
2025-03-03 22:47:10,785 - services.audio_processor - WARNING - [audio_processor.py:365] - No specific parameters for heb, using defaults
2025-03-03 22:47:10,795 - services.audio_processor - INFO - [audio_processor.py:470] - Analyzing audio quality...
2025-03-03 22:47:10,805 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-03-03 22:47:10,805 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-03-03 22:47:10,809 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-03-03 22:47:10,809 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-03-03 22:47:10,813 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-03-03 22:47:10,814 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-03-03 22:47:10,818 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-03-03 22:47:10,818 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-03-03 22:47:10,960 - services.diagnostics.base - WARNING - [base.py:117] - No analyzer available for language: heb
2025-03-03 22:47:10,960 - services.translation_routes - INFO - [translation_routes.py:153] - Request 94debd5e: Background music analysis: {'has_background_music': False, 'music_confidence': 0.15608341036219223, 'feature_scores': {'spectral_flatness': 0.03820588165673722, 'rhythm_regularity': 0.023762376237623763, 'bass_presence': 0.039862824445829455, 'temporal_stability': 0.054252328022001785}, 'speech_vs_music': {'speech_prominence': 7.497730333222908, 'speech_band_energy': 2.2766175789001863e-07, 'music_band_energy': 3.0264089900811086e-08}}
2025-03-03 22:47:10,960 - services.translation_strategy - INFO - [translation_strategy.py:23] - Content Type: speech_with_music (Music confidence: 0.15608341036219223)
2025-03-03 22:47:10,960 - services.translation_routes - INFO - [translation_routes.py:165] - Request 94debd5e: Audio characteristics heard: {'content_type': 'speech_with_music', 'heard_characteristics': {'music': {'detected': False, 'confidence': 0.15608341036219223}}}
2025-03-03 22:47:10,960 - services.translation_routes - INFO - [translation_routes.py:167] - Request 94debd5e: Audio processed successfully
2025-03-03 22:47:10,966 - services.translation_routes - INFO - [translation_routes.py:184] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-03-03 22:47:16,231 - services.translation_routes - INFO - [translation_routes.py:223] - Source text: if you wouldn't fight what do you think it would be I would definitely be a diabetic
2025-03-03 22:47:21,727 - services.translation_routes - INFO - [translation_routes.py:243] - Target text: אם היית עושה את זה, מה אתה חושב שהיית עושה? -אני בהחלט הייתי סובל מסוכרת.
2025-03-03 22:47:21,728 - services.translation_routes - ERROR - [translation_routes.py:282] - Translation error: `tgt_lang=heb` is not supported by this model.
                    Please specify a `tgt_lang` in arb,ben,cat,ces,cmn,cym,dan,deu,eng,est,fin,fra,hin,ind,ita,jpn,kan,kor,mlt,nld,pes,pol,por,ron,rus,slk,spa,swe,swh,tam,tel,tgl,tha,tur,ukr,urd,uzn,vie. Note that SeamlessM4Tv2 supports
                    more languages for text translation than for speech synthesis.
2025-03-03 22:47:21,728 - services.translation_routes - INFO - [translation_routes.py:375] - Request 94debd5e completed in 11.14s
2025-03-03 22:47:21,730 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 11.14s, Memory Change: 107.98MB
2025-03-03 22:47:21,730 - __main__ - INFO - [app.py:279] - Request to /translate took 50.98s
2025-03-03 23:17:10,304 - __main__ - INFO - [app.py:218] - Received SIGINT signal
2025-03-03 23:17:10,306 - __main__ - INFO - [app.py:203] - Initiating graceful shutdown...
2025-03-03 23:17:15,312 - __main__ - INFO - [app.py:509] - Application shutting down...
2025-03-03 23:17:15,313 - services.model_manager - INFO - [model_manager.py:233] - Cleaning up model resources
2025-03-03 23:17:15,314 - services.model_manager - INFO - [model_manager.py:246] - Model cleanup completed successfully
2025-03-03 23:17:15,317 - __main__ - INFO - [app.py:491] - Cleanup complete: removed 0 files, freed 0.00MB
2025-03-03 23:17:15,318 - __main__ - INFO - [app.py:523] - Cleanup completed successfully
2025-03-03 23:17:15,319 - __main__ - INFO - [app.py:207] - Graceful shutdown completed
2025-03-03 23:17:15,321 - __main__ - INFO - [app.py:509] - Application shutting down...
2025-03-03 23:17:15,321 - services.model_manager - INFO - [model_manager.py:233] - Cleaning up model resources
2025-03-03 23:17:15,321 - services.model_manager - INFO - [model_manager.py:246] - Model cleanup completed successfully
2025-03-03 23:17:15,322 - __main__ - INFO - [app.py:491] - Cleanup complete: removed 0 files, freed 0.00MB
2025-03-03 23:17:15,322 - __main__ - INFO - [app.py:523] - Cleanup completed successfully
2025-03-03 23:17:15,323 - __main__ - INFO - [app.py:509] - Application shutting down...
2025-03-03 23:17:15,323 - services.model_manager - INFO - [model_manager.py:233] - Cleaning up model resources
2025-03-03 23:17:15,324 - services.model_manager - INFO - [model_manager.py:246] - Model cleanup completed successfully
2025-03-03 23:17:15,325 - __main__ - INFO - [app.py:491] - Cleanup complete: removed 0 files, freed 0.00MB
2025-03-03 23:17:15,325 - __main__ - INFO - [app.py:523] - Cleanup completed successfully
2025-03-03 23:17:28,649 - __main__ - INFO - [app.py:540] - Metrics server started on port 8000
2025-03-03 23:17:28,649 - services.model_manager - INFO - [model_manager.py:120] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-03-03 23:17:41,668 - services.model_manager - INFO - [model_manager.py:184] - Models loaded on CPU
2025-03-03 23:17:41,669 - services.model_manager - INFO - [model_manager.py:52] - Starting enhanced model verification
2025-03-03 23:17:41,670 - services.model_manager - INFO - [model_manager.py:63] - Testing clean_speech
2025-03-03 23:18:07,248 - services.model_manager - INFO - [model_manager.py:108] - Successfully verified clean_speech
2025-03-03 23:18:07,248 - services.model_manager - INFO - [model_manager.py:63] - Testing speech_with_music
2025-03-03 23:18:23,002 - services.model_manager - INFO - [model_manager.py:108] - Successfully verified speech_with_music
2025-03-03 23:18:23,003 - services.model_manager - INFO - [model_manager.py:110] - Model verification successful
2025-03-03 23:18:23,006 - services.model_manager - INFO - [model_manager.py:190] - Model initialization successful
2025-03-03 23:18:23,006 - services.model_manager - INFO - [model_manager.py:52] - Starting enhanced model verification
2025-03-03 23:18:23,006 - services.model_manager - INFO - [model_manager.py:63] - Testing clean_speech
2025-03-03 23:18:40,837 - services.model_manager - INFO - [model_manager.py:108] - Successfully verified clean_speech
2025-03-03 23:18:40,838 - services.model_manager - INFO - [model_manager.py:63] - Testing speech_with_music
2025-03-03 23:18:56,646 - services.model_manager - INFO - [model_manager.py:108] - Successfully verified speech_with_music
2025-03-03 23:18:56,646 - services.model_manager - INFO - [model_manager.py:110] - Model verification successful
2025-03-03 23:18:56,648 - __main__ - INFO - [app.py:491] - Cleanup complete: removed 0 files, freed 0.00MB
2025-03-03 23:18:56,648 - __main__ - INFO - [app.py:564] - ==================================================
2025-03-03 23:18:56,648 - __main__ - INFO - [app.py:565] - Starting LinguaSync Backend
2025-03-03 23:18:56,649 - __main__ - INFO - [app.py:566] - Starting Flask app on port 5001 using cpu
2025-03-03 23:18:56,649 - __main__ - INFO - [app.py:567] - Python version: 3.12.4 | packaged by Anaconda, Inc. | (main, Jun 18 2024, 10:07:17) [Clang 14.0.6 ]
2025-03-03 23:18:56,649 - __main__ - INFO - [app.py:568] - Supported languages: ['spa', 'fra', 'deu', 'ita', 'por', 'rus', 'jpn', 'cmn', 'cmn_Hant', 'ara', 'bel', 'bul', 'ces', 'dan', 'ell', 'epo', 'est', 'fin', 'heb', 'hrv', 'hun', 'lit', 'lav', 'mkd', 'nld', 'pol', 'ron', 'slk', 'slv', 'srp', 'tha', 'tur', 'vie']
2025-03-03 23:18:56,649 - __main__ - INFO - [app.py:569] - Maximum audio length: 300 seconds
2025-03-03 23:18:56,649 - __main__ - INFO - [app.py:570] - Sample rate: 16000 Hz
2025-03-03 23:18:56,649 - __main__ - INFO - [app.py:574] - System memory: 36.0GB total, 10.5GB available
2025-03-03 23:18:56,649 - __main__ - INFO - [app.py:575] - CPU cores: 11
2025-03-03 23:18:56,649 - __main__ - INFO - [app.py:583] - Configuration:
2025-03-03 23:18:56,649 - __main__ - INFO - [app.py:584] - - Debug mode: False
2025-03-03 23:18:56,649 - __main__ - INFO - [app.py:585] - - CORS enabled: True
2025-03-03 23:18:56,649 - __main__ - INFO - [app.py:586] - - Rate limiting: 10 requests per minute
2025-03-03 23:18:56,649 - __main__ - INFO - [app.py:587] - - Metrics enabled: True (port 8000)
2025-03-03 23:18:56,649 - __main__ - INFO - [app.py:589] - ==================================================
2025-03-03 23:19:56,268 - services.utils - INFO - [utils.py:57] - Performance - Function: process_audio_url, Duration: 0.00s, Memory Change: 0.12MB
2025-03-03 23:19:56,268 - __main__ - INFO - [app.py:279] - Request to /process-audio-url took 0.00s
2025-03-03 23:19:56,271 - services.audio_link_routes - INFO - [audio_link_routes.py:226] - Processing URL: https://www.tiktok.com/@fightjoe/video/7127311328095522053
2025-03-03 23:19:56,272 - services.audio_link_routes - INFO - [audio_link_routes.py:246] - Processing TikTok URL
2025-03-03 23:19:56,272 - services.audio_link_routes - INFO - [audio_link_routes.py:130] - Using options for tiktok: {'format': 'bestaudio[ext=m4a]/bestaudio/best', 'outtmpl': '/var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmp69kxbl7c/output', 'quiet': False, 'no_warnings': True, 'keepvideo': True, 'postprocessors': [{'key': 'FFmpegExtractAudio', 'preferredcodec': 'wav', 'preferredquality': '192'}], 'concurrent_fragment_downloads': 8, 'http_headers': {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language': 'en-us,en;q=0.5', 'Accept-Encoding': 'gzip,deflate', 'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7'}, 'nocheckcertificate': True, 'ignoreerrors': False, 'geo_bypass': True, 'extractor_args': {'tiktok': {'api_hostname': 'api22-normal-c-alisg.tiktokv.com', 'app_name': 'trill', 'app_version': '34.1.2', 'manifest_app_version': '2023401020', 'app_info': '1234567890123456789/trill///1180', 'device_id': '9442294788502106832'}}}
2025-03-03 23:19:57,671 - services.audio_link_routes - INFO - [audio_link_routes.py:143] - Successfully downloaded tiktok content
2025-03-03 23:19:57,672 - services.audio_link_routes - INFO - [audio_link_routes.py:162] - Found audio file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmp69kxbl7c/output.wav
2025-03-03 23:19:57,677 - services.audio_link_routes - INFO - [audio_link_routes.py:174] - Successfully converted audio to WAV
2025-03-03 23:19:57,677 - services.audio_link_routes - INFO - [audio_link_routes.py:252] - Successfully processed audio
2025-03-03 23:19:57,678 - services.utils - INFO - [utils.py:57] - Performance - Function: process_audio_url, Duration: 1.41s, Memory Change: 11.44MB
2025-03-03 23:19:57,678 - __main__ - INFO - [app.py:279] - Request to /process-audio-url took 1.41s
2025-03-03 23:19:59,382 - services.model_manager - INFO - [model_manager.py:52] - Starting enhanced model verification
2025-03-03 23:19:59,383 - services.model_manager - INFO - [model_manager.py:63] - Testing clean_speech
2025-03-03 23:20:17,141 - services.model_manager - INFO - [model_manager.py:108] - Successfully verified clean_speech
2025-03-03 23:20:17,141 - services.model_manager - INFO - [model_manager.py:63] - Testing speech_with_music
2025-03-03 23:20:35,729 - services.model_manager - INFO - [model_manager.py:108] - Successfully verified speech_with_music
2025-03-03 23:20:35,733 - services.model_manager - INFO - [model_manager.py:110] - Model verification successful
2025-03-03 23:20:35,736 - services.translation_routes - INFO - [translation_routes.py:36] - Starting translation request 32b9eece
2025-03-03 23:20:35,736 - services.translation_routes - ERROR - [translation_routes.py:62] - Request 32b9eece: Unsupported language hin
2025-03-03 23:20:35,736 - services.translation_routes - INFO - [translation_routes.py:375] - Request 32b9eece completed in 0.00s
2025-03-03 23:20:35,737 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 0.00s, Memory Change: 0.23MB
2025-03-03 23:20:35,737 - __main__ - INFO - [app.py:279] - Request to /translate took 36.36s
2025-03-18 22:40:37,236 - __main__ - INFO - [app.py:544] - Metrics server started on port 8000
2025-03-18 22:40:37,237 - services.model_manager - INFO - [model_manager.py:120] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-03-18 22:40:52,059 - services.model_manager - INFO - [model_manager.py:184] - Models loaded on CPU
2025-03-18 22:40:52,059 - services.model_manager - INFO - [model_manager.py:52] - Starting enhanced model verification
2025-03-18 22:40:52,062 - services.model_manager - INFO - [model_manager.py:63] - Testing clean_speech
2025-03-18 22:41:23,027 - services.model_manager - INFO - [model_manager.py:108] - Successfully verified clean_speech
2025-03-18 22:41:23,027 - services.model_manager - INFO - [model_manager.py:63] - Testing speech_with_music
2025-03-18 22:41:40,246 - services.model_manager - INFO - [model_manager.py:108] - Successfully verified speech_with_music
2025-03-18 22:41:40,247 - services.model_manager - INFO - [model_manager.py:110] - Model verification successful
2025-03-18 22:41:40,249 - services.model_manager - INFO - [model_manager.py:190] - Model initialization successful
2025-03-18 22:41:40,249 - services.model_manager - INFO - [model_manager.py:52] - Starting enhanced model verification
2025-03-18 22:41:40,249 - services.model_manager - INFO - [model_manager.py:63] - Testing clean_speech
2025-03-18 22:42:00,384 - services.model_manager - INFO - [model_manager.py:108] - Successfully verified clean_speech
2025-03-18 22:42:00,385 - services.model_manager - INFO - [model_manager.py:63] - Testing speech_with_music
2025-03-18 22:42:16,568 - services.model_manager - INFO - [model_manager.py:108] - Successfully verified speech_with_music
2025-03-18 22:42:16,568 - services.model_manager - INFO - [model_manager.py:110] - Model verification successful
2025-03-18 22:42:16,573 - __main__ - INFO - [app.py:495] - Cleanup complete: removed 0 files, freed 0.00MB
2025-03-18 22:42:16,573 - __main__ - INFO - [app.py:568] - ==================================================
2025-03-18 22:42:16,573 - __main__ - INFO - [app.py:569] - Starting LinguaSync Backend
2025-03-18 22:42:16,573 - __main__ - INFO - [app.py:570] - Starting Flask app on port 5001 using cpu
2025-03-18 22:42:16,573 - __main__ - INFO - [app.py:571] - Python version: 3.12.4 | packaged by Anaconda, Inc. | (main, Jun 18 2024, 10:07:17) [Clang 14.0.6 ]
2025-03-18 22:42:16,573 - __main__ - INFO - [app.py:572] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por', 'rus', 'jpn', 'cmn', 'ukr', 'ben', 'cat', 'cmn_Hant', 'cym', 'dan', 'eng', 'est', 'fin', 'hin', 'ind', 'kor', 'mlt', 'nld', 'pes', 'pol', 'ron', 'slk', 'swe', 'swh', 'tel', 'tgl', 'tha', 'tur', 'urd', 'uzn', 'vie']
2025-03-18 22:42:16,573 - __main__ - INFO - [app.py:573] - Maximum audio length: 300 seconds
2025-03-18 22:42:16,573 - __main__ - INFO - [app.py:574] - Sample rate: 16000 Hz
2025-03-18 22:42:16,573 - __main__ - INFO - [app.py:578] - System memory: 36.0GB total, 13.9GB available
2025-03-18 22:42:16,573 - __main__ - INFO - [app.py:579] - CPU cores: 11
2025-03-18 22:42:16,573 - __main__ - INFO - [app.py:587] - Configuration:
2025-03-18 22:42:16,573 - __main__ - INFO - [app.py:588] - - Debug mode: False
2025-03-18 22:42:16,573 - __main__ - INFO - [app.py:589] - - CORS enabled: True
2025-03-18 22:42:16,573 - __main__ - INFO - [app.py:590] - - Rate limiting: 10 requests per minute
2025-03-18 22:42:16,573 - __main__ - INFO - [app.py:591] - - Metrics enabled: True (port 8000)
2025-03-18 22:42:16,573 - __main__ - INFO - [app.py:593] - ==================================================
2025-03-18 22:43:42,448 - services.video_routes - INFO - [video_routes.py:890] - Received video processing request for language: fra
2025-03-18 22:43:42,448 - services.video_routes - INFO - [video_routes.py:901] - Processing video: lipsync(English).mov for language: fra
2025-03-18 22:43:42,448 - services.video_routes - INFO - [video_routes.py:32] - Initializing VideoProcessor
2025-03-18 22:43:42,448 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-03-18 22:43:42,449 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-03-18 22:43:42,449 - services.model_manager - INFO - [model_manager.py:52] - Starting enhanced model verification
2025-03-18 22:43:42,449 - services.model_manager - INFO - [model_manager.py:63] - Testing clean_speech
2025-03-18 22:44:08,591 - services.model_manager - INFO - [model_manager.py:108] - Successfully verified clean_speech
2025-03-18 22:44:08,591 - services.model_manager - INFO - [model_manager.py:63] - Testing speech_with_music
2025-03-18 22:44:28,140 - services.model_manager - INFO - [model_manager.py:108] - Successfully verified speech_with_music
2025-03-18 22:44:28,140 - services.model_manager - INFO - [model_manager.py:110] - Model verification successful
2025-03-18 22:44:28,146 - services.video_routes - INFO - [video_routes.py:37] - Using device: cpu
2025-03-18 22:44:28,146 - services.video_routes - INFO - [video_routes.py:42] - Temp directory: temp
2025-03-18 22:44:28,146 - services.video_routes - INFO - [video_routes.py:49] - Checking Wav2Lip setup...
2025-03-18 22:44:28,146 - services.video_routes - INFO - [video_routes.py:56] - Wav2Lip directory found: /Users/robmills/audio-translation/Backend/Wav2Lip
2025-03-18 22:44:28,147 - services.video_routes - INFO - [video_routes.py:71] - ✓ Inference script found: Wav2Lip/inference.py (9750 bytes)
2025-03-18 22:44:28,147 - services.video_routes - INFO - [video_routes.py:71] - ✓ Audio processing module found: Wav2Lip/audio.py (4508 bytes)
2025-03-18 22:44:28,147 - services.video_routes - INFO - [video_routes.py:71] - ✓ Face detection API found: Wav2Lip/face_detection/api.py (2266 bytes)
2025-03-18 22:44:28,149 - services.video_routes - INFO - [video_routes.py:71] - ✓ Face detection model found: Wav2Lip/face_detection/detection/sfd/s3fd.pth (89843225 bytes)
2025-03-18 22:44:28,149 - services.video_routes - INFO - [video_routes.py:71] - ✓ Primary model checkpoint found: Wav2Lip/checkpoints/wav2lip.pth (435807851 bytes)
2025-03-18 22:44:28,149 - services.video_routes - WARNING - [video_routes.py:73] - ✗ GAN model checkpoint (optional) not found: Wav2Lip/checkpoints/wav2lip_gan.pth
2025-03-18 22:44:28,149 - services.utils - INFO - [utils.py:57] - Performance - Function: process_video, Duration: 45.70s, Memory Change: 154.41MB
2025-03-18 22:44:28,149 - __main__ - INFO - [app.py:279] - Request to /process-video took 45.70s
2025-03-18 22:44:28,149 - services.video_routes - INFO - [video_routes.py:720] - Starting video processing for language: fra
2025-03-18 22:44:28,149 - services.video_routes - INFO - [video_routes.py:725] - Input video filename: lipsync(English).mov, content type: video/quicktime
2025-03-18 22:44:28,167 - services.video_routes - INFO - [video_routes.py:734] - Saved uploaded video (size: 35740094 bytes)
2025-03-18 22:44:28,168 - services.video_routes - INFO - [video_routes.py:82] - Extracting audio from /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpgdgpchha.mp4
2025-03-18 22:44:28,168 - services.video_routes - INFO - [video_routes.py:94] - Running FFmpeg command: ffmpeg -y -i /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpgdgpchha.mp4 -vn -acodec pcm_s16le -ar 16000 -ac 1 temp/temp_audio.wav
2025-03-18 22:44:28,708 - services.video_routes - INFO - [video_routes.py:105] - Audio successfully extracted to temp/temp_audio.wav (size: 853040 bytes)
2025-03-18 22:44:28,709 - services.video_routes - INFO - [video_routes.py:341] - Detecting speech start in temp/temp_audio.wav
2025-03-18 22:44:28,715 - services.video_routes - INFO - [video_routes.py:383] - Detected speech start at 0.390 seconds
2025-03-18 22:44:28,716 - services.video_routes - INFO - [video_routes.py:749] - Detected speech starts at: 0.39 seconds
2025-03-18 22:44:28,716 - services.audio_processor - INFO - [audio_processor.py:280] - Loading audio from: temp/temp_audio.wav
2025-03-18 22:44:28,716 - services.audio_processor - INFO - [audio_processor.py:282] - Audio info - Sample rate: 16000, Channels: 1
2025-03-18 22:44:28,719 - services.audio_processor - INFO - [audio_processor.py:291] - Original audio shape: torch.Size([1, 426481]), Frequency: 16000Hz
2025-03-18 22:44:28,755 - services.video_routes - INFO - [video_routes.py:184] - Translating audio of shape torch.Size([1, 426240]) to language fra
2025-03-18 22:44:28,782 - services.video_routes - INFO - [video_routes.py:209] - Generating text translation in fra
2025-03-18 22:44:40,667 - services.video_routes - INFO - [video_routes.py:218] - Generated text: Donc je vais parler en anglais et cette vidéo va être convertie en une autre langue et mes lèvres seront synchronisées avec le discours de cette autre langue.
2025-03-18 22:44:40,667 - services.video_routes - INFO - [video_routes.py:221] - Generating translated speech for language fra
2025-03-18 22:44:52,634 - services.video_routes - INFO - [video_routes.py:233] - Speech generation completed in 11.97 seconds
2025-03-18 22:44:52,635 - services.video_routes - INFO - [video_routes.py:262] - Translation successful, audio shape: torch.Size([1, 111680])
2025-03-18 22:44:52,636 - services.video_routes - INFO - [video_routes.py:765] - Translation completed in 23.88 seconds
2025-03-18 22:44:52,636 - services.video_routes - INFO - [video_routes.py:155] - Saving audio tensor of shape torch.Size([1, 111680]) to temp/translated_audio.wav
2025-03-18 22:44:52,637 - services.video_routes - INFO - [video_routes.py:175] - Audio saved successfully to temp/translated_audio.wav (size: 223404 bytes)
2025-03-18 22:44:52,637 - services.video_routes - INFO - [video_routes.py:392] - Detecting face in /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpgdgpchha.mp4
2025-03-18 22:44:55,455 - services.video_routes - INFO - [video_routes.py:458] - Selected face detected with bounding box: (693, 344, 1040, 841)
2025-03-18 22:44:55,456 - services.video_routes - INFO - [video_routes.py:785] - Face detection completed in 2.82 seconds, result: True
2025-03-18 22:44:55,457 - services.video_routes - INFO - [video_routes.py:800] - Attempting lip sync with Wav2Lip
2025-03-18 22:44:55,457 - services.video_routes - INFO - [video_routes.py:467] - Starting lip sync with Wav2Lip: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpgdgpchha.mp4 + temp/translated_audio.wav
2025-03-18 22:44:55,804 - services.video_routes - INFO - [video_routes.py:564] - Running Wav2Lip with command: python Wav2Lip/inference.py --checkpoint_path Wav2Lip/checkpoints/wav2lip.pth --face /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpgdgpchha.mp4 --audio temp/translated_audio.wav --outfile temp/synced_video.mp4 --nosmooth --pads 0 20 0 0 --resize_factor 2
2025-03-18 22:47:39,490 - services.video_routes - INFO - [video_routes.py:577] - Process stdout: Using cpu for inference.
Reading video frames...
Number of frames available for inference: 801
(80, 559)
Length of mel chunks: 206
Load checkpoint from: Wav2Lip/checkpoints/wav2lip.pth
Model loaded

2025-03-18 22:47:39,490 - services.video_routes - ERROR - [video_routes.py:582] - Process stderr: 
  0%|          | 0/2 [00:00<?, ?it/s]/Users/robmills/audio-translation/Backend/Wav2Lip/face_detection/detection/sfd/sfd_detector.py:24: FutureWarning: You are using `torch.load` with `weights_only=False` (the current default value), which uses the default pickle module implicitly. It is possible to construct malicious pickle data which will execute arbitrary code during unpickling (See https://github.com/pytorch/pytorch/blob/main/SECURITY.md#untrusted-models for more details). In a future release, the default value for `weights_only` will be flipped to `True`. This limits the functions that could be executed during unpickling. Arbitrary objects will no longer be allowed to be loaded via this mode unless they are explicitly allowlisted by the user via `torch.serialization.add_safe_globals`. We recommend you start setting `weights_only=True` for any use case where you don't have full control of the loaded file. Please open an issue on GitHub for any issues related to this experimental feature.
  model_weights = torch.load(path_to_detector)


  0%|          | 0/13 [00:00<?, ?it/s][A

  8%|▊         | 1/13 [00:13<02:36, 13.05s/it][A

 15%|█▌        | 2/13 [00:25<02:17, 12.47s/it][A

 23%|██▎       | 3/13 [00:37<02:04, 12.49s/it][A

 31%|███       | 4/13 [00:49<01:51, 12.42s/it][A

 38%|███▊      | 5/13 [01:02<01:40, 12.55s/it][A

 46%|████▌     | 6/13 [01:15<01:27, 12.48s/it][A

 54%|█████▍    | 7/13 [01:26<01:13, 12.19s/it][A

 62%|██████▏   | 8/13 [01:38<01:00, 12.01s/it][A

 69%|██████▉   | 9/13 [01:49<00:47, 11.80s/it][A

 77%|███████▋  | 10/13 [02:00<00:34, 11.62s/it][A

 85%|████████▍ | 11/13 [02:12<00:22, 11.49s/it][A

 92%|█████████▏| 12/13 [02:23<00:11, 11.38s/it][A

100%|██████████| 13/13 [02:34<00:00, 11.37s/it][A
100%|██████████| 13/13 [02:34<00:00, 11.89s/it]
/Users/robmills/audio-translation/Backend/Wav2Lip/inference.py:164: FutureWarning: You are using `torch.load` with `weights_only=False` (the current default value), which uses the default pickle module implicitly. It is possible to construct malicious pickle data which will execute arbitrary code during unpickling (See https://github.com/pytorch/pytorch/blob/main/SECURITY.md#untrusted-models for more details). In a future release, the default value for `weights_only` will be flipped to `True`. This limits the functions that could be executed during unpickling. Arbitrary objects will no longer be allowed to be loaded via this mode unless they are explicitly allowlisted by the user via `torch.serialization.add_safe_globals`. We recommend you start setting `weights_only=True` for any use case where you don't have full control of the loaded file. Please open an issue on GitHub for any issues related to this experimental feature.
  checkpoint = torch.load(checkpoint_path,

 50%|█████     | 1/2 [02:37<02:37, 157.79s/it]
100%|██████████| 2/2 [02:39<00:00, 66.08s/it] 
100%|██████████| 2/2 [02:39<00:00, 79.83s/it]
ffmpeg version 7.1 Copyright (c) 2000-2024 the FFmpeg developers
  built with Apple clang version 16.0.0 (clang-1600.0.26.4)
  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/7.1_4 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon
  libavutil      59. 39.100 / 59. 39.100
  libavcodec     61. 19.100 / 61. 19.100
  libavformat    61.  7.100 / 61.  7.100
  libavdevice    61.  3.100 / 61.  3.100
  libavfilter    10.  4.100 / 10.  4.100
  libswscale      8.  3.100 /  8.  3.100
  libswresample   5.  3.100 /  5.  3.100
  libpostproc    58.  3.100 / 58.  3.100
[aist#0:0/pcm_s16le @ 0x142605fc0] Guessed Channel Layout: mono
Input #0, wav, from 'temp/translated_audio.wav':
  Duration: 00:00:06.98, bitrate: 256 kb/s
  Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 16000 Hz, mono, s16, 256 kb/s
Input #1, avi, from 'temp/result.avi':
  Metadata:
    software        : Lavf61.7.100
  Duration: 00:00:06.87, start: 0.000000, bitrate: 809 kb/s
  Stream #1:0: Video: mpeg4 (Simple Profile) (DIVX / 0x58564944), yuv420p, 810x540 [SAR 1:1 DAR 3:2], 801 kb/s, 30 fps, 30 tbr, 30 tbn
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x14260bc80] -qscale is ignored, -crf is recommended.
[libx264 @ 0x14260bc80] using SAR=1/1
[libx264 @ 0x14260bc80] using cpu capabilities: ARMv8 NEON
[libx264 @ 0x14260bc80] profile High, level 3.1, 4:2:0, 8-bit
[libx264 @ 0x14260bc80] 264 - core 164 r3108 31e19f9 - H.264/MPEG-4 AVC codec - Copyleft 2003-2023 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=16 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'temp/synced_video.mp4':
  Metadata:
    encoder         : Lavf61.7.100
  Stream #0:0: Video: h264 (avc1 / 0x31637661), yuv420p(tv, progressive), 810x540 [SAR 1:1 DAR 3:2], q=2-31, 30 fps, 15360 tbn
      Metadata:
        encoder         : Lavc61.19.100 libx264
      Side data:
        cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: N/A
  Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 16000 Hz, mono, fltp, 69 kb/s
      Metadata:
        encoder         : Lavc61.19.100 aac
[out#0/mp4 @ 0x1426091d0] video:342KiB audio:67KiB subtitle:0KiB other streams:0KiB global headers:0KiB muxing overhead: 1.299943%
frame=  206 fps=0.0 q=-1.0 Lsize=     415KiB time=00:00:06.80 bitrate= 499.6kbits/s speed=24.1x    
[libx264 @ 0x14260bc80] frame I:1     Avg QP:19.06  size: 13470
[libx264 @ 0x14260bc80] frame P:56    Avg QP:19.88  size:  4033
[libx264 @ 0x14260bc80] frame B:149   Avg QP:22.38  size:   739
[libx264 @ 0x14260bc80] consecutive B-frames:  0.5%  8.7%  1.5% 89.3%
[libx264 @ 0x14260bc80] mb I  I16..4: 32.1% 67.1%  0.7%
[libx264 @ 0x14260bc80] mb P  I16..4:  3.2%  8.8%  0.1%  P16..4: 40.3%  7.2%  3.9%  0.0%  0.0%    skip:36.6%
[libx264 @ 0x14260bc80] mb B  I16..4:  0.3%  1.5%  0.0%  B16..8: 25.8%  0.6%  0.0%  direct: 0.4%  skip:71.3%  L0:50.2% L1:49.2% BI: 0.6%
[libx264 @ 0x14260bc80] 8x8 transform intra:74.9% inter:88.8%
[libx264 @ 0x14260bc80] coded y,uvDC,uvAC intra: 33.2% 48.5% 3.7% inter: 3.5% 7.2% 0.0%
[libx264 @ 0x14260bc80] i16 v,h,dc,p: 23% 24% 31% 22%
[libx264 @ 0x14260bc80] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 15% 15% 64%  1%  1%  1%  1%  1%  1%
[libx264 @ 0x14260bc80] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 21% 20% 45%  4%  2%  2%  2%  2%  2%
[libx264 @ 0x14260bc80] i8c dc,h,v,p: 50% 20% 27%  3%
[libx264 @ 0x14260bc80] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x14260bc80] ref P L0: 64.7%  5.7% 20.2%  9.4%
[libx264 @ 0x14260bc80] ref B L0: 81.1% 15.1%  3.8%
[libx264 @ 0x14260bc80] ref B L1: 96.0%  4.0%
[libx264 @ 0x14260bc80] kb/s:407.16
[aac @ 0x143226f70] Qavg: 3823.135

2025-03-18 22:47:39,491 - services.video_routes - INFO - [video_routes.py:674] - Wav2Lip process completed successfully. Output saved to temp/synced_video.mp4
2025-03-18 22:47:39,491 - services.video_routes - INFO - [video_routes.py:686] - Output file verified: temp/synced_video.mp4 (size: 424699 bytes)
2025-03-18 22:47:39,571 - services.video_routes - INFO - [video_routes.py:808] - Lip sync attempt completed in 164.11 seconds, success: True
2025-03-18 22:47:39,571 - services.video_routes - INFO - [video_routes.py:846] - Final video created: temp/synced_video.mp4 (size: 424699 bytes)
2025-03-18 22:47:39,572 - services.video_routes - INFO - [video_routes.py:860] - Encoded video data in 0.00 seconds (length: 566268 characters)
2025-03-18 22:47:39,573 - services.video_routes - INFO - [video_routes.py:866] - Total video processing completed in 191.42 seconds
