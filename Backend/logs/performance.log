2025-01-05 17:27:45,444 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-05 17:27:45,444 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-05 17:41:26,863 - __main__ - INFO - [app.py:728] - Metrics server started on port 8000
2025-01-05 17:41:26,863 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-05 17:41:41,428 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-05 17:41:48,107 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-05 17:41:48,109 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-05 17:41:54,889 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-05 17:41:54,890 - __main__ - INFO - [app.py:691] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-05 17:41:54,891 - __main__ - INFO - [app.py:752] - ==================================================
2025-01-05 17:41:54,891 - __main__ - INFO - [app.py:753] - Starting LinguaSync Backend
2025-01-05 17:41:54,891 - __main__ - INFO - [app.py:754] - Starting Flask app on port 5001 using cpu
2025-01-05 17:41:54,891 - __main__ - INFO - [app.py:755] - Python version: 3.12.6 (v3.12.6:a4a2d2b0d85, Sep  6 2024, 16:08:03) [Clang 13.0.0 (clang-1300.0.29.30)]
2025-01-05 17:41:54,891 - __main__ - INFO - [app.py:756] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-05 17:41:54,891 - __main__ - INFO - [app.py:757] - Maximum audio length: 300 seconds
2025-01-05 17:41:54,891 - __main__ - INFO - [app.py:758] - Sample rate: 16000 Hz
2025-01-05 17:41:54,891 - __main__ - INFO - [app.py:762] - System memory: 36.0GB total, 15.8GB available
2025-01-05 17:41:54,891 - __main__ - INFO - [app.py:763] - CPU cores: 11
2025-01-05 17:41:54,891 - __main__ - INFO - [app.py:771] - Configuration:
2025-01-05 17:41:54,891 - __main__ - INFO - [app.py:772] - - Debug mode: False
2025-01-05 17:41:54,891 - __main__ - INFO - [app.py:773] - - CORS enabled: True
2025-01-05 17:41:54,891 - __main__ - INFO - [app.py:774] - - Rate limiting: 10 requests per minute
2025-01-05 17:41:54,891 - __main__ - INFO - [app.py:775] - - Metrics enabled: True (port 8000)
2025-01-05 17:41:54,891 - __main__ - INFO - [app.py:777] - ==================================================
2025-01-05 17:42:36,899 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-05 17:42:36,900 - __main__ - INFO - [app.py:326] - Starting translation request c7a1d086
2025-01-05 17:42:36,900 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-05 17:42:36,900 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-05 17:42:36,902 - __main__ - INFO - [app.py:384] - Request c7a1d086: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpx0ygbstn.wav
2025-01-05 17:42:36,902 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 18.36 seconds
2025-01-05 17:42:36,903 - __main__ - INFO - [app.py:395] - Request c7a1d086: Beginning audio processing with diagnostics
2025-01-05 17:42:36,903 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpx0ygbstn.wav
2025-01-05 17:42:36,903 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 44100, Channels: 2
2025-01-05 17:42:36,911 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([2, 809508]), Frequency: 44100Hz
2025-01-05 17:42:36,911 - services.audio_processor - INFO - [audio_processor.py:219] - Resampling from 44100Hz to 16000Hz
2025-01-05 17:42:36,932 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-05 17:42:36,934 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for fra
2025-01-05 17:42:36,956 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-05 17:42:36,969 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 17:42:36,970 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 17:42:36,975 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 17:42:36,975 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 17:42:36,982 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 17:42:36,982 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 17:42:36,989 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 17:42:36,989 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 17:42:37,453 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-05 17:42:37,454 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-05 17:42:37,497 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 17:42:37,497 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 17:42:37,506 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 17:42:37,506 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 17:42:37,514 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 17:42:37,514 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 17:42:37,523 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 17:42:37,523 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 17:42:38,054 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-05 17:42:38,054 - __main__ - INFO - [app.py:406] - 
==================================================
2025-01-05 17:42:38,054 - __main__ - INFO - [app.py:407] - Input Audio Quality Report
2025-01-05 17:42:38,054 - __main__ - INFO - [app.py:408] - ==================================================
2025-01-05 17:42:38,054 - __main__ - INFO - [app.py:409] - Request ID: c7a1d086
2025-01-05 17:42:38,054 - __main__ - INFO - [app.py:410] - Target Language: fra
2025-01-05 17:42:38,054 - __main__ - INFO - [app.py:411] - --------------------------------------------------
2025-01-05 17:42:38,054 - __main__ - INFO - [app.py:412] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.800
- Avg Amplitude: 0.013
- Rms Level: 0.039
- Crest Factor: 20.262
- Zero Crossings: 127716.000
- Silence Percentage: 62.168
- Clipping Points: 0.000
- Dynamic Range: 3022615.000

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.070
  - Temporal Flatness: 0.020

- Volume Metrics:
  - Volume Stability: -0.728
  - Volume Range: 29148040.000
  - Volume Variations: 0.034

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.003898838626448
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 0.6381455659866333, 'stability': 1.6408194303512573, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.23516440391540527, 'consistency': 0.2896541953086853, 'distinction': 0.11255760490894318}
  - Description: Moderate nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.670
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.340
  - Rhythm Quality: 0.358
  - Intonation Quality: 0.322

Vowel Quality:
  - Quality Score: 0.005
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-05 17:42:38,054 - __main__ - INFO - [app.py:413] - ==================================================

2025-01-05 17:42:38,055 - __main__ - INFO - [app.py:424] - Request c7a1d086: Audio processed successfully
2025-01-05 17:42:38,079 - __main__ - INFO - [app.py:443] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-05 17:42:52,307 - __main__ - INFO - [app.py:483] - Source text: the stale smell of old beer lingers it takes heat to bring out the odor a cold dip restores health and zest a salt pickle tastes fine with ham tacos al pastor are my favorite a zestful food is the hot cross bun
2025-01-05 17:43:08,045 - __main__ - INFO - [app.py:502] - Target text: l'odeur de la vieille bière lingoure il faut de la chaleur pour faire ressortir l'odore une dip froide restaure la santé et le zest un pickle salé goûte bien avec le jambon tacos al pasteur sont mon favori une nourriture zestueuse est le hot cross bun
2025-01-05 17:43:28,569 - __main__ - INFO - [app.py:525] - Processing tuple output from model
2025-01-05 17:43:28,584 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 17:43:28,584 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 17:43:28,591 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 17:43:28,591 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 17:43:28,597 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 17:43:28,597 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 17:43:28,603 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 17:43:28,603 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 17:43:28,908 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-05 17:43:28,908 - __main__ - INFO - [app.py:548] - 
==================================================
2025-01-05 17:43:28,908 - __main__ - INFO - [app.py:549] - Translated Audio Quality Report
2025-01-05 17:43:28,908 - __main__ - INFO - [app.py:550] - ==================================================
2025-01-05 17:43:28,908 - __main__ - INFO - [app.py:551] - Request ID: c7a1d086
2025-01-05 17:43:28,908 - __main__ - INFO - [app.py:552] - Target Language: fra
2025-01-05 17:43:28,908 - __main__ - INFO - [app.py:553] - --------------------------------------------------
2025-01-05 17:43:28,908 - __main__ - INFO - [app.py:554] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.733
- Avg Amplitude: 0.064
- Rms Level: 0.100
- Crest Factor: 7.306
- Zero Crossings: 26729.000
- Silence Percentage: 9.199
- Clipping Points: 0.000
- Dynamic Range: 148.252

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.087
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.027
  - Temporal Flatness: 0.015

- Volume Metrics:
  - Volume Stability: 0.316
  - Volume Range: 943.707
  - Volume Variations: 0.057

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.0274713576114034
- Background Noise: 3.9225283760163387
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
No issues detected

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 1.0645990371704102, 'stability': 3.7006659507751465, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.0019389446824789047, 'consistency': 0.0, 'distinction': 0.10308977961540222}
  - Description: Strong nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.533
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.000
  - Rhythm Quality: 0.000
  - Intonation Quality: 0.000

Vowel Quality:
  - Quality Score: 0.003
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-05 17:43:28,908 - __main__ - INFO - [app.py:555] - ==================================================

2025-01-05 17:43:28,908 - __main__ - INFO - [app.py:561] - Request c7a1d086: Audio output processed successfully
2025-01-05 17:43:28,912 - __main__ - INFO - [app.py:615] - Request c7a1d086: Response prepared successfully
2025-01-05 17:43:28,912 - __main__ - INFO - [app.py:633] - Request c7a1d086 completed in 52.01s
2025-01-05 17:43:28,914 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 52.01s, Memory Change: 1457.50MB
2025-01-05 17:43:28,914 - __main__ - INFO - [app.py:259] - Request to /translate took 59.67s
2025-01-05 18:07:19,103 - __main__ - INFO - [app.py:198] - Received SIGINT signal
2025-01-05 18:07:19,104 - __main__ - INFO - [app.py:183] - Initiating graceful shutdown...
2025-01-05 18:07:24,109 - __main__ - INFO - [app.py:698] - Application shutting down...
2025-01-05 18:07:24,110 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-05 18:07:24,110 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-05 18:07:24,111 - __main__ - INFO - [app.py:691] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-05 18:07:24,112 - __main__ - INFO - [app.py:711] - Cleanup completed successfully
2025-01-05 18:07:24,112 - __main__ - INFO - [app.py:187] - Graceful shutdown completed
2025-01-05 18:07:24,113 - __main__ - INFO - [app.py:698] - Application shutting down...
2025-01-05 18:07:24,113 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-05 18:07:24,113 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-05 18:07:24,114 - __main__ - INFO - [app.py:691] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-05 18:07:24,114 - __main__ - INFO - [app.py:711] - Cleanup completed successfully
2025-01-05 18:07:24,115 - __main__ - INFO - [app.py:698] - Application shutting down...
2025-01-05 18:07:24,115 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-05 18:07:24,115 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-05 18:07:24,116 - __main__ - INFO - [app.py:691] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-05 18:07:24,116 - __main__ - INFO - [app.py:711] - Cleanup completed successfully
2025-01-05 18:07:24,238 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-05 18:07:24,238 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-05 18:07:35,421 - __main__ - INFO - [app.py:728] - Metrics server started on port 8000
2025-01-05 18:07:35,421 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-05 18:07:50,048 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-05 18:07:56,124 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-05 18:07:56,126 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-05 18:08:01,354 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-05 18:08:01,355 - __main__ - INFO - [app.py:691] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-05 18:08:01,355 - __main__ - INFO - [app.py:752] - ==================================================
2025-01-05 18:08:01,355 - __main__ - INFO - [app.py:753] - Starting LinguaSync Backend
2025-01-05 18:08:01,355 - __main__ - INFO - [app.py:754] - Starting Flask app on port 5001 using cpu
2025-01-05 18:08:01,355 - __main__ - INFO - [app.py:755] - Python version: 3.12.6 (v3.12.6:a4a2d2b0d85, Sep  6 2024, 16:08:03) [Clang 13.0.0 (clang-1300.0.29.30)]
2025-01-05 18:08:01,356 - __main__ - INFO - [app.py:756] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-05 18:08:01,356 - __main__ - INFO - [app.py:757] - Maximum audio length: 300 seconds
2025-01-05 18:08:01,356 - __main__ - INFO - [app.py:758] - Sample rate: 16000 Hz
2025-01-05 18:08:01,356 - __main__ - INFO - [app.py:762] - System memory: 36.0GB total, 17.2GB available
2025-01-05 18:08:01,356 - __main__ - INFO - [app.py:763] - CPU cores: 11
2025-01-05 18:08:01,356 - __main__ - INFO - [app.py:771] - Configuration:
2025-01-05 18:08:01,356 - __main__ - INFO - [app.py:772] - - Debug mode: False
2025-01-05 18:08:01,356 - __main__ - INFO - [app.py:773] - - CORS enabled: True
2025-01-05 18:08:01,356 - __main__ - INFO - [app.py:774] - - Rate limiting: 10 requests per minute
2025-01-05 18:08:01,356 - __main__ - INFO - [app.py:775] - - Metrics enabled: True (port 8000)
2025-01-05 18:08:01,356 - __main__ - INFO - [app.py:777] - ==================================================
2025-01-05 18:10:07,574 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-05 18:10:07,575 - __main__ - INFO - [app.py:326] - Starting translation request 84134c7a
2025-01-05 18:10:07,575 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-05 18:10:07,575 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-05 18:10:07,578 - __main__ - INFO - [app.py:384] - Request 84134c7a: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmp5ysmfoxs.wav
2025-01-05 18:10:07,579 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 18.36 seconds
2025-01-05 18:10:07,579 - __main__ - INFO - [app.py:395] - Request 84134c7a: Beginning audio processing with diagnostics
2025-01-05 18:10:07,579 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmp5ysmfoxs.wav
2025-01-05 18:10:07,579 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 44100, Channels: 2
2025-01-05 18:10:07,588 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([2, 809508]), Frequency: 44100Hz
2025-01-05 18:10:07,589 - services.audio_processor - INFO - [audio_processor.py:219] - Resampling from 44100Hz to 16000Hz
2025-01-05 18:10:07,615 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-05 18:10:07,617 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for fra
2025-01-05 18:10:07,650 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-05 18:10:07,667 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:10:07,667 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:10:07,677 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:10:07,677 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:10:07,687 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:10:07,687 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:10:07,697 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:10:07,697 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:10:08,149 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-05 18:10:08,149 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-05 18:10:08,185 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:10:08,185 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:10:08,192 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:10:08,192 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:10:08,199 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:10:08,199 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:10:08,206 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:10:08,206 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:10:08,645 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-05 18:10:08,645 - __main__ - INFO - [app.py:406] - 
==================================================
2025-01-05 18:10:08,645 - __main__ - INFO - [app.py:407] - Input Audio Quality Report
2025-01-05 18:10:08,645 - __main__ - INFO - [app.py:408] - ==================================================
2025-01-05 18:10:08,645 - __main__ - INFO - [app.py:409] - Request ID: 84134c7a
2025-01-05 18:10:08,645 - __main__ - INFO - [app.py:410] - Target Language: fra
2025-01-05 18:10:08,645 - __main__ - INFO - [app.py:411] - --------------------------------------------------
2025-01-05 18:10:08,645 - __main__ - INFO - [app.py:412] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.800
- Avg Amplitude: 0.013
- Rms Level: 0.039
- Crest Factor: 20.262
- Zero Crossings: 127716.000
- Silence Percentage: 62.168
- Clipping Points: 0.000
- Dynamic Range: 3022615.000

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.070
  - Temporal Flatness: 0.020

- Volume Metrics:
  - Volume Stability: -0.728
  - Volume Range: 29148040.000
  - Volume Variations: 0.034

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.003898838626448
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 0.6381455659866333, 'stability': 1.6408194303512573, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.23516440391540527, 'consistency': 0.2896541953086853, 'distinction': 0.11255760490894318}
  - Description: Moderate nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.670
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.340
  - Rhythm Quality: 0.358
  - Intonation Quality: 0.322

Vowel Quality:
  - Quality Score: 0.005
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-05 18:10:08,645 - __main__ - INFO - [app.py:413] - ==================================================

2025-01-05 18:10:08,645 - __main__ - INFO - [app.py:424] - Request 84134c7a: Audio processed successfully
2025-01-05 18:10:08,667 - __main__ - INFO - [app.py:443] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-05 18:10:22,425 - __main__ - INFO - [app.py:483] - Source text: the stale smell of old beer lingers it takes heat to bring out the odor a cold dip restores health and zest a salt pickle tastes fine with ham tacos al pastor are my favorite a zestful food is the hot cross bun
2025-01-05 18:10:36,987 - __main__ - INFO - [app.py:502] - Target text: l'odeur de la vieille bière lingoure il faut de la chaleur pour faire ressortir l'odore une dip froide restaure la santé et le zest un pickle salé goûte bien avec le jambon tacos al pasteur sont mon favori une nourriture zestueuse est le hot cross bun
2025-01-05 18:10:56,700 - __main__ - INFO - [app.py:525] - Processing tuple output from model
2025-01-05 18:10:56,714 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:10:56,714 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:10:56,723 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:10:56,723 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:10:56,731 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:10:56,731 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:10:56,740 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:10:56,740 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:10:57,056 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-05 18:10:57,057 - __main__ - INFO - [app.py:548] - 
==================================================
2025-01-05 18:10:57,057 - __main__ - INFO - [app.py:549] - Translated Audio Quality Report
2025-01-05 18:10:57,057 - __main__ - INFO - [app.py:550] - ==================================================
2025-01-05 18:10:57,057 - __main__ - INFO - [app.py:551] - Request ID: 84134c7a
2025-01-05 18:10:57,057 - __main__ - INFO - [app.py:552] - Target Language: fra
2025-01-05 18:10:57,057 - __main__ - INFO - [app.py:553] - --------------------------------------------------
2025-01-05 18:10:57,057 - __main__ - INFO - [app.py:554] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.750
- Avg Amplitude: 0.064
- Rms Level: 0.099
- Crest Factor: 7.613
- Zero Crossings: 27483.000
- Silence Percentage: 9.886
- Clipping Points: 0.000
- Dynamic Range: 164.603

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.048
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.027
  - Temporal Flatness: 0.016

- Volume Metrics:
  - Volume Stability: 0.343
  - Volume Range: 963.886
  - Volume Variations: 0.054

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.0258947655232187
- Background Noise: 4.045029659911309
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 1.0627641677856445, 'stability': 3.681182622909546, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.02790275402367115, 'consistency': 0.0, 'distinction': 0.08906450867652893}
  - Description: Strong nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.530
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.000
  - Rhythm Quality: 0.000
  - Intonation Quality: 0.000

Vowel Quality:
  - Quality Score: 0.003
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-05 18:10:57,057 - __main__ - INFO - [app.py:555] - ==================================================

2025-01-05 18:10:57,057 - __main__ - INFO - [app.py:561] - Request 84134c7a: Audio output processed successfully
2025-01-05 18:10:57,061 - __main__ - INFO - [app.py:615] - Request 84134c7a: Response prepared successfully
2025-01-05 18:10:57,061 - __main__ - INFO - [app.py:633] - Request 84134c7a completed in 49.49s
2025-01-05 18:10:57,065 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 49.49s, Memory Change: 1632.80MB
2025-01-05 18:10:57,065 - __main__ - INFO - [app.py:259] - Request to /translate took 54.71s
2025-01-05 18:29:38,878 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-05 18:29:38,881 - __main__ - INFO - [app.py:326] - Starting translation request 25dd0ad6
2025-01-05 18:29:38,881 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-05 18:29:38,881 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-05 18:29:38,883 - __main__ - INFO - [app.py:384] - Request 25dd0ad6: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpbcivx1k0.wav
2025-01-05 18:29:38,883 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 18.36 seconds
2025-01-05 18:29:38,883 - __main__ - INFO - [app.py:395] - Request 25dd0ad6: Beginning audio processing with diagnostics
2025-01-05 18:29:38,883 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpbcivx1k0.wav
2025-01-05 18:29:38,883 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 44100, Channels: 2
2025-01-05 18:29:38,891 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([2, 809508]), Frequency: 44100Hz
2025-01-05 18:29:38,891 - services.audio_processor - INFO - [audio_processor.py:219] - Resampling from 44100Hz to 16000Hz
2025-01-05 18:29:38,911 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-05 18:29:38,914 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for fra
2025-01-05 18:29:38,935 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-05 18:29:38,951 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:29:38,952 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:29:38,962 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:29:38,963 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:29:38,970 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:29:38,971 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:29:38,979 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:29:38,979 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:29:39,427 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-05 18:29:39,427 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-05 18:29:39,464 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:29:39,464 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:29:39,470 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:29:39,470 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:29:39,480 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:29:39,480 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:29:39,489 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:29:39,489 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:29:39,922 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-05 18:29:39,922 - __main__ - INFO - [app.py:406] - 
==================================================
2025-01-05 18:29:39,922 - __main__ - INFO - [app.py:407] - Input Audio Quality Report
2025-01-05 18:29:39,922 - __main__ - INFO - [app.py:408] - ==================================================
2025-01-05 18:29:39,922 - __main__ - INFO - [app.py:409] - Request ID: 25dd0ad6
2025-01-05 18:29:39,922 - __main__ - INFO - [app.py:410] - Target Language: fra
2025-01-05 18:29:39,922 - __main__ - INFO - [app.py:411] - --------------------------------------------------
2025-01-05 18:29:39,922 - __main__ - INFO - [app.py:412] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.800
- Avg Amplitude: 0.013
- Rms Level: 0.039
- Crest Factor: 20.262
- Zero Crossings: 127716.000
- Silence Percentage: 62.168
- Clipping Points: 0.000
- Dynamic Range: 3022615.000

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.070
  - Temporal Flatness: 0.020

- Volume Metrics:
  - Volume Stability: -0.728
  - Volume Range: 29148040.000
  - Volume Variations: 0.034

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.003898838626448
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 0.6381455659866333, 'stability': 1.6408194303512573, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.23516440391540527, 'consistency': 0.2896541953086853, 'distinction': 0.11255760490894318}
  - Description: Moderate nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.670
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.340
  - Rhythm Quality: 0.358
  - Intonation Quality: 0.322

Vowel Quality:
  - Quality Score: 0.005
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-05 18:29:39,922 - __main__ - INFO - [app.py:413] - ==================================================

2025-01-05 18:29:39,922 - __main__ - INFO - [app.py:424] - Request 25dd0ad6: Audio processed successfully
2025-01-05 18:29:39,944 - __main__ - INFO - [app.py:443] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-05 18:29:54,672 - __main__ - INFO - [app.py:483] - Source text: the stale smell of old beer lingers it takes heat to bring out the odor a cold dip restores health and zest a salt pickle tastes fine with ham tacos al pastor are my favorite a zestful food is the hot cross bun
2025-01-05 18:30:10,673 - __main__ - INFO - [app.py:502] - Target text: l'odeur de la vieille bière lingoure il faut de la chaleur pour faire ressortir l'odore une dip froide restaure la santé et le zest un pickle salé goûte bien avec le jambon tacos al pasteur sont mon favori une nourriture zestueuse est le hot cross bun
2025-01-05 18:30:30,387 - __main__ - ERROR - [app.py:538] - Translation error: index out of range in self
2025-01-05 18:30:30,428 - __main__ - INFO - [app.py:633] - Request 25dd0ad6 completed in 51.55s
2025-01-05 18:30:30,431 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 51.55s, Memory Change: 867.36MB
2025-01-05 18:30:30,431 - __main__ - INFO - [app.py:259] - Request to /translate took 59.34s
2025-01-05 18:31:08,541 - __main__ - INFO - [app.py:198] - Received SIGINT signal
2025-01-05 18:31:08,541 - __main__ - INFO - [app.py:183] - Initiating graceful shutdown...
2025-01-05 18:31:13,546 - __main__ - INFO - [app.py:698] - Application shutting down...
2025-01-05 18:31:13,547 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-05 18:31:13,547 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-05 18:31:13,548 - __main__ - INFO - [app.py:691] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-05 18:31:13,548 - __main__ - INFO - [app.py:711] - Cleanup completed successfully
2025-01-05 18:31:13,548 - __main__ - INFO - [app.py:187] - Graceful shutdown completed
2025-01-05 18:31:13,551 - __main__ - INFO - [app.py:698] - Application shutting down...
2025-01-05 18:31:13,551 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-05 18:31:13,551 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-05 18:31:13,552 - __main__ - INFO - [app.py:691] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-05 18:31:13,552 - __main__ - INFO - [app.py:711] - Cleanup completed successfully
2025-01-05 18:31:13,553 - __main__ - INFO - [app.py:698] - Application shutting down...
2025-01-05 18:31:13,553 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-05 18:31:13,554 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-05 18:31:13,554 - __main__ - INFO - [app.py:691] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-05 18:31:13,555 - __main__ - INFO - [app.py:711] - Cleanup completed successfully
2025-01-05 18:31:13,681 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-05 18:31:13,681 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-05 18:31:34,021 - __main__ - INFO - [app.py:728] - Metrics server started on port 8000
2025-01-05 18:31:34,021 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-05 18:31:48,575 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-05 18:31:54,716 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-05 18:31:54,718 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-05 18:31:59,460 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-05 18:31:59,462 - __main__ - INFO - [app.py:691] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-05 18:31:59,462 - __main__ - INFO - [app.py:752] - ==================================================
2025-01-05 18:31:59,462 - __main__ - INFO - [app.py:753] - Starting LinguaSync Backend
2025-01-05 18:31:59,462 - __main__ - INFO - [app.py:754] - Starting Flask app on port 5001 using cpu
2025-01-05 18:31:59,462 - __main__ - INFO - [app.py:755] - Python version: 3.12.6 (v3.12.6:a4a2d2b0d85, Sep  6 2024, 16:08:03) [Clang 13.0.0 (clang-1300.0.29.30)]
2025-01-05 18:31:59,462 - __main__ - INFO - [app.py:756] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-05 18:31:59,462 - __main__ - INFO - [app.py:757] - Maximum audio length: 300 seconds
2025-01-05 18:31:59,462 - __main__ - INFO - [app.py:758] - Sample rate: 16000 Hz
2025-01-05 18:31:59,462 - __main__ - INFO - [app.py:762] - System memory: 36.0GB total, 17.6GB available
2025-01-05 18:31:59,462 - __main__ - INFO - [app.py:763] - CPU cores: 11
2025-01-05 18:31:59,463 - __main__ - INFO - [app.py:771] - Configuration:
2025-01-05 18:31:59,463 - __main__ - INFO - [app.py:772] - - Debug mode: False
2025-01-05 18:31:59,463 - __main__ - INFO - [app.py:773] - - CORS enabled: True
2025-01-05 18:31:59,463 - __main__ - INFO - [app.py:774] - - Rate limiting: 10 requests per minute
2025-01-05 18:31:59,463 - __main__ - INFO - [app.py:775] - - Metrics enabled: True (port 8000)
2025-01-05 18:31:59,463 - __main__ - INFO - [app.py:777] - ==================================================
2025-01-05 18:33:38,371 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-05 18:33:38,372 - __main__ - INFO - [app.py:326] - Starting translation request 0e3d0896
2025-01-05 18:33:38,372 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-05 18:33:38,372 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-05 18:33:38,374 - __main__ - INFO - [app.py:384] - Request 0e3d0896: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpb77ed4a7.wav
2025-01-05 18:33:38,375 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 18.36 seconds
2025-01-05 18:33:38,375 - __main__ - INFO - [app.py:395] - Request 0e3d0896: Beginning audio processing with diagnostics
2025-01-05 18:33:38,375 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpb77ed4a7.wav
2025-01-05 18:33:38,375 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 44100, Channels: 2
2025-01-05 18:33:38,383 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([2, 809508]), Frequency: 44100Hz
2025-01-05 18:33:38,383 - services.audio_processor - INFO - [audio_processor.py:219] - Resampling from 44100Hz to 16000Hz
2025-01-05 18:33:38,403 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-05 18:33:38,405 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for fra
2025-01-05 18:33:38,425 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-05 18:33:38,440 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:33:38,440 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:33:38,447 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:33:38,447 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:33:38,454 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:33:38,454 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:33:38,462 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:33:38,462 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:33:38,911 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-05 18:33:38,911 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-05 18:33:38,948 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:33:38,948 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:33:38,954 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:33:38,954 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:33:38,961 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:33:38,962 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:33:38,969 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:33:38,969 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:33:39,405 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-05 18:33:39,405 - __main__ - INFO - [app.py:406] - 
==================================================
2025-01-05 18:33:39,405 - __main__ - INFO - [app.py:407] - Input Audio Quality Report
2025-01-05 18:33:39,405 - __main__ - INFO - [app.py:408] - ==================================================
2025-01-05 18:33:39,405 - __main__ - INFO - [app.py:409] - Request ID: 0e3d0896
2025-01-05 18:33:39,405 - __main__ - INFO - [app.py:410] - Target Language: fra
2025-01-05 18:33:39,405 - __main__ - INFO - [app.py:411] - --------------------------------------------------
2025-01-05 18:33:39,405 - __main__ - INFO - [app.py:412] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.800
- Avg Amplitude: 0.013
- Rms Level: 0.039
- Crest Factor: 20.262
- Zero Crossings: 127716.000
- Silence Percentage: 62.168
- Clipping Points: 0.000
- Dynamic Range: 3022615.000

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.070
  - Temporal Flatness: 0.020

- Volume Metrics:
  - Volume Stability: -0.728
  - Volume Range: 29148040.000
  - Volume Variations: 0.034

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.003898838626448
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 0.6381455659866333, 'stability': 1.6408194303512573, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.23516440391540527, 'consistency': 0.2896541953086853, 'distinction': 0.11255760490894318}
  - Description: Moderate nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.670
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.340
  - Rhythm Quality: 0.358
  - Intonation Quality: 0.322

Vowel Quality:
  - Quality Score: 0.005
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-05 18:33:39,405 - __main__ - INFO - [app.py:413] - ==================================================

2025-01-05 18:33:39,406 - __main__ - INFO - [app.py:424] - Request 0e3d0896: Audio processed successfully
2025-01-05 18:33:39,426 - __main__ - INFO - [app.py:443] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-05 18:33:54,130 - __main__ - INFO - [app.py:483] - Source text: the stale smell of old beer lingers it takes heat to bring out the odor a cold dip restores health and zest a salt pickle tastes fine with ham tacos al pastor are my favorite a zestful food is the hot cross bun
2025-01-05 18:34:11,549 - __main__ - INFO - [app.py:502] - Target text: l'odeur de la vieille bière lingoure il faut de la chaleur pour faire ressortir l'odore une dip froide restaure la santé et le zest un pickle salé goûte bien avec le jambon tacos al pasteur sont mon favori une nourriture zestueuse est le hot cross bun
2025-01-05 18:34:32,266 - __main__ - INFO - [app.py:525] - Processing tuple output from model
2025-01-05 18:34:32,278 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:34:32,278 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:34:32,283 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:34:32,283 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:34:32,290 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:34:32,291 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:34:32,296 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:34:32,297 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:34:32,607 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-05 18:34:32,607 - __main__ - INFO - [app.py:548] - 
==================================================
2025-01-05 18:34:32,607 - __main__ - INFO - [app.py:549] - Translated Audio Quality Report
2025-01-05 18:34:32,607 - __main__ - INFO - [app.py:550] - ==================================================
2025-01-05 18:34:32,607 - __main__ - INFO - [app.py:551] - Request ID: 0e3d0896
2025-01-05 18:34:32,607 - __main__ - INFO - [app.py:552] - Target Language: fra
2025-01-05 18:34:32,607 - __main__ - INFO - [app.py:553] - --------------------------------------------------
2025-01-05 18:34:32,607 - __main__ - INFO - [app.py:554] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.728
- Avg Amplitude: 0.064
- Rms Level: 0.099
- Crest Factor: 7.374
- Zero Crossings: 26381.000
- Silence Percentage: 10.271
- Clipping Points: 0.000
- Dynamic Range: 175.893

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.078
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.027
  - Temporal Flatness: 0.015

- Volume Metrics:
  - Volume Stability: 0.351
  - Volume Range: 1125.467
  - Volume Variations: 0.054

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.02677569730026
- Background Noise: 3.9497118949798495
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 1.048950433731079, 'stability': 3.704329013824463, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.0, 'consistency': 0.0, 'distinction': 0.058808356523513794}
  - Description: Strong nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.525
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.000
  - Rhythm Quality: 0.000
  - Intonation Quality: 0.000

Vowel Quality:
  - Quality Score: 0.003
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-05 18:34:32,607 - __main__ - INFO - [app.py:555] - ==================================================

2025-01-05 18:34:32,607 - __main__ - INFO - [app.py:561] - Request 0e3d0896: Audio output processed successfully
2025-01-05 18:34:32,612 - __main__ - INFO - [app.py:615] - Request 0e3d0896: Response prepared successfully
2025-01-05 18:34:32,613 - __main__ - INFO - [app.py:633] - Request 0e3d0896 completed in 54.24s
2025-01-05 18:34:32,616 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 54.24s, Memory Change: 1528.50MB
2025-01-05 18:34:32,616 - __main__ - INFO - [app.py:259] - Request to /translate took 59.40s
2025-01-05 18:41:05,120 - __main__ - INFO - [app.py:198] - Received SIGINT signal
2025-01-05 18:41:05,121 - __main__ - INFO - [app.py:183] - Initiating graceful shutdown...
2025-01-05 18:41:10,126 - __main__ - INFO - [app.py:698] - Application shutting down...
2025-01-05 18:41:10,127 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-05 18:41:10,127 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-05 18:41:10,129 - __main__ - INFO - [app.py:691] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-05 18:41:10,129 - __main__ - INFO - [app.py:711] - Cleanup completed successfully
2025-01-05 18:41:10,129 - __main__ - INFO - [app.py:187] - Graceful shutdown completed
2025-01-05 18:41:10,131 - __main__ - INFO - [app.py:698] - Application shutting down...
2025-01-05 18:41:10,132 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-05 18:41:10,132 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-05 18:41:10,133 - __main__ - INFO - [app.py:691] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-05 18:41:10,133 - __main__ - INFO - [app.py:711] - Cleanup completed successfully
2025-01-05 18:41:10,134 - __main__ - INFO - [app.py:698] - Application shutting down...
2025-01-05 18:41:10,134 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-05 18:41:10,134 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-05 18:41:10,135 - __main__ - INFO - [app.py:691] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-05 18:41:10,135 - __main__ - INFO - [app.py:711] - Cleanup completed successfully
2025-01-05 18:41:10,347 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-05 18:41:10,348 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-05 18:41:24,904 - __main__ - INFO - [app.py:728] - Metrics server started on port 8000
2025-01-05 18:41:24,904 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-05 18:41:39,020 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-05 18:41:45,370 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-05 18:41:45,373 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-05 18:41:49,420 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-05 18:41:49,422 - __main__ - INFO - [app.py:691] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-05 18:41:49,422 - __main__ - INFO - [app.py:752] - ==================================================
2025-01-05 18:41:49,422 - __main__ - INFO - [app.py:753] - Starting LinguaSync Backend
2025-01-05 18:41:49,422 - __main__ - INFO - [app.py:754] - Starting Flask app on port 5001 using cpu
2025-01-05 18:41:49,422 - __main__ - INFO - [app.py:755] - Python version: 3.12.6 (v3.12.6:a4a2d2b0d85, Sep  6 2024, 16:08:03) [Clang 13.0.0 (clang-1300.0.29.30)]
2025-01-05 18:41:49,422 - __main__ - INFO - [app.py:756] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-05 18:41:49,422 - __main__ - INFO - [app.py:757] - Maximum audio length: 300 seconds
2025-01-05 18:41:49,422 - __main__ - INFO - [app.py:758] - Sample rate: 16000 Hz
2025-01-05 18:41:49,422 - __main__ - INFO - [app.py:762] - System memory: 36.0GB total, 15.9GB available
2025-01-05 18:41:49,422 - __main__ - INFO - [app.py:763] - CPU cores: 11
2025-01-05 18:41:49,422 - __main__ - INFO - [app.py:771] - Configuration:
2025-01-05 18:41:49,422 - __main__ - INFO - [app.py:772] - - Debug mode: False
2025-01-05 18:41:49,422 - __main__ - INFO - [app.py:773] - - CORS enabled: True
2025-01-05 18:41:49,422 - __main__ - INFO - [app.py:774] - - Rate limiting: 10 requests per minute
2025-01-05 18:41:49,422 - __main__ - INFO - [app.py:775] - - Metrics enabled: True (port 8000)
2025-01-05 18:41:49,422 - __main__ - INFO - [app.py:777] - ==================================================
2025-01-05 18:42:35,377 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-05 18:42:35,379 - __main__ - INFO - [app.py:326] - Starting translation request 1e817dc2
2025-01-05 18:42:35,379 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-05 18:42:35,379 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-05 18:42:35,380 - __main__ - INFO - [app.py:384] - Request 1e817dc2: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpn0l7h282.wav
2025-01-05 18:42:35,381 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 18.36 seconds
2025-01-05 18:42:35,381 - __main__ - INFO - [app.py:395] - Request 1e817dc2: Beginning audio processing with diagnostics
2025-01-05 18:42:35,381 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpn0l7h282.wav
2025-01-05 18:42:35,381 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 44100, Channels: 2
2025-01-05 18:42:35,389 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([2, 809508]), Frequency: 44100Hz
2025-01-05 18:42:35,389 - services.audio_processor - INFO - [audio_processor.py:219] - Resampling from 44100Hz to 16000Hz
2025-01-05 18:42:35,412 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-05 18:42:35,415 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for fra
2025-01-05 18:42:35,441 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-05 18:42:35,455 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:42:35,456 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:42:35,462 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:42:35,463 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:42:35,470 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:42:35,471 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:42:35,479 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:42:35,480 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:42:35,927 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-05 18:42:35,927 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-05 18:42:35,972 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:42:35,972 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:42:35,981 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:42:35,981 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:42:35,990 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:42:35,990 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:42:35,998 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:42:35,998 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:42:36,429 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-05 18:42:36,429 - __main__ - INFO - [app.py:406] - 
==================================================
2025-01-05 18:42:36,429 - __main__ - INFO - [app.py:407] - Input Audio Quality Report
2025-01-05 18:42:36,429 - __main__ - INFO - [app.py:408] - ==================================================
2025-01-05 18:42:36,429 - __main__ - INFO - [app.py:409] - Request ID: 1e817dc2
2025-01-05 18:42:36,429 - __main__ - INFO - [app.py:410] - Target Language: fra
2025-01-05 18:42:36,429 - __main__ - INFO - [app.py:411] - --------------------------------------------------
2025-01-05 18:42:36,429 - __main__ - INFO - [app.py:412] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.800
- Avg Amplitude: 0.013
- Rms Level: 0.039
- Crest Factor: 20.262
- Zero Crossings: 127716.000
- Silence Percentage: 62.168
- Clipping Points: 0.000
- Dynamic Range: 3022615.000

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.070
  - Temporal Flatness: 0.020

- Volume Metrics:
  - Volume Stability: -0.728
  - Volume Range: 29148040.000
  - Volume Variations: 0.034

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.003898838626448
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 0.6381455659866333, 'stability': 1.6408194303512573, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.23516440391540527, 'consistency': 0.2896541953086853, 'distinction': 0.11255760490894318}
  - Description: Moderate nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.670
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.340
  - Rhythm Quality: 0.358
  - Intonation Quality: 0.322

Vowel Quality:
  - Quality Score: 0.005
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-05 18:42:36,429 - __main__ - INFO - [app.py:413] - ==================================================

2025-01-05 18:42:36,429 - __main__ - INFO - [app.py:424] - Request 1e817dc2: Audio processed successfully
2025-01-05 18:42:36,451 - __main__ - INFO - [app.py:443] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-05 18:42:50,830 - __main__ - INFO - [app.py:483] - Source text: the stale smell of old beer lingers it takes heat to bring out the odor a cold dip restores health and zest a salt pickle tastes fine with ham tacos al pastor are my favorite a zestful food is the hot cross bun
2025-01-05 18:43:06,988 - __main__ - INFO - [app.py:502] - Target text: l'odeur de la vieille bière lingoure il faut de la chaleur pour faire ressortir l'odore une dip froide restaure la santé et le zest un pickle salé goûte bien avec le jambon tacos al pasteur sont mon favori une nourriture zestueuse est le hot cross bun
2025-01-05 18:43:28,162 - __main__ - INFO - [app.py:525] - Processing tuple output from model
2025-01-05 18:43:28,181 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:43:28,182 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:43:28,194 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:43:28,194 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:43:28,205 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:43:28,206 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:43:28,215 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 18:43:28,216 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 18:43:28,567 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-05 18:43:28,567 - __main__ - INFO - [app.py:548] - 
==================================================
2025-01-05 18:43:28,567 - __main__ - INFO - [app.py:549] - Translated Audio Quality Report
2025-01-05 18:43:28,567 - __main__ - INFO - [app.py:550] - ==================================================
2025-01-05 18:43:28,567 - __main__ - INFO - [app.py:551] - Request ID: 1e817dc2
2025-01-05 18:43:28,567 - __main__ - INFO - [app.py:552] - Target Language: fra
2025-01-05 18:43:28,567 - __main__ - INFO - [app.py:553] - --------------------------------------------------
2025-01-05 18:43:28,567 - __main__ - INFO - [app.py:554] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.676
- Avg Amplitude: 0.063
- Rms Level: 0.098
- Crest Factor: 6.906
- Zero Crossings: 27602.000
- Silence Percentage: 9.736
- Clipping Points: 0.000
- Dynamic Range: 160.076

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.137
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.029
  - Temporal Flatness: 0.016

- Volume Metrics:
  - Volume Stability: 0.349
  - Volume Range: 333.956
  - Volume Variations: 0.054

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.0283468379246243
- Background Noise: 3.7622166343814385
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 1.1074353456497192, 'stability': 3.7731070518493652, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.0, 'consistency': 0.0, 'distinction': 0.11286024004220963}
  - Description: Strong nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.543
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.000
  - Rhythm Quality: 0.000
  - Intonation Quality: 0.000

Vowel Quality:
  - Quality Score: 0.004
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-05 18:43:28,567 - __main__ - INFO - [app.py:555] - ==================================================

2025-01-05 18:43:28,567 - __main__ - INFO - [app.py:561] - Request 1e817dc2: Audio output processed successfully
2025-01-05 18:43:28,572 - __main__ - INFO - [app.py:615] - Request 1e817dc2: Response prepared successfully
2025-01-05 18:43:28,572 - __main__ - INFO - [app.py:633] - Request 1e817dc2 completed in 53.19s
2025-01-05 18:43:28,575 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 53.20s, Memory Change: 1400.53MB
2025-01-05 18:43:28,576 - __main__ - INFO - [app.py:259] - Request to /translate took 58.62s
2025-01-05 18:43:57,315 - __main__ - INFO - [app.py:198] - Received SIGINT signal
2025-01-05 18:43:57,316 - __main__ - INFO - [app.py:183] - Initiating graceful shutdown...
2025-01-05 18:43:57,577 - __main__ - INFO - [app.py:198] - Received SIGINT signal
2025-01-05 18:43:57,577 - __main__ - INFO - [app.py:183] - Initiating graceful shutdown...
2025-01-05 18:44:02,507 - __main__ - INFO - [app.py:198] - Received SIGINT signal
2025-01-05 18:44:02,508 - __main__ - INFO - [app.py:183] - Initiating graceful shutdown...
2025-01-05 18:44:07,509 - __main__ - INFO - [app.py:698] - Application shutting down...
2025-01-05 18:44:07,510 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-05 18:44:07,510 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-05 18:44:07,511 - __main__ - INFO - [app.py:691] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-05 18:44:07,512 - __main__ - INFO - [app.py:711] - Cleanup completed successfully
2025-01-05 18:44:07,512 - __main__ - INFO - [app.py:187] - Graceful shutdown completed
2025-01-05 18:44:07,513 - __main__ - INFO - [app.py:698] - Application shutting down...
2025-01-05 18:44:07,513 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-05 18:44:07,513 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-05 18:44:07,514 - __main__ - INFO - [app.py:691] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-05 18:44:07,514 - __main__ - INFO - [app.py:711] - Cleanup completed successfully
2025-01-05 18:44:07,515 - __main__ - INFO - [app.py:698] - Application shutting down...
2025-01-05 18:44:07,515 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-05 18:44:07,515 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-05 18:44:07,516 - __main__ - INFO - [app.py:691] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-05 18:44:07,516 - __main__ - INFO - [app.py:711] - Cleanup completed successfully
2025-01-05 18:44:07,667 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-05 18:44:07,667 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-05 19:00:53,629 - __main__ - INFO - [app.py:728] - Metrics server started on port 8000
2025-01-05 19:00:53,629 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-05 19:01:07,599 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-05 19:01:14,339 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-05 19:01:14,341 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-05 19:01:18,655 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-05 19:01:18,657 - __main__ - INFO - [app.py:691] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-05 19:01:18,657 - __main__ - INFO - [app.py:752] - ==================================================
2025-01-05 19:01:18,657 - __main__ - INFO - [app.py:753] - Starting LinguaSync Backend
2025-01-05 19:01:18,657 - __main__ - INFO - [app.py:754] - Starting Flask app on port 5001 using cpu
2025-01-05 19:01:18,657 - __main__ - INFO - [app.py:755] - Python version: 3.12.6 (v3.12.6:a4a2d2b0d85, Sep  6 2024, 16:08:03) [Clang 13.0.0 (clang-1300.0.29.30)]
2025-01-05 19:01:18,657 - __main__ - INFO - [app.py:756] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-05 19:01:18,657 - __main__ - INFO - [app.py:757] - Maximum audio length: 300 seconds
2025-01-05 19:01:18,657 - __main__ - INFO - [app.py:758] - Sample rate: 16000 Hz
2025-01-05 19:01:18,657 - __main__ - INFO - [app.py:762] - System memory: 36.0GB total, 14.6GB available
2025-01-05 19:01:18,657 - __main__ - INFO - [app.py:763] - CPU cores: 11
2025-01-05 19:01:18,657 - __main__ - INFO - [app.py:771] - Configuration:
2025-01-05 19:01:18,657 - __main__ - INFO - [app.py:772] - - Debug mode: False
2025-01-05 19:01:18,657 - __main__ - INFO - [app.py:773] - - CORS enabled: True
2025-01-05 19:01:18,657 - __main__ - INFO - [app.py:774] - - Rate limiting: 10 requests per minute
2025-01-05 19:01:18,657 - __main__ - INFO - [app.py:775] - - Metrics enabled: True (port 8000)
2025-01-05 19:01:18,657 - __main__ - INFO - [app.py:777] - ==================================================
2025-01-05 19:02:38,829 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-05 19:02:38,830 - __main__ - INFO - [app.py:326] - Starting translation request 4568478a
2025-01-05 19:02:38,830 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-05 19:02:38,831 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-05 19:02:38,832 - __main__ - INFO - [app.py:384] - Request 4568478a: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpx4mmkymr.wav
2025-01-05 19:02:38,833 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 18.36 seconds
2025-01-05 19:02:38,833 - __main__ - INFO - [app.py:395] - Request 4568478a: Beginning audio processing with diagnostics
2025-01-05 19:02:38,833 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpx4mmkymr.wav
2025-01-05 19:02:38,833 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 44100, Channels: 2
2025-01-05 19:02:38,842 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([2, 809508]), Frequency: 44100Hz
2025-01-05 19:02:38,842 - services.audio_processor - INFO - [audio_processor.py:219] - Resampling from 44100Hz to 16000Hz
2025-01-05 19:02:38,865 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-05 19:02:38,867 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for fra
2025-01-05 19:02:38,888 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-05 19:02:38,902 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 19:02:38,902 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 19:02:38,911 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 19:02:38,911 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 19:02:38,918 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 19:02:38,919 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 19:02:38,925 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 19:02:38,926 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 19:02:39,373 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-05 19:02:39,373 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-05 19:02:39,412 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 19:02:39,412 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 19:02:39,418 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 19:02:39,418 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 19:02:39,427 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 19:02:39,428 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 19:02:39,435 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 19:02:39,435 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 19:02:39,869 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-05 19:02:39,869 - __main__ - INFO - [app.py:406] - 
==================================================
2025-01-05 19:02:39,869 - __main__ - INFO - [app.py:407] - Input Audio Quality Report
2025-01-05 19:02:39,869 - __main__ - INFO - [app.py:408] - ==================================================
2025-01-05 19:02:39,869 - __main__ - INFO - [app.py:409] - Request ID: 4568478a
2025-01-05 19:02:39,869 - __main__ - INFO - [app.py:410] - Target Language: fra
2025-01-05 19:02:39,869 - __main__ - INFO - [app.py:411] - --------------------------------------------------
2025-01-05 19:02:39,869 - __main__ - INFO - [app.py:412] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.800
- Avg Amplitude: 0.013
- Rms Level: 0.039
- Crest Factor: 20.262
- Zero Crossings: 127716.000
- Silence Percentage: 62.168
- Clipping Points: 0.000
- Dynamic Range: 3022615.000

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.070
  - Temporal Flatness: 0.020

- Volume Metrics:
  - Volume Stability: -0.728
  - Volume Range: 29148040.000
  - Volume Variations: 0.034

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.003898838626448
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 0.6381455659866333, 'stability': 1.6408194303512573, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.23516440391540527, 'consistency': 0.2896541953086853, 'distinction': 0.11255760490894318}
  - Description: Moderate nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.670
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.340
  - Rhythm Quality: 0.358
  - Intonation Quality: 0.322

Vowel Quality:
  - Quality Score: 0.005
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-05 19:02:39,870 - __main__ - INFO - [app.py:413] - ==================================================

2025-01-05 19:02:39,870 - __main__ - INFO - [app.py:424] - Request 4568478a: Audio processed successfully
2025-01-05 19:02:39,891 - __main__ - INFO - [app.py:443] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-05 19:02:54,387 - __main__ - INFO - [app.py:483] - Source text: the stale smell of old beer lingers it takes heat to bring out the odor a cold dip restores health and zest a salt pickle tastes fine with ham tacos al pastor are my favorite a zestful food is the hot cross bun
2025-01-05 19:03:10,365 - __main__ - INFO - [app.py:502] - Target text: l'odeur de la vieille bière lingoure il faut de la chaleur pour faire ressortir l'odore une dip froide restaure la santé et le zest un pickle salé goûte bien avec le jambon tacos al pasteur sont mon favori une nourriture zestueuse est le hot cross bun
2025-01-05 19:03:30,820 - __main__ - INFO - [app.py:525] - Processing tuple output from model
2025-01-05 19:03:30,831 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 19:03:30,831 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 19:03:30,835 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 19:03:30,835 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 19:03:30,842 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 19:03:30,842 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 19:03:30,851 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 19:03:30,851 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 19:03:31,199 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-05 19:03:31,199 - __main__ - INFO - [app.py:548] - 
==================================================
2025-01-05 19:03:31,199 - __main__ - INFO - [app.py:549] - Translated Audio Quality Report
2025-01-05 19:03:31,199 - __main__ - INFO - [app.py:550] - ==================================================
2025-01-05 19:03:31,199 - __main__ - INFO - [app.py:551] - Request ID: 4568478a
2025-01-05 19:03:31,199 - __main__ - INFO - [app.py:552] - Target Language: fra
2025-01-05 19:03:31,199 - __main__ - INFO - [app.py:553] - --------------------------------------------------
2025-01-05 19:03:31,199 - __main__ - INFO - [app.py:554] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.740
- Avg Amplitude: 0.065
- Rms Level: 0.101
- Crest Factor: 7.343
- Zero Crossings: 25989.000
- Silence Percentage: 9.714
- Clipping Points: 0.000
- Dynamic Range: 161.473

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.082
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.027
  - Temporal Flatness: 0.015

- Volume Metrics:
  - Volume Stability: 0.308
  - Volume Range: 946.598
  - Volume Variations: 0.057

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.027435631314645
- Background Noise: 3.9370339699253902
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
No issues detected

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 1.0054609775543213, 'stability': 3.626356363296509, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.0872984230518341, 'consistency': 0.0, 'distinction': 0.06605025380849838}
  - Description: Strong nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.534
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.000
  - Rhythm Quality: 0.000
  - Intonation Quality: 0.000

Vowel Quality:
  - Quality Score: 0.002
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-05 19:03:31,199 - __main__ - INFO - [app.py:555] - ==================================================

2025-01-05 19:03:31,199 - __main__ - INFO - [app.py:561] - Request 4568478a: Audio output processed successfully
2025-01-05 19:03:31,203 - __main__ - INFO - [app.py:615] - Request 4568478a: Response prepared successfully
2025-01-05 19:03:31,204 - __main__ - INFO - [app.py:633] - Request 4568478a completed in 52.37s
2025-01-05 19:03:31,204 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 52.37s, Memory Change: 1486.98MB
2025-01-05 19:03:31,204 - __main__ - INFO - [app.py:259] - Request to /translate took 59.81s
2025-01-05 23:16:01,529 - services.model_manager - INFO - [model_manager.py:188] - Model inactive for too long, reloading...
2025-01-05 23:16:01,531 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-05 23:16:15,053 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-05 23:16:21,250 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-05 23:16:21,252 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-05 23:16:26,192 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-05 23:16:26,193 - __main__ - INFO - [app.py:326] - Starting translation request 45e040e5
2025-01-05 23:16:26,193 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-05 23:16:26,193 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-05 23:16:26,195 - __main__ - INFO - [app.py:384] - Request 45e040e5: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpsezy2bjw.wav
2025-01-05 23:16:26,196 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 18.36 seconds
2025-01-05 23:16:26,196 - __main__ - INFO - [app.py:395] - Request 45e040e5: Beginning audio processing with diagnostics
2025-01-05 23:16:26,196 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpsezy2bjw.wav
2025-01-05 23:16:26,196 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 44100, Channels: 2
2025-01-05 23:16:26,204 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([2, 809508]), Frequency: 44100Hz
2025-01-05 23:16:26,204 - services.audio_processor - INFO - [audio_processor.py:219] - Resampling from 44100Hz to 16000Hz
2025-01-05 23:16:26,225 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-05 23:16:26,227 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for fra
2025-01-05 23:16:26,250 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-05 23:16:26,264 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:16:26,264 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:16:26,273 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:16:26,273 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:16:26,279 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:16:26,280 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:16:26,286 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:16:26,286 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:16:26,742 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-05 23:16:26,743 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-05 23:16:26,779 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:16:26,779 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:16:26,786 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:16:26,786 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:16:26,793 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:16:26,793 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:16:26,801 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:16:26,801 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:16:27,232 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-05 23:16:27,233 - __main__ - INFO - [app.py:406] - 
==================================================
2025-01-05 23:16:27,233 - __main__ - INFO - [app.py:407] - Input Audio Quality Report
2025-01-05 23:16:27,233 - __main__ - INFO - [app.py:408] - ==================================================
2025-01-05 23:16:27,233 - __main__ - INFO - [app.py:409] - Request ID: 45e040e5
2025-01-05 23:16:27,233 - __main__ - INFO - [app.py:410] - Target Language: fra
2025-01-05 23:16:27,233 - __main__ - INFO - [app.py:411] - --------------------------------------------------
2025-01-05 23:16:27,233 - __main__ - INFO - [app.py:412] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.800
- Avg Amplitude: 0.013
- Rms Level: 0.039
- Crest Factor: 20.262
- Zero Crossings: 127716.000
- Silence Percentage: 62.168
- Clipping Points: 0.000
- Dynamic Range: 3022615.000

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.070
  - Temporal Flatness: 0.020

- Volume Metrics:
  - Volume Stability: -0.728
  - Volume Range: 29148040.000
  - Volume Variations: 0.034

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.003898838626448
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 0.6381455659866333, 'stability': 1.6408194303512573, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.23516440391540527, 'consistency': 0.2896541953086853, 'distinction': 0.11255760490894318}
  - Description: Moderate nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.670
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.340
  - Rhythm Quality: 0.358
  - Intonation Quality: 0.322

Vowel Quality:
  - Quality Score: 0.005
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-05 23:16:27,233 - __main__ - INFO - [app.py:413] - ==================================================

2025-01-05 23:16:27,233 - __main__ - INFO - [app.py:424] - Request 45e040e5: Audio processed successfully
2025-01-05 23:16:27,254 - __main__ - INFO - [app.py:443] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-05 23:16:41,721 - __main__ - INFO - [app.py:483] - Source text: the stale smell of old beer lingers it takes heat to bring out the odor a cold dip restores health and zest a salt pickle tastes fine with ham tacos al pastor are my favorite a zestful food is the hot cross bun
2025-01-05 23:16:57,697 - __main__ - INFO - [app.py:502] - Target text: l'odeur de la vieille bière lingoure il faut de la chaleur pour faire ressortir l'odore une dip froide restaure la santé et le zest un pickle salé goûte bien avec le jambon tacos al pasteur sont mon favori une nourriture zestueuse est le hot cross bun
2025-01-05 23:17:18,412 - __main__ - INFO - [app.py:525] - Processing tuple output from model
2025-01-05 23:17:18,425 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:17:18,426 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:17:18,432 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:17:18,432 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:17:18,440 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:17:18,440 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:17:18,447 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:17:18,447 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:17:18,770 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-05 23:17:18,771 - __main__ - INFO - [app.py:548] - 
==================================================
2025-01-05 23:17:18,771 - __main__ - INFO - [app.py:549] - Translated Audio Quality Report
2025-01-05 23:17:18,771 - __main__ - INFO - [app.py:550] - ==================================================
2025-01-05 23:17:18,771 - __main__ - INFO - [app.py:551] - Request ID: 45e040e5
2025-01-05 23:17:18,771 - __main__ - INFO - [app.py:552] - Target Language: fra
2025-01-05 23:17:18,771 - __main__ - INFO - [app.py:553] - --------------------------------------------------
2025-01-05 23:17:18,771 - __main__ - INFO - [app.py:554] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.688
- Avg Amplitude: 0.066
- Rms Level: 0.101
- Crest Factor: 6.800
- Zero Crossings: 26482.000
- Silence Percentage: 9.583
- Clipping Points: 0.000
- Dynamic Range: 161.752

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.150
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.027
  - Temporal Flatness: 0.016

- Volume Metrics:
  - Volume Stability: 0.339
  - Volume Range: 1102.067
  - Volume Variations: 0.056

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.0297748576248713
- Background Noise: 3.7200818633045487
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
No issues detected

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 1.007481336593628, 'stability': 3.674450635910034, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.001738857594318688, 'consistency': 0.0, 'distinction': 0.06300119310617447}
  - Description: Strong nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.516
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.000
  - Rhythm Quality: 0.000
  - Intonation Quality: 0.000

Vowel Quality:
  - Quality Score: 0.003
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-05 23:17:18,771 - __main__ - INFO - [app.py:555] - ==================================================

2025-01-05 23:17:18,771 - __main__ - INFO - [app.py:561] - Request 45e040e5: Audio output processed successfully
2025-01-05 23:17:18,775 - __main__ - INFO - [app.py:615] - Request 45e040e5: Response prepared successfully
2025-01-05 23:17:18,775 - __main__ - INFO - [app.py:633] - Request 45e040e5 completed in 52.58s
2025-01-05 23:17:18,776 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 52.58s, Memory Change: 1774.52MB
2025-01-05 23:17:18,776 - __main__ - INFO - [app.py:259] - Request to /translate took 77.25s
2025-01-05 23:18:29,241 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-05 23:18:29,245 - __main__ - INFO - [app.py:326] - Starting translation request 3f4cc584
2025-01-05 23:18:29,245 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-05 23:18:29,245 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-05 23:18:29,246 - __main__ - INFO - [app.py:384] - Request 3f4cc584: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpsrppyd1z.wav
2025-01-05 23:18:29,247 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 18.36 seconds
2025-01-05 23:18:29,247 - __main__ - INFO - [app.py:395] - Request 3f4cc584: Beginning audio processing with diagnostics
2025-01-05 23:18:29,247 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpsrppyd1z.wav
2025-01-05 23:18:29,247 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 44100, Channels: 2
2025-01-05 23:18:29,255 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([2, 809508]), Frequency: 44100Hz
2025-01-05 23:18:29,255 - services.audio_processor - INFO - [audio_processor.py:219] - Resampling from 44100Hz to 16000Hz
2025-01-05 23:18:29,276 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-05 23:18:29,278 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for ita
2025-01-05 23:18:29,278 - services.audio_processor - WARNING - [audio_processor.py:289] - No specific parameters for ita, using defaults
2025-01-05 23:18:29,300 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-05 23:18:29,315 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:18:29,315 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:18:29,323 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:18:29,323 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:18:29,332 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:18:29,332 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:18:29,339 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:18:29,339 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:18:29,792 - services.diagnostics.language_analysis.italian - ERROR - [italian.py:138] - Italian consonant analysis failed: 'ItalianAnalyzer' object has no attribute '_analyze_plosives'
2025-01-05 23:18:29,794 - services.diagnostics.language_analysis.italian - ERROR - [italian.py:184] - Italian stress analysis failed: 'ItalianAnalyzer' object has no attribute '_find_stress_peaks'
2025-01-05 23:18:29,795 - services.diagnostics.language_analysis.italian - ERROR - [italian.py:214] - Italian intonation analysis failed: 'ItalianAnalyzer' object has no attribute '_extract_pitch_contour'
2025-01-05 23:18:29,804 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for ita
2025-01-05 23:18:29,805 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-05 23:18:29,807 - services.audio_processor - WARNING - [audio_processor.py:289] - No specific parameters for ita, using defaults
2025-01-05 23:18:29,841 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:18:29,841 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:18:29,847 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:18:29,847 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:18:29,855 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:18:29,855 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:18:29,861 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:18:29,861 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:18:30,298 - services.diagnostics.language_analysis.italian - ERROR - [italian.py:138] - Italian consonant analysis failed: 'ItalianAnalyzer' object has no attribute '_analyze_plosives'
2025-01-05 23:18:30,300 - services.diagnostics.language_analysis.italian - ERROR - [italian.py:184] - Italian stress analysis failed: 'ItalianAnalyzer' object has no attribute '_find_stress_peaks'
2025-01-05 23:18:30,300 - services.diagnostics.language_analysis.italian - ERROR - [italian.py:214] - Italian intonation analysis failed: 'ItalianAnalyzer' object has no attribute '_extract_pitch_contour'
2025-01-05 23:18:30,308 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for ita
2025-01-05 23:18:30,308 - __main__ - INFO - [app.py:406] - 
==================================================
2025-01-05 23:18:30,308 - __main__ - INFO - [app.py:407] - Input Audio Quality Report
2025-01-05 23:18:30,308 - __main__ - INFO - [app.py:408] - ==================================================
2025-01-05 23:18:30,308 - __main__ - INFO - [app.py:409] - Request ID: 3f4cc584
2025-01-05 23:18:30,308 - __main__ - INFO - [app.py:410] - Target Language: ita
2025-01-05 23:18:30,308 - __main__ - INFO - [app.py:411] - --------------------------------------------------
2025-01-05 23:18:30,308 - __main__ - INFO - [app.py:412] - Audio Quality Analysis Report
==============================

Target Language: ita

Waveform Analysis:
--------------------
- Peak Amplitude: 0.800
- Avg Amplitude: 0.013
- Rms Level: 0.039
- Crest Factor: 20.262
- Zero Crossings: 127716.000
- Silence Percentage: 62.168
- Clipping Points: 0.000
- Dynamic Range: 3022615.000

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.070
  - Temporal Flatness: 0.020

- Volume Metrics:
  - Volume Stability: -0.728
  - Volume Range: 29148040.000
  - Volume Variations: 0.034

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.003898838626448
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Gemination:
  - Strength: 0.526
  - Consistency: 0.374
  - Duration Contrast: 0.564
  - Quality Score: 0.488

Vowel Quality:
  - Clarity: 0.617
  - Stability: -2.042
  - Formant Structure: {'peaks': [50.78125, 62.5, 93.75], 'stability': 0.4533462564077684}
  - Overall Quality: -0.324

Consonant Features:

Prosodic Features:
  - Stress Timing: {'regularity': 0.0, 'contrast': 0.0, 'pattern_quality': 0.0}
  - Intonation: {'melodic_range': 0.0, 'contour_smoothness': 0.0, 'pattern_quality': 0.0}
  - Rhythm: {'regularity': 0.582501249768624, 'pattern_strength': 0.5555804371833801, 'overall_quality': 0.5690408434760021}
2025-01-05 23:18:30,309 - __main__ - INFO - [app.py:413] - ==================================================

2025-01-05 23:18:30,310 - __main__ - INFO - [app.py:424] - Request 3f4cc584: Audio processed successfully
2025-01-05 23:18:30,331 - __main__ - INFO - [app.py:443] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-05 23:18:46,834 - __main__ - INFO - [app.py:483] - Source text: the stale smell of old beer lingers it takes heat to bring out the odor a cold dip restores health and zest a salt pickle tastes fine with ham tacos al pastor are my favorite a zestful food is the hot cross bun
2025-01-05 23:19:03,362 - __main__ - INFO - [app.py:502] - Target text: il stale odore di vecchia birra lingura prende calore per portare fuori l'odore un dip freddo ripristina la salute e lo zest un piccolo salato sa bene con il prosciutto tacos al pasteur sono il mio preferito un cibo zestoso è il hot cross bun
2025-01-05 23:19:26,478 - __main__ - INFO - [app.py:525] - Processing tuple output from model
2025-01-05 23:19:26,491 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:19:26,491 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:19:26,496 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:19:26,496 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:19:26,505 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:19:26,505 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:19:26,510 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:19:26,511 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:19:26,816 - services.diagnostics.language_analysis.italian - ERROR - [italian.py:138] - Italian consonant analysis failed: 'ItalianAnalyzer' object has no attribute '_analyze_plosives'
2025-01-05 23:19:26,817 - services.diagnostics.language_analysis.italian - ERROR - [italian.py:184] - Italian stress analysis failed: 'ItalianAnalyzer' object has no attribute '_find_stress_peaks'
2025-01-05 23:19:26,818 - services.diagnostics.language_analysis.italian - ERROR - [italian.py:214] - Italian intonation analysis failed: 'ItalianAnalyzer' object has no attribute '_extract_pitch_contour'
2025-01-05 23:19:26,826 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for ita
2025-01-05 23:19:26,826 - __main__ - INFO - [app.py:548] - 
==================================================
2025-01-05 23:19:26,826 - __main__ - INFO - [app.py:549] - Translated Audio Quality Report
2025-01-05 23:19:26,826 - __main__ - INFO - [app.py:550] - ==================================================
2025-01-05 23:19:26,826 - __main__ - INFO - [app.py:551] - Request ID: 3f4cc584
2025-01-05 23:19:26,826 - __main__ - INFO - [app.py:552] - Target Language: ita
2025-01-05 23:19:26,826 - __main__ - INFO - [app.py:553] - --------------------------------------------------
2025-01-05 23:19:26,826 - __main__ - INFO - [app.py:554] - Audio Quality Analysis Report
==============================

Target Language: ita

Waveform Analysis:
--------------------
- Peak Amplitude: 0.917
- Avg Amplitude: 0.062
- Rms Level: 0.096
- Crest Factor: 9.553
- Zero Crossings: 26415.000
- Silence Percentage: 10.931
- Clipping Points: 0.000
- Dynamic Range: 188.206

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.025
  - Temporal Flatness: 0.014

- Volume Metrics:
  - Volume Stability: 0.349
  - Volume Range: 1623.340
  - Volume Variations: 0.053

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.0201032277078714
- Background Noise: 4.8213553108296425
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Gemination:
  - Strength: 0.776
  - Consistency: -1.163
  - Duration Contrast: 0.461
  - Quality Score: 0.025

Vowel Quality:
  - Clarity: 1.099
  - Stability: -3.105
  - Formant Structure: {'peaks': [7.8125, 19.53125, 27.34375], 'stability': 0.6295853255290789}
  - Overall Quality: -0.459

Consonant Features:

Prosodic Features:
  - Stress Timing: {'regularity': 0.0, 'contrast': 0.0, 'pattern_quality': 0.0}
  - Intonation: {'melodic_range': 0.0, 'contour_smoothness': 0.0, 'pattern_quality': 0.0}
  - Rhythm: {'regularity': 0.40784694348332573, 'pattern_strength': 0.8683123588562012, 'overall_quality': 0.6380796511697635}
2025-01-05 23:19:26,826 - __main__ - INFO - [app.py:555] - ==================================================

2025-01-05 23:19:26,826 - __main__ - INFO - [app.py:561] - Request 3f4cc584: Audio output processed successfully
2025-01-05 23:19:26,830 - __main__ - INFO - [app.py:615] - Request 3f4cc584: Response prepared successfully
2025-01-05 23:19:26,830 - __main__ - INFO - [app.py:633] - Request 3f4cc584 completed in 57.59s
2025-01-05 23:19:26,831 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 57.59s, Memory Change: 205.92MB
2025-01-05 23:19:26,831 - __main__ - INFO - [app.py:259] - Request to /translate took 63.13s
2025-01-05 23:28:42,477 - __main__ - INFO - [app.py:259] - Request to /translate took 0.00s
2025-01-05 23:28:48,155 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-05 23:28:48,157 - __main__ - INFO - [app.py:326] - Starting translation request 87bd25f0
2025-01-05 23:28:48,157 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-05 23:28:48,157 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-05 23:28:50,937 - __main__ - INFO - [app.py:384] - Request 87bd25f0: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmp04c45b29.wav
2025-01-05 23:28:50,938 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 228.36 seconds
2025-01-05 23:28:50,938 - __main__ - INFO - [app.py:395] - Request 87bd25f0: Beginning audio processing with diagnostics
2025-01-05 23:28:50,938 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmp04c45b29.wav
2025-01-05 23:28:50,938 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 44100, Channels: 2
2025-01-05 23:28:51,049 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([2, 10070784]), Frequency: 44100Hz
2025-01-05 23:28:51,049 - services.audio_processor - INFO - [audio_processor.py:219] - Resampling from 44100Hz to 16000Hz
2025-01-05 23:28:51,444 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-05 23:28:51,464 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for fra
2025-01-05 23:28:51,778 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-05 23:28:51,984 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:28:51,985 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:28:52,077 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:28:52,078 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:28:52,163 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:28:52,163 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:28:52,245 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:28:52,246 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:28:58,623 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-05 23:28:58,624 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-05 23:28:59,139 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:28:59,140 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:28:59,231 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:28:59,232 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:28:59,318 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:28:59,319 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:28:59,400 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:28:59,400 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:29:06,494 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-05 23:29:06,495 - __main__ - INFO - [app.py:406] - 
==================================================
2025-01-05 23:29:06,495 - __main__ - INFO - [app.py:407] - Input Audio Quality Report
2025-01-05 23:29:06,495 - __main__ - INFO - [app.py:408] - ==================================================
2025-01-05 23:29:06,495 - __main__ - INFO - [app.py:409] - Request ID: 87bd25f0
2025-01-05 23:29:06,495 - __main__ - INFO - [app.py:410] - Target Language: fra
2025-01-05 23:29:06,495 - __main__ - INFO - [app.py:411] - --------------------------------------------------
2025-01-05 23:29:06,495 - __main__ - INFO - [app.py:412] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.942
- Avg Amplitude: 0.023
- Rms Level: 0.049
- Crest Factor: 19.304
- Zero Crossings: 1843807.000
- Silence Percentage: 30.477
- Clipping Points: 0.000
- Dynamic Range: 5410542.500

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.072
  - Temporal Flatness: 0.032

- Volume Metrics:
  - Volume Stability: -0.103
  - Volume Range: 36311184.000
  - Volume Variations: 0.036

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.0050558784546233
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 0.8112865090370178, 'stability': 1.1978098154067993, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.07388506829738617, 'consistency': 0.36461275815963745, 'distinction': 0.11199858039617538}
  - Description: Strong nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.563
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.472
  - Rhythm Quality: 0.575
  - Intonation Quality: 0.368

Vowel Quality:
  - Quality Score: 0.005
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-05 23:29:06,495 - __main__ - INFO - [app.py:413] - ==================================================

2025-01-05 23:29:06,496 - __main__ - INFO - [app.py:424] - Request 87bd25f0: Audio processed successfully
2025-01-05 23:29:06,815 - __main__ - INFO - [app.py:443] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-05 23:39:13,419 - __main__ - INFO - [app.py:728] - Metrics server started on port 8000
2025-01-05 23:39:13,419 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-05 23:39:27,383 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-05 23:39:41,035 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-05 23:39:41,036 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-05 23:39:46,040 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-05 23:39:46,044 - __main__ - INFO - [app.py:691] - Cleanup complete: removed 1 files, freed 38.42MB
2025-01-05 23:39:46,044 - __main__ - INFO - [app.py:752] - ==================================================
2025-01-05 23:39:46,044 - __main__ - INFO - [app.py:753] - Starting LinguaSync Backend
2025-01-05 23:39:46,044 - __main__ - INFO - [app.py:754] - Starting Flask app on port 5001 using cpu
2025-01-05 23:39:46,044 - __main__ - INFO - [app.py:755] - Python version: 3.12.6 (v3.12.6:a4a2d2b0d85, Sep  6 2024, 16:08:03) [Clang 13.0.0 (clang-1300.0.29.30)]
2025-01-05 23:39:46,044 - __main__ - INFO - [app.py:756] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-05 23:39:46,044 - __main__ - INFO - [app.py:757] - Maximum audio length: 300 seconds
2025-01-05 23:39:46,044 - __main__ - INFO - [app.py:758] - Sample rate: 16000 Hz
2025-01-05 23:39:46,044 - __main__ - INFO - [app.py:762] - System memory: 36.0GB total, 21.1GB available
2025-01-05 23:39:46,044 - __main__ - INFO - [app.py:763] - CPU cores: 11
2025-01-05 23:39:46,044 - __main__ - INFO - [app.py:771] - Configuration:
2025-01-05 23:39:46,044 - __main__ - INFO - [app.py:772] - - Debug mode: False
2025-01-05 23:39:46,044 - __main__ - INFO - [app.py:773] - - CORS enabled: True
2025-01-05 23:39:46,044 - __main__ - INFO - [app.py:774] - - Rate limiting: 10 requests per minute
2025-01-05 23:39:46,044 - __main__ - INFO - [app.py:775] - - Metrics enabled: True (port 8000)
2025-01-05 23:39:46,044 - __main__ - INFO - [app.py:777] - ==================================================
2025-01-05 23:47:29,023 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-05 23:47:29,025 - __main__ - INFO - [app.py:326] - Starting translation request 2adb4fb2
2025-01-05 23:47:29,025 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-05 23:47:29,025 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-05 23:47:29,027 - __main__ - INFO - [app.py:384] - Request 2adb4fb2: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmp9i30eixo.wav
2025-01-05 23:47:29,028 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 18.36 seconds
2025-01-05 23:47:29,028 - __main__ - INFO - [app.py:395] - Request 2adb4fb2: Beginning audio processing with diagnostics
2025-01-05 23:47:29,028 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmp9i30eixo.wav
2025-01-05 23:47:29,028 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 44100, Channels: 2
2025-01-05 23:47:29,036 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([2, 809508]), Frequency: 44100Hz
2025-01-05 23:47:29,036 - services.audio_processor - INFO - [audio_processor.py:219] - Resampling from 44100Hz to 16000Hz
2025-01-05 23:47:29,066 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-05 23:47:29,068 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for fra
2025-01-05 23:47:29,098 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-05 23:47:29,117 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:47:29,117 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:47:29,134 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:47:29,135 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:47:29,150 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:47:29,150 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:47:29,158 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:47:29,158 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:47:29,611 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-05 23:47:29,611 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-05 23:47:29,648 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:47:29,648 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:47:29,653 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:47:29,654 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:47:29,661 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:47:29,661 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:47:29,669 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:47:29,669 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:47:30,103 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-05 23:47:30,103 - __main__ - INFO - [app.py:406] - 
==================================================
2025-01-05 23:47:30,103 - __main__ - INFO - [app.py:407] - Input Audio Quality Report
2025-01-05 23:47:30,103 - __main__ - INFO - [app.py:408] - ==================================================
2025-01-05 23:47:30,103 - __main__ - INFO - [app.py:409] - Request ID: 2adb4fb2
2025-01-05 23:47:30,103 - __main__ - INFO - [app.py:410] - Target Language: fra
2025-01-05 23:47:30,103 - __main__ - INFO - [app.py:411] - --------------------------------------------------
2025-01-05 23:47:30,103 - __main__ - INFO - [app.py:412] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.800
- Avg Amplitude: 0.013
- Rms Level: 0.039
- Crest Factor: 20.262
- Zero Crossings: 127716.000
- Silence Percentage: 62.168
- Clipping Points: 0.000
- Dynamic Range: 3022615.000

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.070
  - Temporal Flatness: 0.020

- Volume Metrics:
  - Volume Stability: -0.728
  - Volume Range: 29148040.000
  - Volume Variations: 0.034

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.003898838626448
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 0.6381455659866333, 'stability': 1.6408194303512573, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.23516440391540527, 'consistency': 0.2896541953086853, 'distinction': 0.11255760490894318}
  - Description: Moderate nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.670
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.340
  - Rhythm Quality: 0.358
  - Intonation Quality: 0.322

Vowel Quality:
  - Quality Score: 0.005
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-05 23:47:30,103 - __main__ - INFO - [app.py:413] - ==================================================

2025-01-05 23:47:30,104 - __main__ - INFO - [app.py:424] - Request 2adb4fb2: Audio processed successfully
2025-01-05 23:47:30,126 - __main__ - INFO - [app.py:443] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-05 23:47:44,588 - __main__ - INFO - [app.py:483] - Source text: the stale smell of old beer lingers it takes heat to bring out the odor a cold dip restores health and zest a salt pickle tastes fine with ham tacos al pastor are my favorite a zestful food is the hot cross bun
2025-01-05 23:48:01,038 - __main__ - INFO - [app.py:502] - Target text: l'odeur de la vieille bière lingoure il faut de la chaleur pour faire ressortir l'odore une dip froide restaure la santé et le zest un pickle salé goûte bien avec le jambon tacos al pasteur sont mon favori une nourriture zestueuse est le hot cross bun
2025-01-05 23:48:20,296 - __main__ - INFO - [app.py:525] - Processing tuple output from model
2025-01-05 23:48:20,309 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:48:20,310 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:48:20,315 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:48:20,315 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:48:20,323 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:48:20,323 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:48:20,329 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:48:20,329 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:48:20,657 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-05 23:48:20,658 - __main__ - INFO - [app.py:548] - 
==================================================
2025-01-05 23:48:20,658 - __main__ - INFO - [app.py:549] - Translated Audio Quality Report
2025-01-05 23:48:20,658 - __main__ - INFO - [app.py:550] - ==================================================
2025-01-05 23:48:20,658 - __main__ - INFO - [app.py:551] - Request ID: 2adb4fb2
2025-01-05 23:48:20,658 - __main__ - INFO - [app.py:552] - Target Language: fra
2025-01-05 23:48:20,658 - __main__ - INFO - [app.py:553] - --------------------------------------------------
2025-01-05 23:48:20,658 - __main__ - INFO - [app.py:554] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.772
- Avg Amplitude: 0.066
- Rms Level: 0.102
- Crest Factor: 7.558
- Zero Crossings: 27346.000
- Silence Percentage: 10.292
- Clipping Points: 0.000
- Dynamic Range: 181.573

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.055
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.028
  - Temporal Flatness: 0.016

- Volume Metrics:
  - Volume Stability: 0.338
  - Volume Range: 869.311
  - Volume Variations: 0.056

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.027017206139416
- Background Noise: 4.023218151617164
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
No issues detected

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 1.0986577272415161, 'stability': 3.883645534515381, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.0, 'consistency': 0.0, 'distinction': 0.09891226142644882}
  - Description: Strong nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.538
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.000
  - Rhythm Quality: 0.000
  - Intonation Quality: 0.000

Vowel Quality:
  - Quality Score: 0.003
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-05 23:48:20,658 - __main__ - INFO - [app.py:555] - ==================================================

2025-01-05 23:48:20,658 - __main__ - INFO - [app.py:561] - Request 2adb4fb2: Audio output processed successfully
2025-01-05 23:48:20,662 - __main__ - INFO - [app.py:615] - Request 2adb4fb2: Response prepared successfully
2025-01-05 23:48:20,662 - __main__ - INFO - [app.py:633] - Request 2adb4fb2 completed in 51.64s
2025-01-05 23:48:20,664 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 51.64s, Memory Change: 1465.45MB
2025-01-05 23:48:20,665 - __main__ - INFO - [app.py:259] - Request to /translate took 57.21s
2025-01-05 23:49:59,803 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-05 23:49:59,808 - __main__ - INFO - [app.py:326] - Starting translation request 321c4758
2025-01-05 23:49:59,808 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-05 23:49:59,808 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-05 23:49:59,811 - __main__ - INFO - [app.py:384] - Request 321c4758: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpsgxqqp3w.wav
2025-01-05 23:49:59,812 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 18.36 seconds
2025-01-05 23:49:59,812 - __main__ - INFO - [app.py:395] - Request 321c4758: Beginning audio processing with diagnostics
2025-01-05 23:49:59,812 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpsgxqqp3w.wav
2025-01-05 23:49:59,812 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 44100, Channels: 2
2025-01-05 23:49:59,822 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([2, 809508]), Frequency: 44100Hz
2025-01-05 23:49:59,822 - services.audio_processor - INFO - [audio_processor.py:219] - Resampling from 44100Hz to 16000Hz
2025-01-05 23:49:59,850 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-05 23:49:59,852 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for ita
2025-01-05 23:49:59,852 - services.audio_processor - WARNING - [audio_processor.py:289] - No specific parameters for ita, using defaults
2025-01-05 23:49:59,874 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-05 23:49:59,890 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:49:59,890 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:49:59,896 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:49:59,896 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:49:59,905 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:49:59,905 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:49:59,917 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:49:59,917 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:50:00,375 - services.diagnostics.language_analysis.italian - ERROR - [italian.py:138] - Italian consonant analysis failed: 'ItalianAnalyzer' object has no attribute '_analyze_plosives'
2025-01-05 23:50:00,378 - services.diagnostics.language_analysis.italian - ERROR - [italian.py:184] - Italian stress analysis failed: 'ItalianAnalyzer' object has no attribute '_find_stress_peaks'
2025-01-05 23:50:00,378 - services.diagnostics.language_analysis.italian - ERROR - [italian.py:214] - Italian intonation analysis failed: 'ItalianAnalyzer' object has no attribute '_extract_pitch_contour'
2025-01-05 23:50:00,386 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for ita
2025-01-05 23:50:00,386 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-05 23:50:00,388 - services.audio_processor - WARNING - [audio_processor.py:289] - No specific parameters for ita, using defaults
2025-01-05 23:50:00,424 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:50:00,424 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:50:00,430 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:50:00,430 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:50:00,437 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:50:00,438 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:50:00,447 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:50:00,447 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:50:00,885 - services.diagnostics.language_analysis.italian - ERROR - [italian.py:138] - Italian consonant analysis failed: 'ItalianAnalyzer' object has no attribute '_analyze_plosives'
2025-01-05 23:50:00,887 - services.diagnostics.language_analysis.italian - ERROR - [italian.py:184] - Italian stress analysis failed: 'ItalianAnalyzer' object has no attribute '_find_stress_peaks'
2025-01-05 23:50:00,887 - services.diagnostics.language_analysis.italian - ERROR - [italian.py:214] - Italian intonation analysis failed: 'ItalianAnalyzer' object has no attribute '_extract_pitch_contour'
2025-01-05 23:50:00,896 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for ita
2025-01-05 23:50:00,897 - __main__ - INFO - [app.py:406] - 
==================================================
2025-01-05 23:50:00,897 - __main__ - INFO - [app.py:407] - Input Audio Quality Report
2025-01-05 23:50:00,897 - __main__ - INFO - [app.py:408] - ==================================================
2025-01-05 23:50:00,897 - __main__ - INFO - [app.py:409] - Request ID: 321c4758
2025-01-05 23:50:00,897 - __main__ - INFO - [app.py:410] - Target Language: ita
2025-01-05 23:50:00,897 - __main__ - INFO - [app.py:411] - --------------------------------------------------
2025-01-05 23:50:00,897 - __main__ - INFO - [app.py:412] - Audio Quality Analysis Report
==============================

Target Language: ita

Waveform Analysis:
--------------------
- Peak Amplitude: 0.800
- Avg Amplitude: 0.013
- Rms Level: 0.039
- Crest Factor: 20.262
- Zero Crossings: 127716.000
- Silence Percentage: 62.168
- Clipping Points: 0.000
- Dynamic Range: 3022615.000

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.070
  - Temporal Flatness: 0.020

- Volume Metrics:
  - Volume Stability: -0.728
  - Volume Range: 29148040.000
  - Volume Variations: 0.034

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.003898838626448
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Gemination:
  - Strength: 0.526
  - Consistency: 0.374
  - Duration Contrast: 0.564
  - Quality Score: 0.488

Vowel Quality:
  - Clarity: 0.617
  - Stability: -2.042
  - Formant Structure: {'peaks': [50.78125, 62.5, 93.75], 'stability': 0.4533462564077684}
  - Overall Quality: -0.324

Consonant Features:

Prosodic Features:
  - Stress Timing: {'regularity': 0.0, 'contrast': 0.0, 'pattern_quality': 0.0}
  - Intonation: {'melodic_range': 0.0, 'contour_smoothness': 0.0, 'pattern_quality': 0.0}
  - Rhythm: {'regularity': 0.582501249768624, 'pattern_strength': 0.5555804371833801, 'overall_quality': 0.5690408434760021}
2025-01-05 23:50:00,897 - __main__ - INFO - [app.py:413] - ==================================================

2025-01-05 23:50:00,897 - __main__ - INFO - [app.py:424] - Request 321c4758: Audio processed successfully
2025-01-05 23:50:00,919 - __main__ - INFO - [app.py:443] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-05 23:50:17,408 - __main__ - INFO - [app.py:483] - Source text: the stale smell of old beer lingers it takes heat to bring out the odor a cold dip restores health and zest a salt pickle tastes fine with ham tacos al pastor are my favorite a zestful food is the hot cross bun
2025-01-05 23:50:33,549 - __main__ - INFO - [app.py:502] - Target text: il stale odore di vecchia birra lingura prende calore per portare fuori l'odore un dip freddo ripristina la salute e lo zest un piccolo salato sa bene con il prosciutto tacos al pasteur sono il mio preferito un cibo zestoso è il hot cross bun
2025-01-05 23:50:52,984 - __main__ - INFO - [app.py:525] - Processing tuple output from model
2025-01-05 23:50:53,002 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:50:53,002 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:50:53,009 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:50:53,009 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:50:53,015 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:50:53,015 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:50:53,023 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-05 23:50:53,023 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-05 23:50:53,285 - services.diagnostics.language_analysis.italian - ERROR - [italian.py:138] - Italian consonant analysis failed: 'ItalianAnalyzer' object has no attribute '_analyze_plosives'
2025-01-05 23:50:53,287 - services.diagnostics.language_analysis.italian - ERROR - [italian.py:184] - Italian stress analysis failed: 'ItalianAnalyzer' object has no attribute '_find_stress_peaks'
2025-01-05 23:50:53,288 - services.diagnostics.language_analysis.italian - ERROR - [italian.py:214] - Italian intonation analysis failed: 'ItalianAnalyzer' object has no attribute '_extract_pitch_contour'
2025-01-05 23:50:53,296 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for ita
2025-01-05 23:50:53,296 - __main__ - INFO - [app.py:548] - 
==================================================
2025-01-05 23:50:53,296 - __main__ - INFO - [app.py:549] - Translated Audio Quality Report
2025-01-05 23:50:53,296 - __main__ - INFO - [app.py:550] - ==================================================
2025-01-05 23:50:53,296 - __main__ - INFO - [app.py:551] - Request ID: 321c4758
2025-01-05 23:50:53,296 - __main__ - INFO - [app.py:552] - Target Language: ita
2025-01-05 23:50:53,296 - __main__ - INFO - [app.py:553] - --------------------------------------------------
2025-01-05 23:50:53,296 - __main__ - INFO - [app.py:554] - Audio Quality Analysis Report
==============================

Target Language: ita

Waveform Analysis:
--------------------
- Peak Amplitude: 0.926
- Avg Amplitude: 0.063
- Rms Level: 0.098
- Crest Factor: 9.500
- Zero Crossings: 26485.000
- Silence Percentage: 10.649
- Clipping Points: 0.000
- Dynamic Range: 183.830

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.025
  - Temporal Flatness: 0.014

- Volume Metrics:
  - Volume Stability: 0.370
  - Volume Range: 2000.536
  - Volume Variations: 0.052

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.0205271089674097
- Background Noise: 4.799965835342804
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Gemination:
  - Strength: 0.853
  - Consistency: -1.081
  - Duration Contrast: 0.545
  - Quality Score: 0.106

Vowel Quality:
  - Clarity: 1.060
  - Stability: -3.137
  - Formant Structure: {'peaks': [7.8125, 19.53125, 42.96875], 'stability': 0.6841309725396345}
  - Overall Quality: -0.464

Consonant Features:

Prosodic Features:
  - Stress Timing: {'regularity': 0.0, 'contrast': 0.0, 'pattern_quality': 0.0}
  - Intonation: {'melodic_range': 0.0, 'contour_smoothness': 0.0, 'pattern_quality': 0.0}
  - Rhythm: {'regularity': 0.473369754905275, 'pattern_strength': 0.8546707034111023, 'overall_quality': 0.6640202291581887}
2025-01-05 23:50:53,296 - __main__ - INFO - [app.py:555] - ==================================================

2025-01-05 23:50:53,296 - __main__ - INFO - [app.py:561] - Request 321c4758: Audio output processed successfully
2025-01-05 23:50:53,300 - __main__ - INFO - [app.py:615] - Request 321c4758: Response prepared successfully
2025-01-05 23:50:53,301 - __main__ - INFO - [app.py:633] - Request 321c4758 completed in 53.49s
2025-01-05 23:50:53,304 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 53.50s, Memory Change: 333.58MB
2025-01-05 23:50:53,304 - __main__ - INFO - [app.py:259] - Request to /translate took 61.31s
2025-01-05 23:59:54,023 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-05 23:59:54,023 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-06 00:00:02,945 - __main__ - INFO - [app.py:728] - Metrics server started on port 8000
2025-01-06 00:00:02,945 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-06 00:00:16,837 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-06 00:00:24,857 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-06 00:00:24,859 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-06 00:00:29,754 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-06 00:00:29,756 - __main__ - INFO - [app.py:691] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-06 00:00:29,756 - __main__ - INFO - [app.py:752] - ==================================================
2025-01-06 00:00:29,756 - __main__ - INFO - [app.py:753] - Starting LinguaSync Backend
2025-01-06 00:00:29,756 - __main__ - INFO - [app.py:754] - Starting Flask app on port 5001 using cpu
2025-01-06 00:00:29,756 - __main__ - INFO - [app.py:755] - Python version: 3.12.6 (v3.12.6:a4a2d2b0d85, Sep  6 2024, 16:08:03) [Clang 13.0.0 (clang-1300.0.29.30)]
2025-01-06 00:00:29,756 - __main__ - INFO - [app.py:756] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-06 00:00:29,756 - __main__ - INFO - [app.py:757] - Maximum audio length: 300 seconds
2025-01-06 00:00:29,756 - __main__ - INFO - [app.py:758] - Sample rate: 16000 Hz
2025-01-06 00:00:29,756 - __main__ - INFO - [app.py:762] - System memory: 36.0GB total, 17.6GB available
2025-01-06 00:00:29,756 - __main__ - INFO - [app.py:763] - CPU cores: 11
2025-01-06 00:00:29,757 - __main__ - INFO - [app.py:771] - Configuration:
2025-01-06 00:00:29,757 - __main__ - INFO - [app.py:772] - - Debug mode: False
2025-01-06 00:00:29,757 - __main__ - INFO - [app.py:773] - - CORS enabled: True
2025-01-06 00:00:29,757 - __main__ - INFO - [app.py:774] - - Rate limiting: 10 requests per minute
2025-01-06 00:00:29,757 - __main__ - INFO - [app.py:775] - - Metrics enabled: True (port 8000)
2025-01-06 00:00:29,757 - __main__ - INFO - [app.py:777] - ==================================================
2025-01-06 00:11:20,882 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-06 00:11:20,884 - __main__ - INFO - [app.py:326] - Starting translation request 1f1d7003
2025-01-06 00:11:20,884 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-06 00:11:20,884 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-06 00:11:20,886 - __main__ - INFO - [app.py:384] - Request 1f1d7003: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmprjt83s5l.wav
2025-01-06 00:11:20,887 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 18.36 seconds
2025-01-06 00:11:20,887 - __main__ - INFO - [app.py:395] - Request 1f1d7003: Beginning audio processing with diagnostics
2025-01-06 00:11:20,887 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmprjt83s5l.wav
2025-01-06 00:11:20,887 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 44100, Channels: 2
2025-01-06 00:11:20,896 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([2, 809508]), Frequency: 44100Hz
2025-01-06 00:11:20,896 - services.audio_processor - INFO - [audio_processor.py:219] - Resampling from 44100Hz to 16000Hz
2025-01-06 00:11:20,916 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-06 00:11:20,919 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for fra
2025-01-06 00:11:20,941 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-06 00:11:20,955 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-06 00:11:20,955 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-06 00:11:20,961 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-06 00:11:20,961 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-06 00:11:20,968 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-06 00:11:20,968 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-06 00:11:20,975 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-06 00:11:20,975 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-06 00:11:21,452 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-06 00:11:21,452 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-06 00:11:21,490 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-06 00:11:21,491 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-06 00:11:21,506 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-06 00:11:21,506 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-06 00:11:21,517 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-06 00:11:21,517 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-06 00:11:21,526 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-06 00:11:21,526 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-06 00:11:21,959 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-06 00:11:21,959 - __main__ - INFO - [app.py:406] - 
==================================================
2025-01-06 00:11:21,959 - __main__ - INFO - [app.py:407] - Input Audio Quality Report
2025-01-06 00:11:21,959 - __main__ - INFO - [app.py:408] - ==================================================
2025-01-06 00:11:21,959 - __main__ - INFO - [app.py:409] - Request ID: 1f1d7003
2025-01-06 00:11:21,959 - __main__ - INFO - [app.py:410] - Target Language: fra
2025-01-06 00:11:21,959 - __main__ - INFO - [app.py:411] - --------------------------------------------------
2025-01-06 00:11:21,959 - __main__ - INFO - [app.py:412] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.800
- Avg Amplitude: 0.013
- Rms Level: 0.039
- Crest Factor: 20.262
- Zero Crossings: 127716.000
- Silence Percentage: 62.168
- Clipping Points: 0.000
- Dynamic Range: 3022615.000

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.070
  - Temporal Flatness: 0.020

- Volume Metrics:
  - Volume Stability: -0.728
  - Volume Range: 29148040.000
  - Volume Variations: 0.034

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.003898838626448
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 0.6381455659866333, 'stability': 1.6408194303512573, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.23516440391540527, 'consistency': 0.2896541953086853, 'distinction': 0.11255760490894318}
  - Description: Moderate nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.670
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.340
  - Rhythm Quality: 0.358
  - Intonation Quality: 0.322

Vowel Quality:
  - Quality Score: 0.005
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-06 00:11:21,959 - __main__ - INFO - [app.py:413] - ==================================================

2025-01-06 00:11:21,960 - __main__ - INFO - [app.py:424] - Request 1f1d7003: Audio processed successfully
2025-01-06 00:11:21,980 - __main__ - INFO - [app.py:443] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-06 00:11:36,860 - __main__ - INFO - [app.py:483] - Source text: the stale smell of old beer lingers it takes heat to bring out the odor a cold dip restores health and zest a salt pickle tastes fine with ham tacos al pastor are my favorite a zestful food is the hot cross bun
2025-01-06 00:11:54,698 - __main__ - INFO - [app.py:502] - Target text: l'odeur de la vieille bière lingoure il faut de la chaleur pour faire ressortir l'odore une dip froide restaure la santé et le zest un pickle salé goûte bien avec le jambon tacos al pasteur sont mon favori une nourriture zestueuse est le hot cross bun
2025-01-06 00:12:19,139 - __main__ - INFO - [app.py:525] - Processing tuple output from model
2025-01-06 00:12:19,154 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-06 00:12:19,154 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-06 00:12:19,164 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-06 00:12:19,165 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-06 00:12:19,175 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-06 00:12:19,175 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-06 00:12:19,184 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-06 00:12:19,185 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-06 00:12:19,527 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-06 00:12:19,527 - __main__ - INFO - [app.py:548] - 
==================================================
2025-01-06 00:12:19,527 - __main__ - INFO - [app.py:549] - Translated Audio Quality Report
2025-01-06 00:12:19,527 - __main__ - INFO - [app.py:550] - ==================================================
2025-01-06 00:12:19,527 - __main__ - INFO - [app.py:551] - Request ID: 1f1d7003
2025-01-06 00:12:19,527 - __main__ - INFO - [app.py:552] - Target Language: fra
2025-01-06 00:12:19,527 - __main__ - INFO - [app.py:553] - --------------------------------------------------
2025-01-06 00:12:19,528 - __main__ - INFO - [app.py:554] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.687
- Avg Amplitude: 0.065
- Rms Level: 0.100
- Crest Factor: 6.867
- Zero Crossings: 27316.000
- Silence Percentage: 9.358
- Clipping Points: 0.000
- Dynamic Range: 149.783

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.142
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.028
  - Temporal Flatness: 0.016

- Volume Metrics:
  - Volume Stability: 0.345
  - Volume Range: 814.109
  - Volume Variations: 0.055

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.029130704395414
- Background Noise: 3.7466518566423272
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
No issues detected

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 1.0420191287994385, 'stability': 3.491217851638794, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.14156107604503632, 'consistency': 0.0, 'distinction': 0.07493152469396591}
  - Description: Strong nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.539
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.000
  - Rhythm Quality: 0.000
  - Intonation Quality: 0.000

Vowel Quality:
  - Quality Score: 0.003
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-06 00:12:19,528 - __main__ - INFO - [app.py:555] - ==================================================

2025-01-06 00:12:19,528 - __main__ - INFO - [app.py:561] - Request 1f1d7003: Audio output processed successfully
2025-01-06 00:12:19,532 - __main__ - INFO - [app.py:615] - Request 1f1d7003: Response prepared successfully
2025-01-06 00:12:19,532 - __main__ - INFO - [app.py:633] - Request 1f1d7003 completed in 58.65s
2025-01-06 00:12:19,536 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 58.65s, Memory Change: 1627.80MB
2025-01-06 00:12:19,537 - __main__ - INFO - [app.py:259] - Request to /translate took 64.42s
2025-01-06 00:53:55,173 - __main__ - INFO - [app.py:259] - Request to /upload_podcast took 0.00s
2025-01-06 22:22:42,747 - __main__ - INFO - [app.py:259] - Request to /upload_podcast took 0.00s
2025-01-06 23:14:59,679 - __main__ - INFO - [app.py:259] - Request to /upload_podcast took 0.00s
2025-01-06 23:15:16,286 - __main__ - INFO - [app.py:198] - Received SIGINT signal
2025-01-06 23:15:16,287 - __main__ - INFO - [app.py:183] - Initiating graceful shutdown...
2025-01-06 23:15:21,293 - __main__ - INFO - [app.py:698] - Application shutting down...
2025-01-06 23:15:21,294 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-06 23:15:21,294 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-06 23:15:21,295 - __main__ - INFO - [app.py:691] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-06 23:15:21,296 - __main__ - INFO - [app.py:711] - Cleanup completed successfully
2025-01-06 23:15:21,296 - __main__ - INFO - [app.py:187] - Graceful shutdown completed
2025-01-06 23:15:21,297 - __main__ - INFO - [app.py:698] - Application shutting down...
2025-01-06 23:15:21,298 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-06 23:15:21,298 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-06 23:15:21,298 - __main__ - INFO - [app.py:691] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-06 23:15:21,298 - __main__ - INFO - [app.py:711] - Cleanup completed successfully
2025-01-06 23:15:21,299 - __main__ - INFO - [app.py:698] - Application shutting down...
2025-01-06 23:15:21,300 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-06 23:15:21,300 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-06 23:15:21,301 - __main__ - INFO - [app.py:691] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-06 23:15:21,301 - __main__ - INFO - [app.py:711] - Cleanup completed successfully
2025-01-06 23:15:21,536 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-06 23:15:21,536 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-06 23:16:55,244 - __main__ - INFO - [app.py:841] - Metrics server started on port 8000
2025-01-06 23:16:55,244 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-06 23:17:10,614 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-06 23:17:27,053 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-06 23:17:27,054 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-06 23:17:34,600 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-06 23:17:34,602 - __main__ - INFO - [app.py:792] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-06 23:17:34,602 - __main__ - INFO - [app.py:865] - ==================================================
2025-01-06 23:17:34,602 - __main__ - INFO - [app.py:866] - Starting LinguaSync Backend
2025-01-06 23:17:34,602 - __main__ - INFO - [app.py:867] - Starting Flask app on port 5001 using cpu
2025-01-06 23:17:34,602 - __main__ - INFO - [app.py:868] - Python version: 3.12.6 (v3.12.6:a4a2d2b0d85, Sep  6 2024, 16:08:03) [Clang 13.0.0 (clang-1300.0.29.30)]
2025-01-06 23:17:34,602 - __main__ - INFO - [app.py:869] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-06 23:17:34,602 - __main__ - INFO - [app.py:870] - Maximum audio length: 300 seconds
2025-01-06 23:17:34,602 - __main__ - INFO - [app.py:871] - Sample rate: 16000 Hz
2025-01-06 23:17:34,602 - __main__ - INFO - [app.py:875] - System memory: 36.0GB total, 15.2GB available
2025-01-06 23:17:34,602 - __main__ - INFO - [app.py:876] - CPU cores: 11
2025-01-06 23:17:34,602 - __main__ - INFO - [app.py:884] - Configuration:
2025-01-06 23:17:34,603 - __main__ - INFO - [app.py:885] - - Debug mode: False
2025-01-06 23:17:34,603 - __main__ - INFO - [app.py:886] - - CORS enabled: True
2025-01-06 23:17:34,603 - __main__ - INFO - [app.py:887] - - Rate limiting: 10 requests per minute
2025-01-06 23:17:34,603 - __main__ - INFO - [app.py:888] - - Metrics enabled: True (port 8000)
2025-01-06 23:17:34,603 - __main__ - INFO - [app.py:890] - ==================================================
2025-01-06 23:18:27,265 - __main__ - INFO - [app.py:667] - Starting podcast upload request 3a13da8e
2025-01-06 23:18:27,271 - __main__ - INFO - [app.py:697] - Request 3a13da8e: Saved file to uploads/podcasts/b0829834-4a61-4667-87fd-071cbb86395c_harvard.wav
2025-01-06 23:18:27,278 - __main__ - INFO - [app.py:727] - Request 3a13da8e: Successfully processed podcast upload: harvard
2025-01-06 23:18:27,278 - __main__ - INFO - [app.py:736] - Request 3a13da8e completed in 0.01s
2025-01-06 23:18:27,279 - services.utils - INFO - [utils.py:57] - Performance - Function: upload_podcast, Duration: 0.01s, Memory Change: 1.62MB
2025-01-06 23:18:27,279 - __main__ - INFO - [app.py:274] - Request to /upload_podcast took 0.01s
2025-01-07 22:43:02,960 - __main__ - INFO - [app.py:213] - Received SIGINT signal
2025-01-07 22:43:02,964 - __main__ - INFO - [app.py:198] - Initiating graceful shutdown...
2025-01-07 22:43:07,965 - __main__ - INFO - [app.py:810] - Application shutting down...
2025-01-07 22:43:07,965 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-07 22:43:07,966 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-07 22:43:07,967 - __main__ - INFO - [app.py:792] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-07 22:43:07,968 - __main__ - INFO - [app.py:824] - Cleanup completed successfully
2025-01-07 22:43:07,968 - __main__ - INFO - [app.py:202] - Graceful shutdown completed
2025-01-07 22:43:07,970 - __main__ - INFO - [app.py:810] - Application shutting down...
2025-01-07 22:43:07,970 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-07 22:43:07,971 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-07 22:43:07,971 - __main__ - INFO - [app.py:792] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-07 22:43:07,971 - __main__ - INFO - [app.py:824] - Cleanup completed successfully
2025-01-07 22:43:07,973 - __main__ - INFO - [app.py:810] - Application shutting down...
2025-01-07 22:43:07,974 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-07 22:43:07,974 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-07 22:43:07,974 - __main__ - INFO - [app.py:792] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-07 22:43:07,975 - __main__ - INFO - [app.py:824] - Cleanup completed successfully
2025-01-07 22:43:08,141 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-07 22:43:08,142 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-07 22:43:18,163 - __main__ - INFO - [app.py:763] - Metrics server started on port 8000
2025-01-07 22:43:18,163 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-07 22:43:32,788 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-07 22:43:43,902 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-07 22:43:43,905 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-07 22:43:48,433 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-07 22:43:48,436 - __main__ - INFO - [app.py:714] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-07 22:43:48,436 - __main__ - INFO - [app.py:787] - ==================================================
2025-01-07 22:43:48,436 - __main__ - INFO - [app.py:788] - Starting LinguaSync Backend
2025-01-07 22:43:48,436 - __main__ - INFO - [app.py:789] - Starting Flask app on port 5001 using cpu
2025-01-07 22:43:48,436 - __main__ - INFO - [app.py:790] - Python version: 3.12.6 (v3.12.6:a4a2d2b0d85, Sep  6 2024, 16:08:03) [Clang 13.0.0 (clang-1300.0.29.30)]
2025-01-07 22:43:48,436 - __main__ - INFO - [app.py:791] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-07 22:43:48,436 - __main__ - INFO - [app.py:792] - Maximum audio length: 300 seconds
2025-01-07 22:43:48,436 - __main__ - INFO - [app.py:793] - Sample rate: 16000 Hz
2025-01-07 22:43:48,436 - __main__ - INFO - [app.py:797] - System memory: 36.0GB total, 15.3GB available
2025-01-07 22:43:48,436 - __main__ - INFO - [app.py:798] - CPU cores: 11
2025-01-07 22:43:48,436 - __main__ - INFO - [app.py:806] - Configuration:
2025-01-07 22:43:48,436 - __main__ - INFO - [app.py:807] - - Debug mode: False
2025-01-07 22:43:48,436 - __main__ - INFO - [app.py:808] - - CORS enabled: True
2025-01-07 22:43:48,436 - __main__ - INFO - [app.py:809] - - Rate limiting: 10 requests per minute
2025-01-07 22:43:48,436 - __main__ - INFO - [app.py:810] - - Metrics enabled: True (port 8000)
2025-01-07 22:43:48,436 - __main__ - INFO - [app.py:812] - ==================================================
2025-01-07 22:44:50,302 - services.podcast_routes - INFO - [podcast_routes.py:25] - Starting podcast upload request a88a9bb9
2025-01-07 22:44:50,307 - services.podcast_routes - INFO - [podcast_routes.py:56] - Request a88a9bb9: Saved file to uploads/podcasts/51ffcf0e-cb93-401b-8060-4c333412660e_harvard.wav
2025-01-07 22:44:50,313 - services.podcast_routes - INFO - [podcast_routes.py:86] - Request a88a9bb9: Successfully processed podcast upload: harvard
2025-01-07 22:44:50,313 - services.podcast_routes - INFO - [podcast_routes.py:95] - Request a88a9bb9 completed in 0.01s
2025-01-07 22:44:50,314 - services.utils - INFO - [utils.py:57] - Performance - Function: upload_podcast, Duration: 0.01s, Memory Change: 0.31MB
2025-01-07 22:44:50,314 - __main__ - INFO - [app.py:276] - Request to /upload_podcast took 0.01s
2025-01-07 23:17:07,811 - __main__ - INFO - [app.py:215] - Received SIGINT signal
2025-01-07 23:17:07,812 - __main__ - INFO - [app.py:200] - Initiating graceful shutdown...
2025-01-07 23:17:12,812 - __main__ - INFO - [app.py:732] - Application shutting down...
2025-01-07 23:17:12,813 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-07 23:17:12,813 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-07 23:17:12,814 - __main__ - INFO - [app.py:714] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-07 23:17:12,815 - __main__ - INFO - [app.py:746] - Cleanup completed successfully
2025-01-07 23:17:12,815 - __main__ - INFO - [app.py:204] - Graceful shutdown completed
2025-01-07 23:17:12,816 - __main__ - INFO - [app.py:732] - Application shutting down...
2025-01-07 23:17:12,817 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-07 23:17:12,817 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-07 23:17:12,817 - __main__ - INFO - [app.py:714] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-07 23:17:12,817 - __main__ - INFO - [app.py:746] - Cleanup completed successfully
2025-01-07 23:17:12,818 - __main__ - INFO - [app.py:732] - Application shutting down...
2025-01-07 23:17:12,819 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-07 23:17:12,819 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-07 23:17:12,819 - __main__ - INFO - [app.py:714] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-07 23:17:12,820 - __main__ - INFO - [app.py:746] - Cleanup completed successfully
2025-01-07 23:17:12,958 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-07 23:17:12,958 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-07 23:17:39,157 - __main__ - INFO - [app.py:424] - Metrics server started on port 8000
2025-01-07 23:17:39,157 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-07 23:17:51,876 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-07 23:17:57,916 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-07 23:17:57,917 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-07 23:18:02,785 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-07 23:18:02,786 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-07 23:18:02,786 - __main__ - INFO - [app.py:448] - ==================================================
2025-01-07 23:18:02,786 - __main__ - INFO - [app.py:449] - Starting LinguaSync Backend
2025-01-07 23:18:02,786 - __main__ - INFO - [app.py:450] - Starting Flask app on port 5001 using cpu
2025-01-07 23:18:02,786 - __main__ - INFO - [app.py:451] - Python version: 3.12.6 (v3.12.6:a4a2d2b0d85, Sep  6 2024, 16:08:03) [Clang 13.0.0 (clang-1300.0.29.30)]
2025-01-07 23:18:02,786 - __main__ - INFO - [app.py:452] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-07 23:18:02,786 - __main__ - INFO - [app.py:453] - Maximum audio length: 300 seconds
2025-01-07 23:18:02,786 - __main__ - INFO - [app.py:454] - Sample rate: 16000 Hz
2025-01-07 23:18:02,786 - __main__ - INFO - [app.py:458] - System memory: 36.0GB total, 15.5GB available
2025-01-07 23:18:02,786 - __main__ - INFO - [app.py:459] - CPU cores: 11
2025-01-07 23:18:02,786 - __main__ - INFO - [app.py:467] - Configuration:
2025-01-07 23:18:02,786 - __main__ - INFO - [app.py:468] - - Debug mode: False
2025-01-07 23:18:02,786 - __main__ - INFO - [app.py:469] - - CORS enabled: True
2025-01-07 23:18:02,787 - __main__ - INFO - [app.py:470] - - Rate limiting: 10 requests per minute
2025-01-07 23:18:02,787 - __main__ - INFO - [app.py:471] - - Metrics enabled: True (port 8000)
2025-01-07 23:18:02,787 - __main__ - INFO - [app.py:473] - ==================================================
2025-01-07 23:18:25,336 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-07 23:18:25,338 - services.translation_routes - INFO - [translation_routes.py:29] - Starting translation request b97175d8
2025-01-07 23:18:25,338 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-07 23:18:25,338 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-07 23:18:25,340 - services.translation_routes - INFO - [translation_routes.py:86] - Request b97175d8: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpwy3amn77.wav
2025-01-07 23:18:25,340 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 18.36 seconds
2025-01-07 23:18:25,340 - services.translation_routes - INFO - [translation_routes.py:99] - Request b97175d8: Beginning audio processing with diagnostics
2025-01-07 23:18:25,340 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpwy3amn77.wav
2025-01-07 23:18:25,340 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 44100, Channels: 2
2025-01-07 23:18:25,348 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([2, 809508]), Frequency: 44100Hz
2025-01-07 23:18:25,348 - services.audio_processor - INFO - [audio_processor.py:219] - Resampling from 44100Hz to 16000Hz
2025-01-07 23:18:25,370 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-07 23:18:25,372 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for fra
2025-01-07 23:18:25,391 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-07 23:18:25,407 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-07 23:18:25,408 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-07 23:18:25,416 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-07 23:18:25,417 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-07 23:18:25,422 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-07 23:18:25,422 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-07 23:18:25,429 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-07 23:18:25,429 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-07 23:18:25,894 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-07 23:18:25,894 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-07 23:18:25,947 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-07 23:18:25,947 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-07 23:18:25,954 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-07 23:18:25,954 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-07 23:18:25,963 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-07 23:18:25,963 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-07 23:18:25,973 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-07 23:18:25,973 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-07 23:18:26,428 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-07 23:18:26,428 - services.translation_routes - INFO - [translation_routes.py:110] - 
==================================================
2025-01-07 23:18:26,428 - services.translation_routes - INFO - [translation_routes.py:111] - Input Audio Quality Report
2025-01-07 23:18:26,428 - services.translation_routes - INFO - [translation_routes.py:112] - ==================================================
2025-01-07 23:18:26,428 - services.translation_routes - INFO - [translation_routes.py:113] - Request ID: b97175d8
2025-01-07 23:18:26,428 - services.translation_routes - INFO - [translation_routes.py:114] - Target Language: fra
2025-01-07 23:18:26,428 - services.translation_routes - INFO - [translation_routes.py:115] - --------------------------------------------------
2025-01-07 23:18:26,428 - services.translation_routes - INFO - [translation_routes.py:116] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.800
- Avg Amplitude: 0.013
- Rms Level: 0.039
- Crest Factor: 20.262
- Zero Crossings: 127716.000
- Silence Percentage: 62.168
- Clipping Points: 0.000
- Dynamic Range: 3022615.000

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.070
  - Temporal Flatness: 0.020

- Volume Metrics:
  - Volume Stability: -0.728
  - Volume Range: 29148040.000
  - Volume Variations: 0.034

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.003898838626448
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 0.6381455659866333, 'stability': 1.6408194303512573, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.23516440391540527, 'consistency': 0.2896541953086853, 'distinction': 0.11255760490894318}
  - Description: Moderate nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.670
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.340
  - Rhythm Quality: 0.358
  - Intonation Quality: 0.322

Vowel Quality:
  - Quality Score: 0.005
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-07 23:18:26,429 - services.translation_routes - INFO - [translation_routes.py:117] - ==================================================

2025-01-07 23:18:26,429 - services.translation_routes - INFO - [translation_routes.py:128] - Request b97175d8: Audio processed successfully
2025-01-07 23:18:26,451 - services.translation_routes - INFO - [translation_routes.py:147] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-07 23:18:41,101 - services.translation_routes - INFO - [translation_routes.py:185] - Source text: the stale smell of old beer lingers it takes heat to bring out the odor a cold dip restores health and zest a salt pickle tastes fine with ham tacos al pastor are my favorite a zestful food is the hot cross bun
2025-01-07 23:18:56,906 - services.translation_routes - INFO - [translation_routes.py:204] - Target text: l'odeur de la vieille bière lingoure il faut de la chaleur pour faire ressortir l'odore une dip froide restaure la santé et le zest un pickle salé goûte bien avec le jambon tacos al pasteur sont mon favori une nourriture zestueuse est le hot cross bun
2025-01-07 23:19:17,357 - services.translation_routes - INFO - [translation_routes.py:227] - Processing tuple output from model
2025-01-07 23:19:17,370 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-07 23:19:17,370 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-07 23:19:17,374 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-07 23:19:17,374 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-07 23:19:17,381 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-07 23:19:17,381 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-07 23:19:17,387 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-07 23:19:17,387 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-07 23:19:17,695 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-07 23:19:17,695 - services.translation_routes - INFO - [translation_routes.py:251] - 
==================================================
2025-01-07 23:19:17,695 - services.translation_routes - INFO - [translation_routes.py:252] - Translated Audio Quality Report
2025-01-07 23:19:17,695 - services.translation_routes - INFO - [translation_routes.py:253] - ==================================================
2025-01-07 23:19:17,695 - services.translation_routes - INFO - [translation_routes.py:254] - Request ID: b97175d8
2025-01-07 23:19:17,695 - services.translation_routes - INFO - [translation_routes.py:255] - Target Language: fra
2025-01-07 23:19:17,695 - services.translation_routes - INFO - [translation_routes.py:256] - --------------------------------------------------
2025-01-07 23:19:17,695 - services.translation_routes - INFO - [translation_routes.py:257] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.752
- Avg Amplitude: 0.065
- Rms Level: 0.101
- Crest Factor: 7.463
- Zero Crossings: 27771.000
- Silence Percentage: 9.444
- Clipping Points: 0.000
- Dynamic Range: 153.654

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.067
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.029
  - Temporal Flatness: 0.016

- Volume Metrics:
  - Volume Stability: 0.320
  - Volume Range: 996.291
  - Volume Variations: 0.057

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.0270009944905114
- Background Noise: 3.9850301446727814
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
No issues detected

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 1.0644828081130981, 'stability': 3.689324378967285, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.00418614037334919, 'consistency': 0.0, 'distinction': 0.06850316375494003}
  - Description: Strong nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.531
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.000
  - Rhythm Quality: 0.000
  - Intonation Quality: 0.000

Vowel Quality:
  - Quality Score: 0.003
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-07 23:19:17,695 - services.translation_routes - INFO - [translation_routes.py:258] - ==================================================

2025-01-07 23:19:17,695 - services.translation_routes - INFO - [translation_routes.py:264] - Request b97175d8: Audio output processed successfully
2025-01-07 23:19:17,700 - services.translation_routes - INFO - [translation_routes.py:317] - Request b97175d8: Response prepared successfully
2025-01-07 23:19:17,700 - services.translation_routes - INFO - [translation_routes.py:328] - Request b97175d8 completed in 52.36s
2025-01-07 23:19:17,701 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 52.36s, Memory Change: 1581.12MB
2025-01-07 23:19:17,701 - __main__ - INFO - [app.py:277] - Request to /translate took 58.03s
2025-01-07 23:19:47,239 - services.podcast_routes - INFO - [podcast_routes.py:25] - Starting podcast upload request 1ae0cc16
2025-01-07 23:19:47,244 - services.podcast_routes - INFO - [podcast_routes.py:56] - Request 1ae0cc16: Saved file to uploads/podcasts/04211b51-8b1b-473c-b658-754d06307b8d_harvard.wav
2025-01-07 23:19:47,251 - services.podcast_routes - INFO - [podcast_routes.py:86] - Request 1ae0cc16: Successfully processed podcast upload: harvard
2025-01-07 23:19:47,251 - services.podcast_routes - INFO - [podcast_routes.py:95] - Request 1ae0cc16 completed in 0.01s
2025-01-07 23:19:47,253 - services.utils - INFO - [utils.py:57] - Performance - Function: upload_podcast, Duration: 0.01s, Memory Change: -0.02MB
2025-01-07 23:19:47,253 - __main__ - INFO - [app.py:277] - Request to /upload_podcast took 0.02s
2025-01-09 00:04:20,704 - __main__ - INFO - [app.py:216] - Received SIGINT signal
2025-01-09 00:04:20,748 - __main__ - INFO - [app.py:201] - Initiating graceful shutdown...
2025-01-09 00:04:25,754 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-09 00:04:25,782 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-09 00:04:25,784 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-09 00:04:25,793 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-09 00:04:25,799 - __main__ - INFO - [app.py:387] - Removed old podcast file: uploads/podcasts/04211b51-8b1b-473c-b658-754d06307b8d_harvard.wav
2025-01-09 00:04:25,800 - __main__ - INFO - [app.py:387] - Removed old podcast file: uploads/podcasts/51ffcf0e-cb93-401b-8060-4c333412660e_harvard.wav
2025-01-09 00:04:25,801 - __main__ - INFO - [app.py:387] - Removed old podcast file: uploads/podcasts/b0829834-4a61-4667-87fd-071cbb86395c_harvard.wav
2025-01-09 00:04:25,801 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-09 00:04:25,801 - __main__ - INFO - [app.py:205] - Graceful shutdown completed
2025-01-09 00:04:25,833 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-09 00:04:25,835 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-09 00:04:25,835 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-09 00:04:25,838 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-09 00:04:25,838 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-09 00:04:25,869 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-09 00:04:25,870 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-09 00:04:25,870 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-09 00:04:25,871 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-09 00:04:25,872 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-09 00:04:26,251 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-09 00:04:26,252 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-09 00:04:37,966 - __main__ - INFO - [app.py:424] - Metrics server started on port 8000
2025-01-09 00:04:37,966 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-09 00:04:52,854 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-09 00:05:11,331 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-09 00:05:11,333 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-09 00:05:20,179 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-09 00:05:20,182 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-09 00:05:20,182 - __main__ - INFO - [app.py:448] - ==================================================
2025-01-09 00:05:20,182 - __main__ - INFO - [app.py:449] - Starting LinguaSync Backend
2025-01-09 00:05:20,182 - __main__ - INFO - [app.py:450] - Starting Flask app on port 5001 using cpu
2025-01-09 00:05:20,182 - __main__ - INFO - [app.py:451] - Python version: 3.12.6 (v3.12.6:a4a2d2b0d85, Sep  6 2024, 16:08:03) [Clang 13.0.0 (clang-1300.0.29.30)]
2025-01-09 00:05:20,182 - __main__ - INFO - [app.py:452] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-09 00:05:20,182 - __main__ - INFO - [app.py:453] - Maximum audio length: 300 seconds
2025-01-09 00:05:20,182 - __main__ - INFO - [app.py:454] - Sample rate: 16000 Hz
2025-01-09 00:05:20,182 - __main__ - INFO - [app.py:458] - System memory: 36.0GB total, 6.9GB available
2025-01-09 00:05:20,182 - __main__ - INFO - [app.py:459] - CPU cores: 11
2025-01-09 00:05:20,182 - __main__ - INFO - [app.py:467] - Configuration:
2025-01-09 00:05:20,182 - __main__ - INFO - [app.py:468] - - Debug mode: False
2025-01-09 00:05:20,182 - __main__ - INFO - [app.py:469] - - CORS enabled: True
2025-01-09 00:05:20,182 - __main__ - INFO - [app.py:470] - - Rate limiting: 10 requests per minute
2025-01-09 00:05:20,182 - __main__ - INFO - [app.py:471] - - Metrics enabled: True (port 8000)
2025-01-09 00:05:20,182 - __main__ - INFO - [app.py:473] - ==================================================
2025-01-11 11:07:46,899 - __main__ - INFO - [app.py:216] - Received SIGINT signal
2025-01-11 11:07:46,938 - __main__ - INFO - [app.py:201] - Initiating graceful shutdown...
2025-01-11 11:07:51,945 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-11 11:07:51,952 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-11 11:07:51,962 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-11 11:07:51,970 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-11 11:07:51,974 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-11 11:07:51,974 - __main__ - INFO - [app.py:205] - Graceful shutdown completed
2025-01-11 11:07:51,985 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-11 11:07:51,988 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-11 11:07:51,988 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-11 11:07:51,988 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-11 11:07:51,989 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-11 11:07:51,998 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-11 11:07:51,998 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-11 11:07:51,998 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-11 11:07:51,998 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-11 11:07:51,998 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-11 11:07:52,348 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-11 11:07:52,348 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-11 11:08:06,104 - __main__ - INFO - [app.py:424] - Metrics server started on port 8000
2025-01-11 11:08:06,104 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-11 11:08:19,533 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-11 11:08:34,591 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-11 11:08:34,593 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-11 11:08:39,454 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-11 11:08:39,456 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-11 11:08:39,456 - __main__ - INFO - [app.py:448] - ==================================================
2025-01-11 11:08:39,456 - __main__ - INFO - [app.py:449] - Starting LinguaSync Backend
2025-01-11 11:08:39,456 - __main__ - INFO - [app.py:450] - Starting Flask app on port 5001 using cpu
2025-01-11 11:08:39,456 - __main__ - INFO - [app.py:451] - Python version: 3.12.6 (v3.12.6:a4a2d2b0d85, Sep  6 2024, 16:08:03) [Clang 13.0.0 (clang-1300.0.29.30)]
2025-01-11 11:08:39,456 - __main__ - INFO - [app.py:452] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-11 11:08:39,457 - __main__ - INFO - [app.py:453] - Maximum audio length: 300 seconds
2025-01-11 11:08:39,457 - __main__ - INFO - [app.py:454] - Sample rate: 16000 Hz
2025-01-11 11:08:39,457 - __main__ - INFO - [app.py:458] - System memory: 36.0GB total, 15.3GB available
2025-01-11 11:08:39,457 - __main__ - INFO - [app.py:459] - CPU cores: 11
2025-01-11 11:08:39,457 - __main__ - INFO - [app.py:467] - Configuration:
2025-01-11 11:08:39,457 - __main__ - INFO - [app.py:468] - - Debug mode: False
2025-01-11 11:08:39,457 - __main__ - INFO - [app.py:469] - - CORS enabled: True
2025-01-11 11:08:39,457 - __main__ - INFO - [app.py:470] - - Rate limiting: 10 requests per minute
2025-01-11 11:08:39,457 - __main__ - INFO - [app.py:471] - - Metrics enabled: True (port 8000)
2025-01-11 11:08:39,457 - __main__ - INFO - [app.py:473] - ==================================================
2025-01-11 20:52:14,707 - __main__ - INFO - [app.py:216] - Received SIGINT signal
2025-01-11 20:52:14,711 - __main__ - INFO - [app.py:201] - Initiating graceful shutdown...
2025-01-11 20:52:19,717 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-11 20:52:19,720 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-11 20:52:19,721 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-11 20:52:19,723 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-11 20:52:19,724 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-11 20:52:19,724 - __main__ - INFO - [app.py:205] - Graceful shutdown completed
2025-01-11 20:52:19,727 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-11 20:52:19,727 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-11 20:52:19,728 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-11 20:52:19,729 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-11 20:52:19,729 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-11 20:52:19,731 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-11 20:52:19,731 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-11 20:52:19,732 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-11 20:52:19,734 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-11 20:52:19,734 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-11 20:52:19,884 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-11 20:52:19,884 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-11 20:52:40,100 - __main__ - INFO - [app.py:424] - Metrics server started on port 8000
2025-01-11 20:52:40,100 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-11 20:52:53,557 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-11 20:53:10,981 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-11 20:53:10,983 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-11 20:53:15,667 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-11 20:53:15,668 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-11 20:53:15,668 - __main__ - INFO - [app.py:448] - ==================================================
2025-01-11 20:53:15,668 - __main__ - INFO - [app.py:449] - Starting LinguaSync Backend
2025-01-11 20:53:15,668 - __main__ - INFO - [app.py:450] - Starting Flask app on port 5001 using cpu
2025-01-11 20:53:15,669 - __main__ - INFO - [app.py:451] - Python version: 3.12.6 (v3.12.6:a4a2d2b0d85, Sep  6 2024, 16:08:03) [Clang 13.0.0 (clang-1300.0.29.30)]
2025-01-11 20:53:15,669 - __main__ - INFO - [app.py:452] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-11 20:53:15,669 - __main__ - INFO - [app.py:453] - Maximum audio length: 300 seconds
2025-01-11 20:53:15,669 - __main__ - INFO - [app.py:454] - Sample rate: 16000 Hz
2025-01-11 20:53:15,669 - __main__ - INFO - [app.py:458] - System memory: 36.0GB total, 6.7GB available
2025-01-11 20:53:15,669 - __main__ - INFO - [app.py:459] - CPU cores: 11
2025-01-11 20:53:15,669 - __main__ - INFO - [app.py:467] - Configuration:
2025-01-11 20:53:15,669 - __main__ - INFO - [app.py:468] - - Debug mode: False
2025-01-11 20:53:15,669 - __main__ - INFO - [app.py:469] - - CORS enabled: True
2025-01-11 20:53:15,669 - __main__ - INFO - [app.py:470] - - Rate limiting: 10 requests per minute
2025-01-11 20:53:15,669 - __main__ - INFO - [app.py:471] - - Metrics enabled: True (port 8000)
2025-01-11 20:53:15,669 - __main__ - INFO - [app.py:473] - ==================================================
2025-01-11 23:36:14,715 - __main__ - INFO - [app.py:216] - Received SIGINT signal
2025-01-11 23:36:14,720 - __main__ - INFO - [app.py:201] - Initiating graceful shutdown...
2025-01-11 23:36:19,725 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-11 23:36:19,727 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-11 23:36:19,727 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-11 23:36:19,730 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-11 23:36:19,734 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-11 23:36:19,734 - __main__ - INFO - [app.py:205] - Graceful shutdown completed
2025-01-11 23:36:19,737 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-11 23:36:19,737 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-11 23:36:19,737 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-11 23:36:19,738 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-11 23:36:19,738 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-11 23:36:19,740 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-11 23:36:19,741 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-11 23:36:19,744 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-11 23:36:19,744 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-11 23:36:19,744 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-11 23:36:19,885 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-11 23:36:19,885 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-11 23:37:16,083 - __main__ - INFO - [app.py:424] - Metrics server started on port 8000
2025-01-11 23:37:16,083 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-11 23:37:30,705 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-11 23:37:49,600 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-11 23:37:49,602 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-11 23:37:55,601 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-11 23:37:55,604 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-11 23:37:55,604 - __main__ - INFO - [app.py:448] - ==================================================
2025-01-11 23:37:55,604 - __main__ - INFO - [app.py:449] - Starting LinguaSync Backend
2025-01-11 23:37:55,604 - __main__ - INFO - [app.py:450] - Starting Flask app on port 5001 using cpu
2025-01-11 23:37:55,604 - __main__ - INFO - [app.py:451] - Python version: 3.12.6 (v3.12.6:a4a2d2b0d85, Sep  6 2024, 16:08:03) [Clang 13.0.0 (clang-1300.0.29.30)]
2025-01-11 23:37:55,604 - __main__ - INFO - [app.py:452] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-11 23:37:55,604 - __main__ - INFO - [app.py:453] - Maximum audio length: 300 seconds
2025-01-11 23:37:55,604 - __main__ - INFO - [app.py:454] - Sample rate: 16000 Hz
2025-01-11 23:37:55,604 - __main__ - INFO - [app.py:458] - System memory: 36.0GB total, 7.6GB available
2025-01-11 23:37:55,604 - __main__ - INFO - [app.py:459] - CPU cores: 11
2025-01-11 23:37:55,604 - __main__ - INFO - [app.py:467] - Configuration:
2025-01-11 23:37:55,604 - __main__ - INFO - [app.py:468] - - Debug mode: False
2025-01-11 23:37:55,604 - __main__ - INFO - [app.py:469] - - CORS enabled: True
2025-01-11 23:37:55,604 - __main__ - INFO - [app.py:470] - - Rate limiting: 10 requests per minute
2025-01-11 23:37:55,604 - __main__ - INFO - [app.py:471] - - Metrics enabled: True (port 8000)
2025-01-11 23:37:55,604 - __main__ - INFO - [app.py:473] - ==================================================
2025-01-12 08:51:32,102 - __main__ - INFO - [app.py:216] - Received SIGINT signal
2025-01-12 08:51:32,109 - __main__ - INFO - [app.py:201] - Initiating graceful shutdown...
2025-01-12 08:51:37,114 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-12 08:51:37,117 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-12 08:51:37,117 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-12 08:51:37,120 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-12 08:51:37,121 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-12 08:51:37,121 - __main__ - INFO - [app.py:205] - Graceful shutdown completed
2025-01-12 08:51:37,123 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-12 08:51:37,123 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-12 08:51:37,123 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-12 08:51:37,124 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-12 08:51:37,124 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-12 08:51:37,126 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-12 08:51:37,126 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-12 08:51:37,126 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-12 08:51:37,127 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-12 08:51:37,128 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-12 08:51:37,293 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-12 08:51:37,294 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-12 08:51:44,796 - __main__ - INFO - [app.py:424] - Metrics server started on port 8000
2025-01-12 08:51:44,796 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-12 08:51:58,930 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-12 08:52:13,223 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-12 08:52:13,225 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-12 08:52:17,980 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-12 08:52:17,981 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-12 08:52:17,981 - __main__ - INFO - [app.py:448] - ==================================================
2025-01-12 08:52:17,981 - __main__ - INFO - [app.py:449] - Starting LinguaSync Backend
2025-01-12 08:52:17,982 - __main__ - INFO - [app.py:450] - Starting Flask app on port 5001 using cpu
2025-01-12 08:52:17,982 - __main__ - INFO - [app.py:451] - Python version: 3.12.6 (v3.12.6:a4a2d2b0d85, Sep  6 2024, 16:08:03) [Clang 13.0.0 (clang-1300.0.29.30)]
2025-01-12 08:52:17,982 - __main__ - INFO - [app.py:452] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-12 08:52:17,982 - __main__ - INFO - [app.py:453] - Maximum audio length: 300 seconds
2025-01-12 08:52:17,982 - __main__ - INFO - [app.py:454] - Sample rate: 16000 Hz
2025-01-12 08:52:17,982 - __main__ - INFO - [app.py:458] - System memory: 36.0GB total, 20.6GB available
2025-01-12 08:52:17,982 - __main__ - INFO - [app.py:459] - CPU cores: 11
2025-01-12 08:52:17,982 - __main__ - INFO - [app.py:467] - Configuration:
2025-01-12 08:52:17,982 - __main__ - INFO - [app.py:468] - - Debug mode: False
2025-01-12 08:52:17,982 - __main__ - INFO - [app.py:469] - - CORS enabled: True
2025-01-12 08:52:17,982 - __main__ - INFO - [app.py:470] - - Rate limiting: 10 requests per minute
2025-01-12 08:52:17,982 - __main__ - INFO - [app.py:471] - - Metrics enabled: True (port 8000)
2025-01-12 08:52:17,982 - __main__ - INFO - [app.py:473] - ==================================================
2025-01-12 09:15:18,646 - __main__ - INFO - [app.py:216] - Received SIGINT signal
2025-01-12 09:15:18,646 - __main__ - INFO - [app.py:201] - Initiating graceful shutdown...
2025-01-12 09:15:23,652 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-12 09:15:23,652 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-12 09:15:23,653 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-12 09:15:23,654 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-12 09:15:23,655 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-12 09:15:23,655 - __main__ - INFO - [app.py:205] - Graceful shutdown completed
2025-01-12 09:15:23,656 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-12 09:15:23,656 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-12 09:15:23,656 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-12 09:15:23,657 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-12 09:15:23,657 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-12 09:15:23,658 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-12 09:15:23,658 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-12 09:15:23,658 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-12 09:15:23,659 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-12 09:15:23,659 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-12 09:15:23,792 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-12 09:15:23,792 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-12 09:15:30,438 - __main__ - INFO - [app.py:424] - Metrics server started on port 8000
2025-01-12 09:15:30,438 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-12 09:15:44,616 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-12 09:15:52,775 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-12 09:15:52,777 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-12 09:15:57,824 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-12 09:15:57,826 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-12 09:15:57,826 - __main__ - INFO - [app.py:448] - ==================================================
2025-01-12 09:15:57,826 - __main__ - INFO - [app.py:449] - Starting LinguaSync Backend
2025-01-12 09:15:57,826 - __main__ - INFO - [app.py:450] - Starting Flask app on port 5001 using cpu
2025-01-12 09:15:57,826 - __main__ - INFO - [app.py:451] - Python version: 3.12.6 (v3.12.6:a4a2d2b0d85, Sep  6 2024, 16:08:03) [Clang 13.0.0 (clang-1300.0.29.30)]
2025-01-12 09:15:57,826 - __main__ - INFO - [app.py:452] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-12 09:15:57,826 - __main__ - INFO - [app.py:453] - Maximum audio length: 300 seconds
2025-01-12 09:15:57,826 - __main__ - INFO - [app.py:454] - Sample rate: 16000 Hz
2025-01-12 09:15:57,826 - __main__ - INFO - [app.py:458] - System memory: 36.0GB total, 16.9GB available
2025-01-12 09:15:57,826 - __main__ - INFO - [app.py:459] - CPU cores: 11
2025-01-12 09:15:57,826 - __main__ - INFO - [app.py:467] - Configuration:
2025-01-12 09:15:57,826 - __main__ - INFO - [app.py:468] - - Debug mode: False
2025-01-12 09:15:57,826 - __main__ - INFO - [app.py:469] - - CORS enabled: True
2025-01-12 09:15:57,827 - __main__ - INFO - [app.py:470] - - Rate limiting: 10 requests per minute
2025-01-12 09:15:57,827 - __main__ - INFO - [app.py:471] - - Metrics enabled: True (port 8000)
2025-01-12 09:15:57,827 - __main__ - INFO - [app.py:473] - ==================================================
2025-01-12 09:26:41,398 - __main__ - INFO - [app.py:216] - Received SIGINT signal
2025-01-12 09:26:41,398 - __main__ - INFO - [app.py:201] - Initiating graceful shutdown...
2025-01-12 09:26:46,400 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-12 09:26:46,400 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-12 09:26:46,400 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-12 09:26:46,401 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-12 09:26:46,401 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-12 09:26:46,401 - __main__ - INFO - [app.py:205] - Graceful shutdown completed
2025-01-12 09:26:46,402 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-12 09:26:46,402 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-12 09:26:46,402 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-12 09:26:46,402 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-12 09:26:46,402 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-12 09:26:46,403 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-12 09:26:46,403 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-12 09:26:46,403 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-12 09:26:46,403 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-12 09:26:46,404 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-12 09:26:46,517 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-12 09:26:46,518 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-12 09:27:03,183 - __main__ - INFO - [app.py:424] - Metrics server started on port 8000
2025-01-12 09:27:03,183 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-12 09:27:16,701 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-12 09:27:23,239 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-12 09:27:23,241 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-12 09:27:28,329 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-12 09:27:28,331 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-12 09:27:28,331 - __main__ - INFO - [app.py:448] - ==================================================
2025-01-12 09:27:28,331 - __main__ - INFO - [app.py:449] - Starting LinguaSync Backend
2025-01-12 09:27:28,331 - __main__ - INFO - [app.py:450] - Starting Flask app on port 5001 using cpu
2025-01-12 09:27:28,331 - __main__ - INFO - [app.py:451] - Python version: 3.12.6 (v3.12.6:a4a2d2b0d85, Sep  6 2024, 16:08:03) [Clang 13.0.0 (clang-1300.0.29.30)]
2025-01-12 09:27:28,331 - __main__ - INFO - [app.py:452] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-12 09:27:28,331 - __main__ - INFO - [app.py:453] - Maximum audio length: 300 seconds
2025-01-12 09:27:28,331 - __main__ - INFO - [app.py:454] - Sample rate: 16000 Hz
2025-01-12 09:27:28,331 - __main__ - INFO - [app.py:458] - System memory: 36.0GB total, 15.8GB available
2025-01-12 09:27:28,331 - __main__ - INFO - [app.py:459] - CPU cores: 11
2025-01-12 09:27:28,331 - __main__ - INFO - [app.py:467] - Configuration:
2025-01-12 09:27:28,331 - __main__ - INFO - [app.py:468] - - Debug mode: False
2025-01-12 09:27:28,331 - __main__ - INFO - [app.py:469] - - CORS enabled: True
2025-01-12 09:27:28,331 - __main__ - INFO - [app.py:470] - - Rate limiting: 10 requests per minute
2025-01-12 09:27:28,331 - __main__ - INFO - [app.py:471] - - Metrics enabled: True (port 8000)
2025-01-12 09:27:28,331 - __main__ - INFO - [app.py:473] - ==================================================
2025-01-13 21:38:41,378 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-13 21:38:41,379 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-13 21:39:36,158 - __main__ - INFO - [app.py:424] - Metrics server started on port 8000
2025-01-13 21:39:36,158 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-13 21:39:50,542 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-13 21:40:10,250 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-13 21:40:10,252 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-13 21:40:16,329 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-13 21:40:16,332 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-13 21:40:16,332 - __main__ - INFO - [app.py:448] - ==================================================
2025-01-13 21:40:16,332 - __main__ - INFO - [app.py:449] - Starting LinguaSync Backend
2025-01-13 21:40:16,332 - __main__ - INFO - [app.py:450] - Starting Flask app on port 5001 using cpu
2025-01-13 21:40:16,332 - __main__ - INFO - [app.py:451] - Python version: 3.12.6 (v3.12.6:a4a2d2b0d85, Sep  6 2024, 16:08:03) [Clang 13.0.0 (clang-1300.0.29.30)]
2025-01-13 21:40:16,332 - __main__ - INFO - [app.py:452] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-13 21:40:16,332 - __main__ - INFO - [app.py:453] - Maximum audio length: 300 seconds
2025-01-13 21:40:16,332 - __main__ - INFO - [app.py:454] - Sample rate: 16000 Hz
2025-01-13 21:40:16,332 - __main__ - INFO - [app.py:458] - System memory: 36.0GB total, 11.7GB available
2025-01-13 21:40:16,332 - __main__ - INFO - [app.py:459] - CPU cores: 11
2025-01-13 21:40:16,332 - __main__ - INFO - [app.py:467] - Configuration:
2025-01-13 21:40:16,332 - __main__ - INFO - [app.py:468] - - Debug mode: False
2025-01-13 21:40:16,332 - __main__ - INFO - [app.py:469] - - CORS enabled: True
2025-01-13 21:40:16,332 - __main__ - INFO - [app.py:470] - - Rate limiting: 10 requests per minute
2025-01-13 21:40:16,332 - __main__ - INFO - [app.py:471] - - Metrics enabled: True (port 8000)
2025-01-13 21:40:16,332 - __main__ - INFO - [app.py:473] - ==================================================
2025-01-13 23:38:19,221 - services.model_manager - INFO - [model_manager.py:188] - Model inactive for too long, reloading...
2025-01-13 23:38:19,222 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-13 23:38:33,075 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-13 23:38:42,706 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-13 23:38:42,707 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-13 23:38:48,037 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-13 23:38:48,039 - services.translation_routes - INFO - [translation_routes.py:29] - Starting translation request 20a59f27
2025-01-13 23:38:48,039 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-13 23:38:48,039 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-13 23:38:48,043 - services.translation_routes - INFO - [translation_routes.py:86] - Request 20a59f27: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpifbggizd.wav
2025-01-13 23:38:48,047 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 18.36 seconds
2025-01-13 23:38:48,047 - services.translation_routes - INFO - [translation_routes.py:99] - Request 20a59f27: Beginning audio processing with diagnostics
2025-01-13 23:38:48,047 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpifbggizd.wav
2025-01-13 23:38:48,047 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 44100, Channels: 2
2025-01-13 23:38:48,057 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([2, 809508]), Frequency: 44100Hz
2025-01-13 23:38:48,057 - services.audio_processor - INFO - [audio_processor.py:219] - Resampling from 44100Hz to 16000Hz
2025-01-13 23:38:48,091 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-13 23:38:48,094 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for fra
2025-01-13 23:38:48,117 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-13 23:38:48,136 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-13 23:38:48,139 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-13 23:38:48,147 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-13 23:38:48,147 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-13 23:38:48,154 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-13 23:38:48,154 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-13 23:38:48,162 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-13 23:38:48,162 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-13 23:38:48,619 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-13 23:38:48,619 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-13 23:38:48,656 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-13 23:38:48,657 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-13 23:38:48,663 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-13 23:38:48,663 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-13 23:38:48,670 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-13 23:38:48,670 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-13 23:38:48,677 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-13 23:38:48,677 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-13 23:38:49,116 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-13 23:38:49,116 - services.translation_routes - INFO - [translation_routes.py:110] - 
==================================================
2025-01-13 23:38:49,116 - services.translation_routes - INFO - [translation_routes.py:111] - Input Audio Quality Report
2025-01-13 23:38:49,116 - services.translation_routes - INFO - [translation_routes.py:112] - ==================================================
2025-01-13 23:38:49,116 - services.translation_routes - INFO - [translation_routes.py:113] - Request ID: 20a59f27
2025-01-13 23:38:49,116 - services.translation_routes - INFO - [translation_routes.py:114] - Target Language: fra
2025-01-13 23:38:49,116 - services.translation_routes - INFO - [translation_routes.py:115] - --------------------------------------------------
2025-01-13 23:38:49,116 - services.translation_routes - INFO - [translation_routes.py:116] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.800
- Avg Amplitude: 0.013
- Rms Level: 0.039
- Crest Factor: 20.262
- Zero Crossings: 127716.000
- Silence Percentage: 62.168
- Clipping Points: 0.000
- Dynamic Range: 3022615.000

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.070
  - Temporal Flatness: 0.020

- Volume Metrics:
  - Volume Stability: -0.728
  - Volume Range: 29148040.000
  - Volume Variations: 0.034

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.003898838626448
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 0.6381455659866333, 'stability': 1.6408194303512573, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.23516440391540527, 'consistency': 0.2896541953086853, 'distinction': 0.11255760490894318}
  - Description: Moderate nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.670
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.340
  - Rhythm Quality: 0.358
  - Intonation Quality: 0.322

Vowel Quality:
  - Quality Score: 0.005
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-13 23:38:49,116 - services.translation_routes - INFO - [translation_routes.py:117] - ==================================================

2025-01-13 23:38:49,117 - services.translation_routes - INFO - [translation_routes.py:128] - Request 20a59f27: Audio processed successfully
2025-01-13 23:38:49,142 - services.translation_routes - INFO - [translation_routes.py:147] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-13 23:39:03,923 - services.translation_routes - INFO - [translation_routes.py:185] - Source text: the stale smell of old beer lingers it takes heat to bring out the odor a cold dip restores health and zest a salt pickle tastes fine with ham tacos al pastor are my favorite a zestful food is the hot cross bun
2025-01-13 23:39:19,813 - services.translation_routes - INFO - [translation_routes.py:204] - Target text: l'odeur de la vieille bière lingoure il faut de la chaleur pour faire ressortir l'odore une dip froide restaure la santé et le zest un pickle salé goûte bien avec le jambon tacos al pasteur sont mon favori une nourriture zestueuse est le hot cross bun
2025-01-13 23:39:40,606 - services.translation_routes - INFO - [translation_routes.py:227] - Processing tuple output from model
2025-01-13 23:39:40,619 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-13 23:39:40,619 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-13 23:39:40,623 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-13 23:39:40,624 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-13 23:39:40,630 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-13 23:39:40,630 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-13 23:39:40,639 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-13 23:39:40,640 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-13 23:39:40,953 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-13 23:39:40,953 - services.translation_routes - INFO - [translation_routes.py:251] - 
==================================================
2025-01-13 23:39:40,953 - services.translation_routes - INFO - [translation_routes.py:252] - Translated Audio Quality Report
2025-01-13 23:39:40,953 - services.translation_routes - INFO - [translation_routes.py:253] - ==================================================
2025-01-13 23:39:40,953 - services.translation_routes - INFO - [translation_routes.py:254] - Request ID: 20a59f27
2025-01-13 23:39:40,953 - services.translation_routes - INFO - [translation_routes.py:255] - Target Language: fra
2025-01-13 23:39:40,953 - services.translation_routes - INFO - [translation_routes.py:256] - --------------------------------------------------
2025-01-13 23:39:40,953 - services.translation_routes - INFO - [translation_routes.py:257] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.633
- Avg Amplitude: 0.066
- Rms Level: 0.100
- Crest Factor: 6.312
- Zero Crossings: 27024.000
- Silence Percentage: 9.616
- Clipping Points: 0.000
- Dynamic Range: 160.758

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.211
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.028
  - Temporal Flatness: 0.016

- Volume Metrics:
  - Volume Stability: 0.363
  - Volume Range: 356.507
  - Volume Variations: 0.054

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.0317824049164983
- Background Noise: 3.5247159744685335
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
No issues detected

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 1.0902342796325684, 'stability': 3.641831398010254, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.015205835923552513, 'consistency': 0.0, 'distinction': 0.08077314496040344}
  - Description: Strong nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.533
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.000
  - Rhythm Quality: 0.000
  - Intonation Quality: 0.000

Vowel Quality:
  - Quality Score: 0.004
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-13 23:39:40,953 - services.translation_routes - INFO - [translation_routes.py:258] - ==================================================

2025-01-13 23:39:40,953 - services.translation_routes - INFO - [translation_routes.py:264] - Request 20a59f27: Audio output processed successfully
2025-01-13 23:39:40,960 - services.translation_routes - INFO - [translation_routes.py:317] - Request 20a59f27: Response prepared successfully
2025-01-13 23:39:40,961 - services.translation_routes - INFO - [translation_routes.py:328] - Request 20a59f27 completed in 52.92s
2025-01-13 23:39:40,962 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 52.92s, Memory Change: 5129.45MB
2025-01-13 23:39:40,962 - __main__ - INFO - [app.py:277] - Request to /translate took 81.74s
2025-01-13 23:40:43,733 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-13 23:40:43,738 - services.translation_routes - INFO - [translation_routes.py:29] - Starting translation request 9cdf3424
2025-01-13 23:40:43,738 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-13 23:40:43,738 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-13 23:40:43,740 - services.translation_routes - INFO - [translation_routes.py:86] - Request 9cdf3424: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpygcq7xmq.wav
2025-01-13 23:40:43,740 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 18.36 seconds
2025-01-13 23:40:43,740 - services.translation_routes - INFO - [translation_routes.py:99] - Request 9cdf3424: Beginning audio processing with diagnostics
2025-01-13 23:40:43,741 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpygcq7xmq.wav
2025-01-13 23:40:43,741 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 44100, Channels: 2
2025-01-13 23:40:43,749 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([2, 809508]), Frequency: 44100Hz
2025-01-13 23:40:43,749 - services.audio_processor - INFO - [audio_processor.py:219] - Resampling from 44100Hz to 16000Hz
2025-01-13 23:40:43,772 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-13 23:40:43,774 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for fra
2025-01-13 23:40:43,795 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-13 23:40:43,809 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-13 23:40:43,809 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-13 23:40:43,815 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-13 23:40:43,815 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-13 23:40:43,823 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-13 23:40:43,823 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-13 23:40:43,831 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-13 23:40:43,831 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-13 23:40:44,290 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-13 23:40:44,290 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-13 23:40:44,328 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-13 23:40:44,328 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-13 23:40:44,334 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-13 23:40:44,334 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-13 23:40:44,344 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-13 23:40:44,344 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-13 23:40:44,352 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-13 23:40:44,353 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-13 23:40:44,804 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-13 23:40:44,805 - services.translation_routes - INFO - [translation_routes.py:110] - 
==================================================
2025-01-13 23:40:44,805 - services.translation_routes - INFO - [translation_routes.py:111] - Input Audio Quality Report
2025-01-13 23:40:44,805 - services.translation_routes - INFO - [translation_routes.py:112] - ==================================================
2025-01-13 23:40:44,805 - services.translation_routes - INFO - [translation_routes.py:113] - Request ID: 9cdf3424
2025-01-13 23:40:44,805 - services.translation_routes - INFO - [translation_routes.py:114] - Target Language: fra
2025-01-13 23:40:44,805 - services.translation_routes - INFO - [translation_routes.py:115] - --------------------------------------------------
2025-01-13 23:40:44,805 - services.translation_routes - INFO - [translation_routes.py:116] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.800
- Avg Amplitude: 0.013
- Rms Level: 0.039
- Crest Factor: 20.262
- Zero Crossings: 127716.000
- Silence Percentage: 62.168
- Clipping Points: 0.000
- Dynamic Range: 3022615.000

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.070
  - Temporal Flatness: 0.020

- Volume Metrics:
  - Volume Stability: -0.728
  - Volume Range: 29148040.000
  - Volume Variations: 0.034

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.003898838626448
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 0.6381455659866333, 'stability': 1.6408194303512573, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.23516440391540527, 'consistency': 0.2896541953086853, 'distinction': 0.11255760490894318}
  - Description: Moderate nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.670
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.340
  - Rhythm Quality: 0.358
  - Intonation Quality: 0.322

Vowel Quality:
  - Quality Score: 0.005
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-13 23:40:44,805 - services.translation_routes - INFO - [translation_routes.py:117] - ==================================================

2025-01-13 23:40:44,805 - services.translation_routes - INFO - [translation_routes.py:128] - Request 9cdf3424: Audio processed successfully
2025-01-13 23:40:44,826 - services.translation_routes - INFO - [translation_routes.py:147] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-13 23:40:59,638 - services.translation_routes - INFO - [translation_routes.py:185] - Source text: the stale smell of old beer lingers it takes heat to bring out the odor a cold dip restores health and zest a salt pickle tastes fine with ham tacos al pastor are my favorite a zestful food is the hot cross bun
2025-01-13 23:41:15,469 - services.translation_routes - INFO - [translation_routes.py:204] - Target text: l'odeur de la vieille bière lingoure il faut de la chaleur pour faire ressortir l'odore une dip froide restaure la santé et le zest un pickle salé goûte bien avec le jambon tacos al pasteur sont mon favori une nourriture zestueuse est le hot cross bun
2025-01-13 23:41:36,268 - services.translation_routes - INFO - [translation_routes.py:227] - Processing tuple output from model
2025-01-13 23:41:36,280 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-13 23:41:36,280 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-13 23:41:36,284 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-13 23:41:36,284 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-13 23:41:36,293 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-13 23:41:36,293 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-13 23:41:36,299 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-13 23:41:36,299 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-13 23:41:36,613 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-13 23:41:36,613 - services.translation_routes - INFO - [translation_routes.py:251] - 
==================================================
2025-01-13 23:41:36,613 - services.translation_routes - INFO - [translation_routes.py:252] - Translated Audio Quality Report
2025-01-13 23:41:36,613 - services.translation_routes - INFO - [translation_routes.py:253] - ==================================================
2025-01-13 23:41:36,613 - services.translation_routes - INFO - [translation_routes.py:254] - Request ID: 9cdf3424
2025-01-13 23:41:36,613 - services.translation_routes - INFO - [translation_routes.py:255] - Target Language: fra
2025-01-13 23:41:36,613 - services.translation_routes - INFO - [translation_routes.py:256] - --------------------------------------------------
2025-01-13 23:41:36,613 - services.translation_routes - INFO - [translation_routes.py:257] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.664
- Avg Amplitude: 0.065
- Rms Level: 0.099
- Crest Factor: 6.710
- Zero Crossings: 25886.000
- Silence Percentage: 9.535
- Clipping Points: 0.000
- Dynamic Range: 157.347

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.161
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.027
  - Temporal Flatness: 0.016

- Volume Metrics:
  - Volume Stability: 0.362
  - Volume Range: 690.762
  - Volume Variations: 0.053

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.0294997238696393
- Background Noise: 3.6839109352667063
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 1.0773881673812866, 'stability': 3.776276111602783, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.0, 'consistency': 0.0, 'distinction': 0.11070529371500015}
  - Description: Strong nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.529
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.000
  - Rhythm Quality: 0.000
  - Intonation Quality: 0.000

Vowel Quality:
  - Quality Score: 0.005
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-13 23:41:36,613 - services.translation_routes - INFO - [translation_routes.py:258] - ==================================================

2025-01-13 23:41:36,613 - services.translation_routes - INFO - [translation_routes.py:264] - Request 9cdf3424: Audio output processed successfully
2025-01-13 23:41:36,619 - services.translation_routes - INFO - [translation_routes.py:317] - Request 9cdf3424: Response prepared successfully
2025-01-13 23:41:36,619 - services.translation_routes - INFO - [translation_routes.py:328] - Request 9cdf3424 completed in 52.88s
2025-01-13 23:41:36,621 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 52.88s, Memory Change: 1344.03MB
2025-01-13 23:41:36,621 - __main__ - INFO - [app.py:277] - Request to /translate took 58.45s
2025-01-14 07:23:31,624 - services.model_manager - INFO - [model_manager.py:188] - Model inactive for too long, reloading...
2025-01-14 07:23:31,627 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-14 07:23:46,929 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-14 07:24:00,545 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-14 07:24:00,546 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-14 07:24:08,334 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-14 07:24:08,468 - services.translation_routes - INFO - [translation_routes.py:29] - Starting translation request d4eb790f
2025-01-14 07:24:08,470 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-14 07:24:08,470 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-14 07:24:08,473 - services.translation_routes - INFO - [translation_routes.py:86] - Request d4eb790f: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpyqj5vdpm.wav
2025-01-14 07:24:08,474 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 18.36 seconds
2025-01-14 07:24:08,474 - services.translation_routes - INFO - [translation_routes.py:99] - Request d4eb790f: Beginning audio processing with diagnostics
2025-01-14 07:24:08,474 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpyqj5vdpm.wav
2025-01-14 07:24:08,474 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 44100, Channels: 2
2025-01-14 07:24:08,482 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([2, 809508]), Frequency: 44100Hz
2025-01-14 07:24:08,483 - services.audio_processor - INFO - [audio_processor.py:219] - Resampling from 44100Hz to 16000Hz
2025-01-14 07:24:08,504 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-14 07:24:08,506 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for fra
2025-01-14 07:24:08,528 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-14 07:24:08,546 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-14 07:24:08,546 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-14 07:24:08,552 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-14 07:24:08,552 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-14 07:24:08,559 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-14 07:24:08,559 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-14 07:24:08,567 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-14 07:24:08,567 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-14 07:24:09,044 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-14 07:24:09,044 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-14 07:24:09,127 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-14 07:24:09,128 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-14 07:24:09,142 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-14 07:24:09,142 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-14 07:24:09,152 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-14 07:24:09,152 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-14 07:24:09,163 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-14 07:24:09,163 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-14 07:24:09,615 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-14 07:24:09,615 - services.translation_routes - INFO - [translation_routes.py:110] - 
==================================================
2025-01-14 07:24:09,615 - services.translation_routes - INFO - [translation_routes.py:111] - Input Audio Quality Report
2025-01-14 07:24:09,615 - services.translation_routes - INFO - [translation_routes.py:112] - ==================================================
2025-01-14 07:24:09,615 - services.translation_routes - INFO - [translation_routes.py:113] - Request ID: d4eb790f
2025-01-14 07:24:09,615 - services.translation_routes - INFO - [translation_routes.py:114] - Target Language: fra
2025-01-14 07:24:09,615 - services.translation_routes - INFO - [translation_routes.py:115] - --------------------------------------------------
2025-01-14 07:24:09,615 - services.translation_routes - INFO - [translation_routes.py:116] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.800
- Avg Amplitude: 0.013
- Rms Level: 0.039
- Crest Factor: 20.262
- Zero Crossings: 127716.000
- Silence Percentage: 62.168
- Clipping Points: 0.000
- Dynamic Range: 3022615.000

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.070
  - Temporal Flatness: 0.020

- Volume Metrics:
  - Volume Stability: -0.728
  - Volume Range: 29148040.000
  - Volume Variations: 0.034

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.003898838626448
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 0.6381455659866333, 'stability': 1.6408194303512573, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.23516440391540527, 'consistency': 0.2896541953086853, 'distinction': 0.11255760490894318}
  - Description: Moderate nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.670
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.340
  - Rhythm Quality: 0.358
  - Intonation Quality: 0.322

Vowel Quality:
  - Quality Score: 0.005
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-14 07:24:09,615 - services.translation_routes - INFO - [translation_routes.py:117] - ==================================================

2025-01-14 07:24:09,615 - services.translation_routes - INFO - [translation_routes.py:128] - Request d4eb790f: Audio processed successfully
2025-01-14 07:24:09,680 - services.translation_routes - INFO - [translation_routes.py:147] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-14 07:24:24,935 - services.translation_routes - INFO - [translation_routes.py:185] - Source text: the stale smell of old beer lingers it takes heat to bring out the odor a cold dip restores health and zest a salt pickle tastes fine with ham tacos al pastor are my favorite a zestful food is the hot cross bun
2025-01-14 07:24:44,128 - services.translation_routes - INFO - [translation_routes.py:204] - Target text: l'odeur de la vieille bière lingoure il faut de la chaleur pour faire ressortir l'odore une dip froide restaure la santé et le zest un pickle salé goûte bien avec le jambon tacos al pasteur sont mon favori une nourriture zestueuse est le hot cross bun
2025-01-14 07:25:07,942 - services.translation_routes - INFO - [translation_routes.py:227] - Processing tuple output from model
2025-01-14 07:25:07,962 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-14 07:25:07,962 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-14 07:25:07,973 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-14 07:25:07,974 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-14 07:25:07,983 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-14 07:25:07,984 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-14 07:25:07,990 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-14 07:25:07,991 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-14 07:25:08,416 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-14 07:25:08,417 - services.translation_routes - INFO - [translation_routes.py:251] - 
==================================================
2025-01-14 07:25:08,417 - services.translation_routes - INFO - [translation_routes.py:252] - Translated Audio Quality Report
2025-01-14 07:25:08,417 - services.translation_routes - INFO - [translation_routes.py:253] - ==================================================
2025-01-14 07:25:08,417 - services.translation_routes - INFO - [translation_routes.py:254] - Request ID: d4eb790f
2025-01-14 07:25:08,417 - services.translation_routes - INFO - [translation_routes.py:255] - Target Language: fra
2025-01-14 07:25:08,417 - services.translation_routes - INFO - [translation_routes.py:256] - --------------------------------------------------
2025-01-14 07:25:08,417 - services.translation_routes - INFO - [translation_routes.py:257] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.599
- Avg Amplitude: 0.063
- Rms Level: 0.097
- Crest Factor: 6.178
- Zero Crossings: 27485.000
- Silence Percentage: 10.128
- Clipping Points: 0.000
- Dynamic Range: 169.437

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.228
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.027
  - Temporal Flatness: 0.015

- Volume Metrics:
  - Volume Stability: 0.344
  - Volume Range: 853.003
  - Volume Variations: 0.053

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.031380950017571
- Background Noise: 3.471381910163934
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 1.0574101209640503, 'stability': 3.5980324745178223, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.0, 'consistency': 0.0, 'distinction': 0.09415197372436523}
  - Description: Strong nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.520
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.000
  - Rhythm Quality: 0.000
  - Intonation Quality: 0.000

Vowel Quality:
  - Quality Score: 0.003
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-14 07:25:08,417 - services.translation_routes - INFO - [translation_routes.py:258] - ==================================================

2025-01-14 07:25:08,417 - services.translation_routes - INFO - [translation_routes.py:264] - Request d4eb790f: Audio output processed successfully
2025-01-14 07:25:08,423 - services.translation_routes - INFO - [translation_routes.py:317] - Request d4eb790f: Response prepared successfully
2025-01-14 07:25:08,423 - services.translation_routes - INFO - [translation_routes.py:328] - Request d4eb790f completed in 59.95s
2025-01-14 07:25:08,425 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 59.96s, Memory Change: 7256.50MB
2025-01-14 07:25:08,425 - __main__ - INFO - [app.py:277] - Request to /translate took 96.80s
2025-01-15 08:56:40,559 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-15 08:56:40,560 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-15 08:56:51,959 - __main__ - INFO - [app.py:424] - Metrics server started on port 8000
2025-01-15 08:56:51,959 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-15 08:57:05,830 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-15 08:57:27,016 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-15 08:57:27,018 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-15 08:57:33,264 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-15 08:57:33,267 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-15 08:57:33,268 - __main__ - INFO - [app.py:448] - ==================================================
2025-01-15 08:57:33,268 - __main__ - INFO - [app.py:449] - Starting LinguaSync Backend
2025-01-15 08:57:33,268 - __main__ - INFO - [app.py:450] - Starting Flask app on port 5001 using cpu
2025-01-15 08:57:33,268 - __main__ - INFO - [app.py:451] - Python version: 3.12.6 (v3.12.6:a4a2d2b0d85, Sep  6 2024, 16:08:03) [Clang 13.0.0 (clang-1300.0.29.30)]
2025-01-15 08:57:33,268 - __main__ - INFO - [app.py:452] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-15 08:57:33,268 - __main__ - INFO - [app.py:453] - Maximum audio length: 300 seconds
2025-01-15 08:57:33,268 - __main__ - INFO - [app.py:454] - Sample rate: 16000 Hz
2025-01-15 08:57:33,268 - __main__ - INFO - [app.py:458] - System memory: 36.0GB total, 6.6GB available
2025-01-15 08:57:33,268 - __main__ - INFO - [app.py:459] - CPU cores: 11
2025-01-15 08:57:33,268 - __main__ - INFO - [app.py:467] - Configuration:
2025-01-15 08:57:33,268 - __main__ - INFO - [app.py:468] - - Debug mode: False
2025-01-15 08:57:33,268 - __main__ - INFO - [app.py:469] - - CORS enabled: True
2025-01-15 08:57:33,268 - __main__ - INFO - [app.py:470] - - Rate limiting: 10 requests per minute
2025-01-15 08:57:33,268 - __main__ - INFO - [app.py:471] - - Metrics enabled: True (port 8000)
2025-01-15 08:57:33,268 - __main__ - INFO - [app.py:473] - ==================================================
2025-01-15 08:58:50,276 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-15 08:58:50,278 - services.translation_routes - INFO - [translation_routes.py:29] - Starting translation request 6266c9ae
2025-01-15 08:58:50,278 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-15 08:58:50,278 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-15 08:58:50,281 - services.translation_routes - INFO - [translation_routes.py:86] - Request 6266c9ae: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpcunggvym.wav
2025-01-15 08:58:50,283 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 18.36 seconds
2025-01-15 08:58:50,283 - services.translation_routes - INFO - [translation_routes.py:99] - Request 6266c9ae: Beginning audio processing with diagnostics
2025-01-15 08:58:50,283 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpcunggvym.wav
2025-01-15 08:58:50,283 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 44100, Channels: 2
2025-01-15 08:58:50,292 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([2, 809508]), Frequency: 44100Hz
2025-01-15 08:58:50,292 - services.audio_processor - INFO - [audio_processor.py:219] - Resampling from 44100Hz to 16000Hz
2025-01-15 08:58:50,314 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-15 08:58:50,316 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for fra
2025-01-15 08:58:50,338 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-15 08:58:50,357 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 08:58:50,357 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 08:58:50,366 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 08:58:50,366 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 08:58:50,375 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 08:58:50,375 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 08:58:50,386 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 08:58:50,386 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 08:58:50,853 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 08:58:50,853 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-15 08:58:50,901 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 08:58:50,901 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 08:58:50,910 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 08:58:50,910 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 08:58:50,920 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 08:58:50,920 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 08:58:50,931 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 08:58:50,931 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 08:58:51,371 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 08:58:51,371 - services.translation_routes - INFO - [translation_routes.py:110] - 
==================================================
2025-01-15 08:58:51,371 - services.translation_routes - INFO - [translation_routes.py:111] - Input Audio Quality Report
2025-01-15 08:58:51,371 - services.translation_routes - INFO - [translation_routes.py:112] - ==================================================
2025-01-15 08:58:51,371 - services.translation_routes - INFO - [translation_routes.py:113] - Request ID: 6266c9ae
2025-01-15 08:58:51,372 - services.translation_routes - INFO - [translation_routes.py:114] - Target Language: fra
2025-01-15 08:58:51,372 - services.translation_routes - INFO - [translation_routes.py:115] - --------------------------------------------------
2025-01-15 08:58:51,372 - services.translation_routes - INFO - [translation_routes.py:116] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.800
- Avg Amplitude: 0.013
- Rms Level: 0.039
- Crest Factor: 20.262
- Zero Crossings: 127716.000
- Silence Percentage: 62.168
- Clipping Points: 0.000
- Dynamic Range: 3022615.000

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.070
  - Temporal Flatness: 0.020

- Volume Metrics:
  - Volume Stability: -0.728
  - Volume Range: 29148040.000
  - Volume Variations: 0.034

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.003898838626448
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 0.6381455659866333, 'stability': 1.6408194303512573, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.23516440391540527, 'consistency': 0.2896541953086853, 'distinction': 0.11255760490894318}
  - Description: Moderate nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.670
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.340
  - Rhythm Quality: 0.358
  - Intonation Quality: 0.322

Vowel Quality:
  - Quality Score: 0.005
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-15 08:58:51,372 - services.translation_routes - INFO - [translation_routes.py:117] - ==================================================

2025-01-15 08:58:51,372 - services.translation_routes - INFO - [translation_routes.py:128] - Request 6266c9ae: Audio processed successfully
2025-01-15 08:58:51,396 - services.translation_routes - INFO - [translation_routes.py:147] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-15 08:59:08,880 - services.translation_routes - INFO - [translation_routes.py:185] - Source text: the stale smell of old beer lingers it takes heat to bring out the odor a cold dip restores health and zest a salt pickle tastes fine with ham tacos al pastor are my favorite a zestful food is the hot cross bun
2025-01-15 08:59:27,828 - services.translation_routes - INFO - [translation_routes.py:204] - Target text: l'odeur de la vieille bière lingoure il faut de la chaleur pour faire ressortir l'odore une dip froide restaure la santé et le zest un pickle salé goûte bien avec le jambon tacos al pasteur sont mon favori une nourriture zestueuse est le hot cross bun
2025-01-15 08:59:53,365 - services.translation_routes - INFO - [translation_routes.py:227] - Processing tuple output from model
2025-01-15 08:59:53,384 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 08:59:53,384 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 08:59:53,393 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 08:59:53,393 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 08:59:53,398 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 08:59:53,398 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 08:59:53,404 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 08:59:53,404 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 08:59:53,715 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 08:59:53,716 - services.translation_routes - INFO - [translation_routes.py:251] - 
==================================================
2025-01-15 08:59:53,716 - services.translation_routes - INFO - [translation_routes.py:252] - Translated Audio Quality Report
2025-01-15 08:59:53,716 - services.translation_routes - INFO - [translation_routes.py:253] - ==================================================
2025-01-15 08:59:53,716 - services.translation_routes - INFO - [translation_routes.py:254] - Request ID: 6266c9ae
2025-01-15 08:59:53,716 - services.translation_routes - INFO - [translation_routes.py:255] - Target Language: fra
2025-01-15 08:59:53,716 - services.translation_routes - INFO - [translation_routes.py:256] - --------------------------------------------------
2025-01-15 08:59:53,716 - services.translation_routes - INFO - [translation_routes.py:257] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.750
- Avg Amplitude: 0.066
- Rms Level: 0.101
- Crest Factor: 7.433
- Zero Crossings: 27969.000
- Silence Percentage: 9.885
- Clipping Points: 0.000
- Dynamic Range: 165.801

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.071
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.029
  - Temporal Flatness: 0.016

- Volume Metrics:
  - Volume Stability: 0.349
  - Volume Range: 747.330
  - Volume Variations: 0.055

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.0271333601091364
- Background Noise: 3.9731332095247374
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
No issues detected

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 1.1307824850082397, 'stability': 3.8330910205841064, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.03674091398715973, 'consistency': 0.0, 'distinction': 0.10692695528268814}
  - Description: Strong nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.561
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.000
  - Rhythm Quality: 0.000
  - Intonation Quality: 0.000

Vowel Quality:
  - Quality Score: 0.003
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-15 08:59:53,716 - services.translation_routes - INFO - [translation_routes.py:258] - ==================================================

2025-01-15 08:59:53,716 - services.translation_routes - INFO - [translation_routes.py:264] - Request 6266c9ae: Audio output processed successfully
2025-01-15 08:59:53,721 - services.translation_routes - INFO - [translation_routes.py:317] - Request 6266c9ae: Response prepared successfully
2025-01-15 08:59:53,722 - services.translation_routes - INFO - [translation_routes.py:328] - Request 6266c9ae completed in 63.44s
2025-01-15 08:59:53,723 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 63.45s, Memory Change: 1440.27MB
2025-01-15 08:59:53,723 - __main__ - INFO - [app.py:277] - Request to /translate took 73.99s
2025-01-15 09:02:40,071 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-15 09:02:40,073 - services.translation_routes - INFO - [translation_routes.py:29] - Starting translation request 55462e35
2025-01-15 09:02:40,073 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-15 09:02:40,073 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-15 09:02:40,079 - services.translation_routes - INFO - [translation_routes.py:86] - Request 55462e35: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpvp593z3i.wav
2025-01-15 09:02:40,080 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 18.36 seconds
2025-01-15 09:02:40,080 - services.translation_routes - INFO - [translation_routes.py:99] - Request 55462e35: Beginning audio processing with diagnostics
2025-01-15 09:02:40,080 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpvp593z3i.wav
2025-01-15 09:02:40,080 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 44100, Channels: 2
2025-01-15 09:02:40,090 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([2, 809508]), Frequency: 44100Hz
2025-01-15 09:02:40,090 - services.audio_processor - INFO - [audio_processor.py:219] - Resampling from 44100Hz to 16000Hz
2025-01-15 09:02:40,126 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-15 09:02:40,128 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for fra
2025-01-15 09:02:40,173 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-15 09:02:40,203 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:02:40,203 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:02:40,218 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:02:40,218 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:02:40,230 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:02:40,230 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:02:40,244 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:02:40,244 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:02:40,750 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 09:02:40,750 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-15 09:02:40,811 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:02:40,812 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:02:40,826 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:02:40,826 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:02:40,840 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:02:40,840 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:02:40,852 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:02:40,852 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:02:41,348 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 09:02:41,348 - services.translation_routes - INFO - [translation_routes.py:110] - 
==================================================
2025-01-15 09:02:41,348 - services.translation_routes - INFO - [translation_routes.py:111] - Input Audio Quality Report
2025-01-15 09:02:41,348 - services.translation_routes - INFO - [translation_routes.py:112] - ==================================================
2025-01-15 09:02:41,348 - services.translation_routes - INFO - [translation_routes.py:113] - Request ID: 55462e35
2025-01-15 09:02:41,348 - services.translation_routes - INFO - [translation_routes.py:114] - Target Language: fra
2025-01-15 09:02:41,348 - services.translation_routes - INFO - [translation_routes.py:115] - --------------------------------------------------
2025-01-15 09:02:41,348 - services.translation_routes - INFO - [translation_routes.py:116] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.800
- Avg Amplitude: 0.013
- Rms Level: 0.039
- Crest Factor: 20.262
- Zero Crossings: 127716.000
- Silence Percentage: 62.168
- Clipping Points: 0.000
- Dynamic Range: 3022615.000

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.070
  - Temporal Flatness: 0.020

- Volume Metrics:
  - Volume Stability: -0.728
  - Volume Range: 29148040.000
  - Volume Variations: 0.034

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.003898838626448
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 0.6381455659866333, 'stability': 1.6408194303512573, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.23516440391540527, 'consistency': 0.2896541953086853, 'distinction': 0.11255760490894318}
  - Description: Moderate nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.670
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.340
  - Rhythm Quality: 0.358
  - Intonation Quality: 0.322

Vowel Quality:
  - Quality Score: 0.005
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-15 09:02:41,348 - services.translation_routes - INFO - [translation_routes.py:117] - ==================================================

2025-01-15 09:02:41,348 - services.translation_routes - INFO - [translation_routes.py:128] - Request 55462e35: Audio processed successfully
2025-01-15 09:02:41,370 - services.translation_routes - INFO - [translation_routes.py:147] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-15 09:02:43,254 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-15 09:02:43,259 - services.translation_routes - INFO - [translation_routes.py:29] - Starting translation request c41e51ea
2025-01-15 09:02:43,260 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-15 09:02:43,260 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-15 09:02:43,267 - services.translation_routes - INFO - [translation_routes.py:86] - Request c41e51ea: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpkgq_n2n1.wav
2025-01-15 09:02:43,267 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 18.36 seconds
2025-01-15 09:02:43,267 - services.translation_routes - INFO - [translation_routes.py:99] - Request c41e51ea: Beginning audio processing with diagnostics
2025-01-15 09:02:43,267 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpkgq_n2n1.wav
2025-01-15 09:02:43,267 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 44100, Channels: 2
2025-01-15 09:02:43,287 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([2, 809508]), Frequency: 44100Hz
2025-01-15 09:02:43,287 - services.audio_processor - INFO - [audio_processor.py:219] - Resampling from 44100Hz to 16000Hz
2025-01-15 09:02:43,353 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-15 09:02:43,356 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for fra
2025-01-15 09:02:43,416 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-15 09:02:43,448 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:02:43,448 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:02:43,462 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:02:43,462 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:02:43,485 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:02:43,486 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:02:43,505 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:02:43,505 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:02:44,044 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 09:02:44,044 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-15 09:02:44,107 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:02:44,107 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:02:44,119 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:02:44,119 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:02:44,138 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:02:44,138 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:02:44,150 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:02:44,150 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:02:44,653 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 09:02:44,654 - services.translation_routes - INFO - [translation_routes.py:110] - 
==================================================
2025-01-15 09:02:44,654 - services.translation_routes - INFO - [translation_routes.py:111] - Input Audio Quality Report
2025-01-15 09:02:44,654 - services.translation_routes - INFO - [translation_routes.py:112] - ==================================================
2025-01-15 09:02:44,654 - services.translation_routes - INFO - [translation_routes.py:113] - Request ID: c41e51ea
2025-01-15 09:02:44,654 - services.translation_routes - INFO - [translation_routes.py:114] - Target Language: fra
2025-01-15 09:02:44,654 - services.translation_routes - INFO - [translation_routes.py:115] - --------------------------------------------------
2025-01-15 09:02:44,654 - services.translation_routes - INFO - [translation_routes.py:116] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.800
- Avg Amplitude: 0.013
- Rms Level: 0.039
- Crest Factor: 20.262
- Zero Crossings: 127716.000
- Silence Percentage: 62.168
- Clipping Points: 0.000
- Dynamic Range: 3022615.000

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.070
  - Temporal Flatness: 0.020

- Volume Metrics:
  - Volume Stability: -0.728
  - Volume Range: 29148040.000
  - Volume Variations: 0.034

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.003898838626448
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 0.6381455659866333, 'stability': 1.6408194303512573, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.23516440391540527, 'consistency': 0.2896541953086853, 'distinction': 0.11255760490894318}
  - Description: Moderate nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.670
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.340
  - Rhythm Quality: 0.358
  - Intonation Quality: 0.322

Vowel Quality:
  - Quality Score: 0.005
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-15 09:02:44,654 - services.translation_routes - INFO - [translation_routes.py:117] - ==================================================

2025-01-15 09:02:44,655 - services.translation_routes - INFO - [translation_routes.py:128] - Request c41e51ea: Audio processed successfully
2025-01-15 09:02:44,677 - services.translation_routes - INFO - [translation_routes.py:147] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-15 09:03:07,536 - services.translation_routes - INFO - [translation_routes.py:185] - Source text: the stale smell of old beer lingers it takes heat to bring out the odor a cold dip restores health and zest a salt pickle tastes fine with ham tacos al pastor are my favorite a zestful food is the hot cross bun
2025-01-15 09:03:10,128 - services.translation_routes - INFO - [translation_routes.py:185] - Source text: the stale smell of old beer lingers it takes heat to bring out the odor a cold dip restores health and zest a salt pickle tastes fine with ham tacos al pastor are my favorite a zestful food is the hot cross bun
2025-01-15 09:03:36,320 - services.translation_routes - INFO - [translation_routes.py:204] - Target text: l'odeur de la vieille bière lingoure il faut de la chaleur pour faire ressortir l'odore une dip froide restaure la santé et le zest un pickle salé goûte bien avec le jambon tacos al pasteur sont mon favori une nourriture zestueuse est le hot cross bun
2025-01-15 09:03:36,876 - services.translation_routes - INFO - [translation_routes.py:204] - Target text: l'odeur de la vieille bière lingoure il faut de la chaleur pour faire ressortir l'odore une dip froide restaure la santé et le zest un pickle salé goûte bien avec le jambon tacos al pasteur sont mon favori une nourriture zestueuse est le hot cross bun
2025-01-15 09:04:12,370 - services.translation_routes - INFO - [translation_routes.py:227] - Processing tuple output from model
2025-01-15 09:04:12,396 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:04:12,396 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:04:12,413 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:04:12,413 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:04:12,427 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:04:12,427 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:04:12,440 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:04:12,440 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:04:12,815 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 09:04:12,815 - services.translation_routes - INFO - [translation_routes.py:251] - 
==================================================
2025-01-15 09:04:12,815 - services.translation_routes - INFO - [translation_routes.py:252] - Translated Audio Quality Report
2025-01-15 09:04:12,815 - services.translation_routes - INFO - [translation_routes.py:253] - ==================================================
2025-01-15 09:04:12,815 - services.translation_routes - INFO - [translation_routes.py:254] - Request ID: c41e51ea
2025-01-15 09:04:12,815 - services.translation_routes - INFO - [translation_routes.py:255] - Target Language: fra
2025-01-15 09:04:12,815 - services.translation_routes - INFO - [translation_routes.py:256] - --------------------------------------------------
2025-01-15 09:04:12,815 - services.translation_routes - INFO - [translation_routes.py:257] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.699
- Avg Amplitude: 0.065
- Rms Level: 0.100
- Crest Factor: 7.022
- Zero Crossings: 26725.000
- Silence Percentage: 9.412
- Clipping Points: 0.000
- Dynamic Range: 153.468

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.122
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.028
  - Temporal Flatness: 0.016

- Volume Metrics:
  - Volume Stability: 0.350
  - Volume Range: 782.081
  - Volume Variations: 0.054

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.0283478472567924
- Background Noise: 3.808798963221734
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 1.0444257259368896, 'stability': 3.6349267959594727, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.0628737360239029, 'consistency': 0.0, 'distinction': 0.07266174256801605}
  - Description: Strong nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.537
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.000
  - Rhythm Quality: 0.000
  - Intonation Quality: 0.000

Vowel Quality:
  - Quality Score: 0.004
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-15 09:04:12,815 - services.translation_routes - INFO - [translation_routes.py:258] - ==================================================

2025-01-15 09:04:12,815 - services.translation_routes - INFO - [translation_routes.py:264] - Request c41e51ea: Audio output processed successfully
2025-01-15 09:04:12,823 - services.translation_routes - INFO - [translation_routes.py:317] - Request c41e51ea: Response prepared successfully
2025-01-15 09:04:12,823 - services.translation_routes - INFO - [translation_routes.py:328] - Request c41e51ea completed in 89.56s
2025-01-15 09:04:12,825 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 89.57s, Memory Change: 1658.92MB
2025-01-15 09:04:12,825 - __main__ - INFO - [app.py:277] - Request to /translate took 99.30s
2025-01-15 09:04:12,838 - services.translation_routes - INFO - [translation_routes.py:227] - Processing tuple output from model
2025-01-15 09:04:12,869 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:04:12,870 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:04:12,882 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:04:12,882 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:04:12,895 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:04:12,895 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:04:12,906 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:04:12,906 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:04:13,221 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 09:04:13,221 - services.translation_routes - INFO - [translation_routes.py:251] - 
==================================================
2025-01-15 09:04:13,222 - services.translation_routes - INFO - [translation_routes.py:252] - Translated Audio Quality Report
2025-01-15 09:04:13,222 - services.translation_routes - INFO - [translation_routes.py:253] - ==================================================
2025-01-15 09:04:13,222 - services.translation_routes - INFO - [translation_routes.py:254] - Request ID: 55462e35
2025-01-15 09:04:13,222 - services.translation_routes - INFO - [translation_routes.py:255] - Target Language: fra
2025-01-15 09:04:13,222 - services.translation_routes - INFO - [translation_routes.py:256] - --------------------------------------------------
2025-01-15 09:04:13,222 - services.translation_routes - INFO - [translation_routes.py:257] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.702
- Avg Amplitude: 0.062
- Rms Level: 0.095
- Crest Factor: 7.405
- Zero Crossings: 26658.000
- Silence Percentage: 10.606
- Clipping Points: 0.000
- Dynamic Range: 177.528

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.074
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.026
  - Temporal Flatness: 0.015

- Volume Metrics:
  - Volume Stability: 0.355
  - Volume Range: 410.810
  - Volume Variations: 0.052

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.0256054732365696
- Background Noise: 3.9621661774052304
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 1.0573242902755737, 'stability': 3.5496342182159424, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.017199454829096794, 'consistency': 0.0, 'distinction': 0.11212129890918732}
  - Description: Strong nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.514
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.000
  - Rhythm Quality: 0.000
  - Intonation Quality: 0.000

Vowel Quality:
  - Quality Score: 0.004
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-15 09:04:13,222 - services.translation_routes - INFO - [translation_routes.py:258] - ==================================================

2025-01-15 09:04:13,222 - services.translation_routes - INFO - [translation_routes.py:264] - Request 55462e35: Audio output processed successfully
2025-01-15 09:04:13,226 - services.translation_routes - INFO - [translation_routes.py:317] - Request 55462e35: Response prepared successfully
2025-01-15 09:04:13,226 - services.translation_routes - INFO - [translation_routes.py:328] - Request 55462e35 completed in 93.15s
2025-01-15 09:04:13,228 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 93.16s, Memory Change: 2222.12MB
2025-01-15 09:04:13,229 - __main__ - INFO - [app.py:277] - Request to /translate took 116.20s
2025-01-15 09:04:38,758 - __main__ - INFO - [app.py:216] - Received SIGINT signal
2025-01-15 09:04:38,760 - __main__ - INFO - [app.py:201] - Initiating graceful shutdown...
2025-01-15 09:04:43,765 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-15 09:04:43,766 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-15 09:04:43,767 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-15 09:04:43,769 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-15 09:04:43,770 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-15 09:04:43,770 - __main__ - INFO - [app.py:205] - Graceful shutdown completed
2025-01-15 09:04:43,771 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-15 09:04:43,772 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-15 09:04:43,772 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-15 09:04:43,773 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-15 09:04:43,773 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-15 09:04:43,774 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-15 09:04:43,775 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-15 09:04:43,775 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-15 09:04:43,776 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-15 09:04:43,776 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-15 09:04:43,946 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-15 09:04:43,947 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-15 09:04:54,187 - __main__ - INFO - [app.py:424] - Metrics server started on port 8000
2025-01-15 09:04:54,188 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-15 09:05:08,737 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-15 09:05:21,778 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-15 09:05:21,780 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-15 09:05:27,832 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-15 09:05:27,834 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-15 09:05:27,835 - __main__ - INFO - [app.py:448] - ==================================================
2025-01-15 09:05:27,835 - __main__ - INFO - [app.py:449] - Starting LinguaSync Backend
2025-01-15 09:05:27,835 - __main__ - INFO - [app.py:450] - Starting Flask app on port 5001 using cpu
2025-01-15 09:05:27,835 - __main__ - INFO - [app.py:451] - Python version: 3.12.6 (v3.12.6:a4a2d2b0d85, Sep  6 2024, 16:08:03) [Clang 13.0.0 (clang-1300.0.29.30)]
2025-01-15 09:05:27,835 - __main__ - INFO - [app.py:452] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-15 09:05:27,835 - __main__ - INFO - [app.py:453] - Maximum audio length: 300 seconds
2025-01-15 09:05:27,835 - __main__ - INFO - [app.py:454] - Sample rate: 16000 Hz
2025-01-15 09:05:27,835 - __main__ - INFO - [app.py:458] - System memory: 36.0GB total, 9.0GB available
2025-01-15 09:05:27,835 - __main__ - INFO - [app.py:459] - CPU cores: 11
2025-01-15 09:05:27,835 - __main__ - INFO - [app.py:467] - Configuration:
2025-01-15 09:05:27,835 - __main__ - INFO - [app.py:468] - - Debug mode: False
2025-01-15 09:05:27,835 - __main__ - INFO - [app.py:469] - - CORS enabled: True
2025-01-15 09:05:27,835 - __main__ - INFO - [app.py:470] - - Rate limiting: 10 requests per minute
2025-01-15 09:05:27,835 - __main__ - INFO - [app.py:471] - - Metrics enabled: True (port 8000)
2025-01-15 09:05:27,835 - __main__ - INFO - [app.py:473] - ==================================================
2025-01-15 09:06:11,818 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-15 09:06:11,822 - services.translation_routes - INFO - [translation_routes.py:29] - Starting translation request 3215e7f0
2025-01-15 09:06:11,822 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-15 09:06:11,822 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-15 09:06:11,826 - services.translation_routes - INFO - [translation_routes.py:86] - Request 3215e7f0: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmp2wffrde6.wav
2025-01-15 09:06:11,828 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 18.36 seconds
2025-01-15 09:06:11,828 - services.translation_routes - INFO - [translation_routes.py:99] - Request 3215e7f0: Beginning audio processing with diagnostics
2025-01-15 09:06:11,828 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmp2wffrde6.wav
2025-01-15 09:06:11,828 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 44100, Channels: 2
2025-01-15 09:06:11,837 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([2, 809508]), Frequency: 44100Hz
2025-01-15 09:06:11,837 - services.audio_processor - INFO - [audio_processor.py:219] - Resampling from 44100Hz to 16000Hz
2025-01-15 09:06:11,861 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-15 09:06:11,864 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for fra
2025-01-15 09:06:11,892 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-15 09:06:11,910 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:06:11,910 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:06:11,920 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:06:11,920 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:06:11,931 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:06:11,931 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:06:11,940 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:06:11,940 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:06:12,638 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 09:06:12,638 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-15 09:06:12,701 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:06:12,701 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:06:12,716 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:06:12,716 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:06:12,731 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:06:12,732 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:06:12,743 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:06:12,743 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:06:13,218 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 09:06:13,218 - services.translation_routes - INFO - [translation_routes.py:110] - 
==================================================
2025-01-15 09:06:13,218 - services.translation_routes - INFO - [translation_routes.py:111] - Input Audio Quality Report
2025-01-15 09:06:13,218 - services.translation_routes - INFO - [translation_routes.py:112] - ==================================================
2025-01-15 09:06:13,218 - services.translation_routes - INFO - [translation_routes.py:113] - Request ID: 3215e7f0
2025-01-15 09:06:13,218 - services.translation_routes - INFO - [translation_routes.py:114] - Target Language: fra
2025-01-15 09:06:13,218 - services.translation_routes - INFO - [translation_routes.py:115] - --------------------------------------------------
2025-01-15 09:06:13,218 - services.translation_routes - INFO - [translation_routes.py:116] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.800
- Avg Amplitude: 0.013
- Rms Level: 0.039
- Crest Factor: 20.262
- Zero Crossings: 127716.000
- Silence Percentage: 62.168
- Clipping Points: 0.000
- Dynamic Range: 3022615.000

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.070
  - Temporal Flatness: 0.020

- Volume Metrics:
  - Volume Stability: -0.728
  - Volume Range: 29148040.000
  - Volume Variations: 0.034

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.003898838626448
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 0.6381455659866333, 'stability': 1.6408194303512573, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.23516440391540527, 'consistency': 0.2896541953086853, 'distinction': 0.11255760490894318}
  - Description: Moderate nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.670
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.340
  - Rhythm Quality: 0.358
  - Intonation Quality: 0.322

Vowel Quality:
  - Quality Score: 0.005
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-15 09:06:13,218 - services.translation_routes - INFO - [translation_routes.py:117] - ==================================================

2025-01-15 09:06:13,219 - services.translation_routes - INFO - [translation_routes.py:128] - Request 3215e7f0: Audio processed successfully
2025-01-15 09:06:13,244 - services.translation_routes - INFO - [translation_routes.py:147] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-15 09:06:29,871 - services.translation_routes - INFO - [translation_routes.py:185] - Source text: the stale smell of old beer lingers it takes heat to bring out the odor a cold dip restores health and zest a salt pickle tastes fine with ham tacos al pastor are my favorite a zestful food is the hot cross bun
2025-01-15 09:06:45,835 - services.translation_routes - INFO - [translation_routes.py:204] - Target text: l'odeur de la vieille bière lingoure il faut de la chaleur pour faire ressortir l'odore une dip froide restaure la santé et le zest un pickle salé goûte bien avec le jambon tacos al pasteur sont mon favori une nourriture zestueuse est le hot cross bun
2025-01-15 09:07:06,591 - services.translation_routes - INFO - [translation_routes.py:227] - Processing tuple output from model
2025-01-15 09:07:06,608 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:07:06,609 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:07:06,616 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:07:06,616 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:07:06,622 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:07:06,622 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:07:06,628 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:07:06,628 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:07:06,944 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 09:07:06,944 - services.translation_routes - INFO - [translation_routes.py:251] - 
==================================================
2025-01-15 09:07:06,944 - services.translation_routes - INFO - [translation_routes.py:252] - Translated Audio Quality Report
2025-01-15 09:07:06,944 - services.translation_routes - INFO - [translation_routes.py:253] - ==================================================
2025-01-15 09:07:06,944 - services.translation_routes - INFO - [translation_routes.py:254] - Request ID: 3215e7f0
2025-01-15 09:07:06,944 - services.translation_routes - INFO - [translation_routes.py:255] - Target Language: fra
2025-01-15 09:07:06,944 - services.translation_routes - INFO - [translation_routes.py:256] - --------------------------------------------------
2025-01-15 09:07:06,944 - services.translation_routes - INFO - [translation_routes.py:257] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.747
- Avg Amplitude: 0.066
- Rms Level: 0.102
- Crest Factor: 7.353
- Zero Crossings: 27293.000
- Silence Percentage: 9.724
- Clipping Points: 0.000
- Dynamic Range: 163.182

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.081
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.028
  - Temporal Flatness: 0.016

- Volume Metrics:
  - Volume Stability: 0.334
  - Volume Range: 686.857
  - Volume Variations: 0.056

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.0276206958947762
- Background Noise: 3.94110042910796
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
No issues detected

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 1.0345174074172974, 'stability': 3.6124579906463623, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.025447623804211617, 'consistency': 0.0, 'distinction': 0.057874877005815506}
  - Description: Strong nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.538
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.000
  - Rhythm Quality: 0.000
  - Intonation Quality: 0.000

Vowel Quality:
  - Quality Score: 0.002
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-15 09:07:06,945 - services.translation_routes - INFO - [translation_routes.py:258] - ==================================================

2025-01-15 09:07:06,945 - services.translation_routes - INFO - [translation_routes.py:264] - Request 3215e7f0: Audio output processed successfully
2025-01-15 09:07:06,949 - services.translation_routes - INFO - [translation_routes.py:317] - Request 3215e7f0: Response prepared successfully
2025-01-15 09:07:06,949 - services.translation_routes - INFO - [translation_routes.py:328] - Request 3215e7f0 completed in 55.13s
2025-01-15 09:07:06,951 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 55.13s, Memory Change: 1445.22MB
2025-01-15 09:07:06,951 - __main__ - INFO - [app.py:277] - Request to /translate took 64.87s
2025-01-15 09:30:32,239 - __main__ - INFO - [app.py:216] - Received SIGINT signal
2025-01-15 09:30:32,242 - __main__ - INFO - [app.py:201] - Initiating graceful shutdown...
2025-01-15 09:30:37,245 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-15 09:30:37,246 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-15 09:30:37,247 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-15 09:30:37,251 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-15 09:30:37,253 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-15 09:30:37,256 - __main__ - INFO - [app.py:205] - Graceful shutdown completed
2025-01-15 09:30:37,260 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-15 09:30:37,262 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-15 09:30:37,262 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-15 09:30:37,263 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-15 09:30:37,264 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-15 09:30:37,265 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-15 09:30:37,265 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-15 09:30:37,265 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-15 09:30:37,266 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-15 09:30:37,266 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-15 09:30:37,415 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-15 09:30:37,415 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-15 09:30:45,133 - __main__ - INFO - [app.py:424] - Metrics server started on port 8000
2025-01-15 09:30:45,133 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-15 09:30:58,457 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-15 09:31:11,579 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-15 09:31:11,580 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-15 09:31:18,855 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-15 09:31:18,858 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-15 09:31:18,858 - __main__ - INFO - [app.py:448] - ==================================================
2025-01-15 09:31:18,858 - __main__ - INFO - [app.py:449] - Starting LinguaSync Backend
2025-01-15 09:31:18,858 - __main__ - INFO - [app.py:450] - Starting Flask app on port 5001 using cpu
2025-01-15 09:31:18,858 - __main__ - INFO - [app.py:451] - Python version: 3.12.6 (v3.12.6:a4a2d2b0d85, Sep  6 2024, 16:08:03) [Clang 13.0.0 (clang-1300.0.29.30)]
2025-01-15 09:31:18,859 - __main__ - INFO - [app.py:452] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-15 09:31:18,859 - __main__ - INFO - [app.py:453] - Maximum audio length: 300 seconds
2025-01-15 09:31:18,859 - __main__ - INFO - [app.py:454] - Sample rate: 16000 Hz
2025-01-15 09:31:18,859 - __main__ - INFO - [app.py:458] - System memory: 36.0GB total, 10.0GB available
2025-01-15 09:31:18,859 - __main__ - INFO - [app.py:459] - CPU cores: 11
2025-01-15 09:31:18,859 - __main__ - INFO - [app.py:467] - Configuration:
2025-01-15 09:31:18,859 - __main__ - INFO - [app.py:468] - - Debug mode: False
2025-01-15 09:31:18,859 - __main__ - INFO - [app.py:469] - - CORS enabled: True
2025-01-15 09:31:18,859 - __main__ - INFO - [app.py:470] - - Rate limiting: 10 requests per minute
2025-01-15 09:31:18,859 - __main__ - INFO - [app.py:471] - - Metrics enabled: True (port 8000)
2025-01-15 09:31:18,859 - __main__ - INFO - [app.py:473] - ==================================================
2025-01-15 09:36:05,908 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-15 09:36:05,910 - services.translation_routes - INFO - [translation_routes.py:29] - Starting translation request 896a1db4
2025-01-15 09:36:05,910 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-15 09:36:05,910 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-15 09:36:05,912 - services.translation_routes - INFO - [translation_routes.py:86] - Request 896a1db4: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpvb45bxg_.wav
2025-01-15 09:36:05,913 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 18.36 seconds
2025-01-15 09:36:05,913 - services.translation_routes - INFO - [translation_routes.py:99] - Request 896a1db4: Beginning audio processing with diagnostics
2025-01-15 09:36:05,913 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpvb45bxg_.wav
2025-01-15 09:36:05,913 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 44100, Channels: 2
2025-01-15 09:36:05,921 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([2, 809508]), Frequency: 44100Hz
2025-01-15 09:36:05,921 - services.audio_processor - INFO - [audio_processor.py:219] - Resampling from 44100Hz to 16000Hz
2025-01-15 09:36:05,943 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-15 09:36:05,945 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for fra
2025-01-15 09:36:05,967 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-15 09:36:05,981 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:36:05,981 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:36:05,989 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:36:05,989 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:36:05,996 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:36:05,996 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:36:06,003 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:36:06,003 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:36:06,447 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 09:36:06,447 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-15 09:36:06,483 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:36:06,483 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:36:06,489 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:36:06,489 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:36:06,496 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:36:06,496 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:36:06,503 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:36:06,503 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:36:06,934 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 09:36:06,934 - services.translation_routes - INFO - [translation_routes.py:110] - 
==================================================
2025-01-15 09:36:06,934 - services.translation_routes - INFO - [translation_routes.py:111] - Input Audio Quality Report
2025-01-15 09:36:06,934 - services.translation_routes - INFO - [translation_routes.py:112] - ==================================================
2025-01-15 09:36:06,934 - services.translation_routes - INFO - [translation_routes.py:113] - Request ID: 896a1db4
2025-01-15 09:36:06,934 - services.translation_routes - INFO - [translation_routes.py:114] - Target Language: fra
2025-01-15 09:36:06,934 - services.translation_routes - INFO - [translation_routes.py:115] - --------------------------------------------------
2025-01-15 09:36:06,934 - services.translation_routes - INFO - [translation_routes.py:116] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.800
- Avg Amplitude: 0.013
- Rms Level: 0.039
- Crest Factor: 20.262
- Zero Crossings: 127716.000
- Silence Percentage: 62.168
- Clipping Points: 0.000
- Dynamic Range: 3022615.000

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.070
  - Temporal Flatness: 0.020

- Volume Metrics:
  - Volume Stability: -0.728
  - Volume Range: 29148040.000
  - Volume Variations: 0.034

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.003898838626448
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 0.6381455659866333, 'stability': 1.6408194303512573, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.23516440391540527, 'consistency': 0.2896541953086853, 'distinction': 0.11255760490894318}
  - Description: Moderate nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.670
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.340
  - Rhythm Quality: 0.358
  - Intonation Quality: 0.322

Vowel Quality:
  - Quality Score: 0.005
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-15 09:36:06,935 - services.translation_routes - INFO - [translation_routes.py:117] - ==================================================

2025-01-15 09:36:06,935 - services.translation_routes - INFO - [translation_routes.py:128] - Request 896a1db4: Audio processed successfully
2025-01-15 09:36:06,960 - services.translation_routes - INFO - [translation_routes.py:147] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-15 09:36:21,304 - services.translation_routes - INFO - [translation_routes.py:185] - Source text: the stale smell of old beer lingers it takes heat to bring out the odor a cold dip restores health and zest a salt pickle tastes fine with ham tacos al pastor are my favorite a zestful food is the hot cross bun
2025-01-15 09:36:35,869 - services.translation_routes - INFO - [translation_routes.py:204] - Target text: l'odeur de la vieille bière lingoure il faut de la chaleur pour faire ressortir l'odore une dip froide restaure la santé et le zest un pickle salé goûte bien avec le jambon tacos al pasteur sont mon favori une nourriture zestueuse est le hot cross bun
2025-01-15 09:36:55,772 - services.translation_routes - INFO - [translation_routes.py:227] - Processing tuple output from model
2025-01-15 09:36:55,785 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:36:55,785 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:36:55,797 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:36:55,798 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:36:55,806 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:36:55,806 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:36:55,820 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:36:55,820 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:36:56,132 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 09:36:56,132 - services.translation_routes - INFO - [translation_routes.py:251] - 
==================================================
2025-01-15 09:36:56,132 - services.translation_routes - INFO - [translation_routes.py:252] - Translated Audio Quality Report
2025-01-15 09:36:56,132 - services.translation_routes - INFO - [translation_routes.py:253] - ==================================================
2025-01-15 09:36:56,132 - services.translation_routes - INFO - [translation_routes.py:254] - Request ID: 896a1db4
2025-01-15 09:36:56,132 - services.translation_routes - INFO - [translation_routes.py:255] - Target Language: fra
2025-01-15 09:36:56,132 - services.translation_routes - INFO - [translation_routes.py:256] - --------------------------------------------------
2025-01-15 09:36:56,132 - services.translation_routes - INFO - [translation_routes.py:257] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.784
- Avg Amplitude: 0.065
- Rms Level: 0.100
- Crest Factor: 7.844
- Zero Crossings: 26714.000
- Silence Percentage: 9.776
- Clipping Points: 0.000
- Dynamic Range: 163.406

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.019
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.027
  - Temporal Flatness: 0.015

- Volume Metrics:
  - Volume Stability: 0.329
  - Volume Range: 652.227
  - Volume Variations: 0.056

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.025493078932222
- Background Noise: 4.1376912835188575
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 1.034140706062317, 'stability': 3.705514669418335, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.0001441143685951829, 'consistency': 0.0, 'distinction': 0.05822793021798134}
  - Description: Strong nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.543
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.000
  - Rhythm Quality: 0.000
  - Intonation Quality: 0.000

Vowel Quality:
  - Quality Score: 0.003
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-15 09:36:56,132 - services.translation_routes - INFO - [translation_routes.py:258] - ==================================================

2025-01-15 09:36:56,132 - services.translation_routes - INFO - [translation_routes.py:264] - Request 896a1db4: Audio output processed successfully
2025-01-15 09:36:56,136 - services.translation_routes - INFO - [translation_routes.py:317] - Request 896a1db4: Response prepared successfully
2025-01-15 09:36:56,137 - services.translation_routes - INFO - [translation_routes.py:328] - Request 896a1db4 completed in 50.23s
2025-01-15 09:36:56,137 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 50.23s, Memory Change: 1753.61MB
2025-01-15 09:36:56,137 - __main__ - INFO - [app.py:277] - Request to /translate took 58.42s
2025-01-15 09:43:15,532 - __main__ - INFO - [app.py:216] - Received SIGINT signal
2025-01-15 09:43:15,532 - __main__ - INFO - [app.py:201] - Initiating graceful shutdown...
2025-01-15 09:43:20,538 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-15 09:43:20,539 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-15 09:43:20,539 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-15 09:43:20,540 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-15 09:43:20,541 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-15 09:43:20,541 - __main__ - INFO - [app.py:205] - Graceful shutdown completed
2025-01-15 09:43:20,544 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-15 09:43:20,545 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-15 09:43:20,545 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-15 09:43:20,546 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-15 09:43:20,546 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-15 09:43:20,548 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-15 09:43:20,548 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-15 09:43:20,548 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-15 09:43:20,549 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-15 09:43:20,549 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-15 09:43:20,691 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-15 09:43:20,692 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-15 09:43:41,718 - __main__ - INFO - [app.py:424] - Metrics server started on port 8000
2025-01-15 09:43:41,718 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-15 09:43:54,785 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-15 09:44:02,781 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-15 09:44:02,782 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-15 09:44:07,522 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-15 09:44:07,523 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-15 09:44:07,523 - __main__ - INFO - [app.py:448] - ==================================================
2025-01-15 09:44:07,523 - __main__ - INFO - [app.py:449] - Starting LinguaSync Backend
2025-01-15 09:44:07,523 - __main__ - INFO - [app.py:450] - Starting Flask app on port 5001 using cpu
2025-01-15 09:44:07,523 - __main__ - INFO - [app.py:451] - Python version: 3.12.6 (v3.12.6:a4a2d2b0d85, Sep  6 2024, 16:08:03) [Clang 13.0.0 (clang-1300.0.29.30)]
2025-01-15 09:44:07,524 - __main__ - INFO - [app.py:452] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-15 09:44:07,524 - __main__ - INFO - [app.py:453] - Maximum audio length: 300 seconds
2025-01-15 09:44:07,524 - __main__ - INFO - [app.py:454] - Sample rate: 16000 Hz
2025-01-15 09:44:07,524 - __main__ - INFO - [app.py:458] - System memory: 36.0GB total, 18.8GB available
2025-01-15 09:44:07,524 - __main__ - INFO - [app.py:459] - CPU cores: 11
2025-01-15 09:44:07,524 - __main__ - INFO - [app.py:467] - Configuration:
2025-01-15 09:44:07,524 - __main__ - INFO - [app.py:468] - - Debug mode: False
2025-01-15 09:44:07,524 - __main__ - INFO - [app.py:469] - - CORS enabled: True
2025-01-15 09:44:07,524 - __main__ - INFO - [app.py:470] - - Rate limiting: 10 requests per minute
2025-01-15 09:44:07,524 - __main__ - INFO - [app.py:471] - - Metrics enabled: True (port 8000)
2025-01-15 09:44:07,524 - __main__ - INFO - [app.py:473] - ==================================================
2025-01-15 09:46:33,614 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-15 09:46:33,615 - services.translation_routes - INFO - [translation_routes.py:29] - Starting translation request 41f1fd3e
2025-01-15 09:46:33,616 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-15 09:46:33,616 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-15 09:46:33,618 - services.translation_routes - INFO - [translation_routes.py:86] - Request 41f1fd3e: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpz0vo1td8.wav
2025-01-15 09:46:33,618 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 18.36 seconds
2025-01-15 09:46:33,618 - services.translation_routes - INFO - [translation_routes.py:99] - Request 41f1fd3e: Beginning audio processing with diagnostics
2025-01-15 09:46:33,618 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpz0vo1td8.wav
2025-01-15 09:46:33,619 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 44100, Channels: 2
2025-01-15 09:46:33,627 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([2, 809508]), Frequency: 44100Hz
2025-01-15 09:46:33,627 - services.audio_processor - INFO - [audio_processor.py:219] - Resampling from 44100Hz to 16000Hz
2025-01-15 09:46:33,647 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-15 09:46:33,649 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for fra
2025-01-15 09:46:33,670 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-15 09:46:33,688 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:46:33,688 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:46:33,696 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:46:33,697 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:46:33,705 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:46:33,706 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:46:33,713 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:46:33,713 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:46:34,170 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 09:46:34,170 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-15 09:46:34,206 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:46:34,207 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:46:34,212 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:46:34,212 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:46:34,235 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:46:34,235 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:46:34,242 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:46:34,242 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:46:34,678 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 09:46:34,678 - services.translation_routes - INFO - [translation_routes.py:110] - 
==================================================
2025-01-15 09:46:34,678 - services.translation_routes - INFO - [translation_routes.py:111] - Input Audio Quality Report
2025-01-15 09:46:34,678 - services.translation_routes - INFO - [translation_routes.py:112] - ==================================================
2025-01-15 09:46:34,678 - services.translation_routes - INFO - [translation_routes.py:113] - Request ID: 41f1fd3e
2025-01-15 09:46:34,678 - services.translation_routes - INFO - [translation_routes.py:114] - Target Language: fra
2025-01-15 09:46:34,678 - services.translation_routes - INFO - [translation_routes.py:115] - --------------------------------------------------
2025-01-15 09:46:34,678 - services.translation_routes - INFO - [translation_routes.py:116] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.800
- Avg Amplitude: 0.013
- Rms Level: 0.039
- Crest Factor: 20.262
- Zero Crossings: 127716.000
- Silence Percentage: 62.168
- Clipping Points: 0.000
- Dynamic Range: 3022615.000

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.070
  - Temporal Flatness: 0.020

- Volume Metrics:
  - Volume Stability: -0.728
  - Volume Range: 29148040.000
  - Volume Variations: 0.034

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.003898838626448
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 0.6381455659866333, 'stability': 1.6408194303512573, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.23516440391540527, 'consistency': 0.2896541953086853, 'distinction': 0.11255760490894318}
  - Description: Moderate nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.670
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.340
  - Rhythm Quality: 0.358
  - Intonation Quality: 0.322

Vowel Quality:
  - Quality Score: 0.005
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-15 09:46:34,678 - services.translation_routes - INFO - [translation_routes.py:117] - ==================================================

2025-01-15 09:46:34,678 - services.translation_routes - INFO - [translation_routes.py:128] - Request 41f1fd3e: Audio processed successfully
2025-01-15 09:46:34,700 - services.translation_routes - INFO - [translation_routes.py:147] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-15 09:46:48,660 - services.translation_routes - INFO - [translation_routes.py:185] - Source text: the stale smell of old beer lingers it takes heat to bring out the odor a cold dip restores health and zest a salt pickle tastes fine with ham tacos al pastor are my favorite a zestful food is the hot cross bun
2025-01-15 09:47:04,138 - services.translation_routes - INFO - [translation_routes.py:204] - Target text: l'odeur de la vieille bière lingoure il faut de la chaleur pour faire ressortir l'odore une dip froide restaure la santé et le zest un pickle salé goûte bien avec le jambon tacos al pasteur sont mon favori une nourriture zestueuse est le hot cross bun
2025-01-15 09:47:23,868 - services.translation_routes - INFO - [translation_routes.py:227] - Processing tuple output from model
2025-01-15 09:47:23,880 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:47:23,880 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:47:23,884 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:47:23,884 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:47:23,891 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:47:23,891 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:47:23,897 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 09:47:23,897 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 09:47:24,210 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 09:47:24,210 - services.translation_routes - INFO - [translation_routes.py:251] - 
==================================================
2025-01-15 09:47:24,210 - services.translation_routes - INFO - [translation_routes.py:252] - Translated Audio Quality Report
2025-01-15 09:47:24,210 - services.translation_routes - INFO - [translation_routes.py:253] - ==================================================
2025-01-15 09:47:24,210 - services.translation_routes - INFO - [translation_routes.py:254] - Request ID: 41f1fd3e
2025-01-15 09:47:24,210 - services.translation_routes - INFO - [translation_routes.py:255] - Target Language: fra
2025-01-15 09:47:24,210 - services.translation_routes - INFO - [translation_routes.py:256] - --------------------------------------------------
2025-01-15 09:47:24,210 - services.translation_routes - INFO - [translation_routes.py:257] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.641
- Avg Amplitude: 0.064
- Rms Level: 0.098
- Crest Factor: 6.552
- Zero Crossings: 27623.000
- Silence Percentage: 9.249
- Clipping Points: 0.000
- Dynamic Range: 146.202

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.181
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.028
  - Temporal Flatness: 0.016

- Volume Metrics:
  - Volume Stability: 0.354
  - Volume Range: 454.567
  - Volume Variations: 0.053

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.0298720933094523
- Background Noise: 3.6209858615853827
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 1.0542340278625488, 'stability': 3.556915283203125, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.01593565009534359, 'consistency': 0.0, 'distinction': 0.09022802114486694}
  - Description: Strong nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.508
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.000
  - Rhythm Quality: 0.000
  - Intonation Quality: 0.000

Vowel Quality:
  - Quality Score: 0.003
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-15 09:47:24,210 - services.translation_routes - INFO - [translation_routes.py:258] - ==================================================

2025-01-15 09:47:24,210 - services.translation_routes - INFO - [translation_routes.py:264] - Request 41f1fd3e: Audio output processed successfully
2025-01-15 09:47:24,214 - services.translation_routes - INFO - [translation_routes.py:317] - Request 41f1fd3e: Response prepared successfully
2025-01-15 09:47:24,215 - services.translation_routes - INFO - [translation_routes.py:328] - Request 41f1fd3e completed in 50.60s
2025-01-15 09:47:24,217 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 50.60s, Memory Change: 1641.75MB
2025-01-15 09:47:24,217 - __main__ - INFO - [app.py:277] - Request to /translate took 58.12s
2025-01-15 10:02:26,482 - __main__ - INFO - [app.py:216] - Received SIGINT signal
2025-01-15 10:02:26,484 - __main__ - INFO - [app.py:201] - Initiating graceful shutdown...
2025-01-15 10:02:31,490 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-15 10:02:31,491 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-15 10:02:31,491 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-15 10:02:31,493 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-15 10:02:31,494 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-15 10:02:31,494 - __main__ - INFO - [app.py:205] - Graceful shutdown completed
2025-01-15 10:02:31,500 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-15 10:02:31,500 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-15 10:02:31,501 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-15 10:02:31,501 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-15 10:02:31,502 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-15 10:02:31,503 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-15 10:02:31,503 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-15 10:02:31,503 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-15 10:02:31,504 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-15 10:02:31,504 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-15 10:02:31,633 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-15 10:02:31,633 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-15 10:06:41,295 - __main__ - INFO - [app.py:424] - Metrics server started on port 8000
2025-01-15 10:06:41,295 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-15 10:06:54,002 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-15 10:07:00,157 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-15 10:07:00,159 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-15 10:07:05,003 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-15 10:07:05,005 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-15 10:07:05,005 - __main__ - INFO - [app.py:448] - ==================================================
2025-01-15 10:07:05,005 - __main__ - INFO - [app.py:449] - Starting LinguaSync Backend
2025-01-15 10:07:05,005 - __main__ - INFO - [app.py:450] - Starting Flask app on port 5001 using cpu
2025-01-15 10:07:05,005 - __main__ - INFO - [app.py:451] - Python version: 3.12.6 (v3.12.6:a4a2d2b0d85, Sep  6 2024, 16:08:03) [Clang 13.0.0 (clang-1300.0.29.30)]
2025-01-15 10:07:05,005 - __main__ - INFO - [app.py:452] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-15 10:07:05,005 - __main__ - INFO - [app.py:453] - Maximum audio length: 300 seconds
2025-01-15 10:07:05,005 - __main__ - INFO - [app.py:454] - Sample rate: 16000 Hz
2025-01-15 10:07:05,005 - __main__ - INFO - [app.py:458] - System memory: 36.0GB total, 16.7GB available
2025-01-15 10:07:05,005 - __main__ - INFO - [app.py:459] - CPU cores: 11
2025-01-15 10:07:05,005 - __main__ - INFO - [app.py:467] - Configuration:
2025-01-15 10:07:05,005 - __main__ - INFO - [app.py:468] - - Debug mode: False
2025-01-15 10:07:05,005 - __main__ - INFO - [app.py:469] - - CORS enabled: True
2025-01-15 10:07:05,005 - __main__ - INFO - [app.py:470] - - Rate limiting: 10 requests per minute
2025-01-15 10:07:05,005 - __main__ - INFO - [app.py:471] - - Metrics enabled: True (port 8000)
2025-01-15 10:07:05,005 - __main__ - INFO - [app.py:473] - ==================================================
2025-01-15 10:07:51,987 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-15 10:07:51,989 - services.translation_routes - INFO - [translation_routes.py:29] - Starting translation request 77f249c0
2025-01-15 10:07:51,989 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-15 10:07:51,989 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-15 10:07:51,991 - services.translation_routes - INFO - [translation_routes.py:86] - Request 77f249c0: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpbhnxtk07.wav
2025-01-15 10:07:51,992 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 18.36 seconds
2025-01-15 10:07:51,992 - services.translation_routes - INFO - [translation_routes.py:99] - Request 77f249c0: Beginning audio processing with diagnostics
2025-01-15 10:07:51,992 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpbhnxtk07.wav
2025-01-15 10:07:51,992 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 44100, Channels: 2
2025-01-15 10:07:52,000 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([2, 809508]), Frequency: 44100Hz
2025-01-15 10:07:52,000 - services.audio_processor - INFO - [audio_processor.py:219] - Resampling from 44100Hz to 16000Hz
2025-01-15 10:07:52,020 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-15 10:07:52,023 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for fra
2025-01-15 10:07:52,044 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-15 10:07:52,057 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 10:07:52,058 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 10:07:52,063 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 10:07:52,063 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 10:07:52,070 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 10:07:52,071 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 10:07:52,078 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 10:07:52,078 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 10:07:52,527 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 10:07:52,527 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-15 10:07:52,562 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 10:07:52,563 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 10:07:52,568 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 10:07:52,568 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 10:07:52,575 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 10:07:52,576 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 10:07:52,582 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 10:07:52,582 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 10:07:53,015 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 10:07:53,015 - services.translation_routes - INFO - [translation_routes.py:110] - 
==================================================
2025-01-15 10:07:53,015 - services.translation_routes - INFO - [translation_routes.py:111] - Input Audio Quality Report
2025-01-15 10:07:53,015 - services.translation_routes - INFO - [translation_routes.py:112] - ==================================================
2025-01-15 10:07:53,015 - services.translation_routes - INFO - [translation_routes.py:113] - Request ID: 77f249c0
2025-01-15 10:07:53,015 - services.translation_routes - INFO - [translation_routes.py:114] - Target Language: fra
2025-01-15 10:07:53,015 - services.translation_routes - INFO - [translation_routes.py:115] - --------------------------------------------------
2025-01-15 10:07:53,015 - services.translation_routes - INFO - [translation_routes.py:116] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.800
- Avg Amplitude: 0.013
- Rms Level: 0.039
- Crest Factor: 20.262
- Zero Crossings: 127716.000
- Silence Percentage: 62.168
- Clipping Points: 0.000
- Dynamic Range: 3022615.000

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.070
  - Temporal Flatness: 0.020

- Volume Metrics:
  - Volume Stability: -0.728
  - Volume Range: 29148040.000
  - Volume Variations: 0.034

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.003898838626448
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 0.6381455659866333, 'stability': 1.6408194303512573, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.23516440391540527, 'consistency': 0.2896541953086853, 'distinction': 0.11255760490894318}
  - Description: Moderate nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.670
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.340
  - Rhythm Quality: 0.358
  - Intonation Quality: 0.322

Vowel Quality:
  - Quality Score: 0.005
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-15 10:07:53,016 - services.translation_routes - INFO - [translation_routes.py:117] - ==================================================

2025-01-15 10:07:53,016 - services.translation_routes - INFO - [translation_routes.py:128] - Request 77f249c0: Audio processed successfully
2025-01-15 10:07:53,036 - services.translation_routes - INFO - [translation_routes.py:147] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-15 10:08:07,006 - services.translation_routes - INFO - [translation_routes.py:185] - Source text: the stale smell of old beer lingers it takes heat to bring out the odor a cold dip restores health and zest a salt pickle tastes fine with ham tacos al pastor are my favorite a zestful food is the hot cross bun
2025-01-15 10:08:22,833 - services.translation_routes - INFO - [translation_routes.py:204] - Target text: l'odeur de la vieille bière lingoure il faut de la chaleur pour faire ressortir l'odore une dip froide restaure la santé et le zest un pickle salé goûte bien avec le jambon tacos al pasteur sont mon favori une nourriture zestueuse est le hot cross bun
2025-01-15 10:08:43,607 - services.translation_routes - INFO - [translation_routes.py:227] - Processing tuple output from model
2025-01-15 10:08:43,622 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 10:08:43,623 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 10:08:43,629 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 10:08:43,629 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 10:08:43,636 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 10:08:43,636 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 10:08:43,644 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 10:08:43,644 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 10:08:43,945 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 10:08:43,946 - services.translation_routes - INFO - [translation_routes.py:251] - 
==================================================
2025-01-15 10:08:43,946 - services.translation_routes - INFO - [translation_routes.py:252] - Translated Audio Quality Report
2025-01-15 10:08:43,946 - services.translation_routes - INFO - [translation_routes.py:253] - ==================================================
2025-01-15 10:08:43,946 - services.translation_routes - INFO - [translation_routes.py:254] - Request ID: 77f249c0
2025-01-15 10:08:43,946 - services.translation_routes - INFO - [translation_routes.py:255] - Target Language: fra
2025-01-15 10:08:43,946 - services.translation_routes - INFO - [translation_routes.py:256] - --------------------------------------------------
2025-01-15 10:08:43,946 - services.translation_routes - INFO - [translation_routes.py:257] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.709
- Avg Amplitude: 0.064
- Rms Level: 0.099
- Crest Factor: 7.145
- Zero Crossings: 27618.000
- Silence Percentage: 8.994
- Clipping Points: 0.000
- Dynamic Range: 142.380

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.107
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.028
  - Temporal Flatness: 0.016

- Volume Metrics:
  - Volume Stability: 0.346
  - Volume Range: 807.888
  - Volume Variations: 0.054

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.027776191239056
- Background Noise: 3.8579453864873012
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 1.0661664009094238, 'stability': 3.7544522285461426, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.00260128453373909, 'consistency': 0.0, 'distinction': 0.07566527277231216}
  - Description: Strong nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.515
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.000
  - Rhythm Quality: 0.000
  - Intonation Quality: 0.000

Vowel Quality:
  - Quality Score: 0.004
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-15 10:08:43,946 - services.translation_routes - INFO - [translation_routes.py:258] - ==================================================

2025-01-15 10:08:43,946 - services.translation_routes - INFO - [translation_routes.py:264] - Request 77f249c0: Audio output processed successfully
2025-01-15 10:08:43,951 - services.translation_routes - INFO - [translation_routes.py:317] - Request 77f249c0: Response prepared successfully
2025-01-15 10:08:43,951 - services.translation_routes - INFO - [translation_routes.py:328] - Request 77f249c0 completed in 51.96s
2025-01-15 10:08:43,952 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 51.96s, Memory Change: 1408.38MB
2025-01-15 10:08:43,952 - __main__ - INFO - [app.py:277] - Request to /translate took 57.68s
2025-01-15 13:26:53,684 - __main__ - INFO - [app.py:216] - Received SIGINT signal
2025-01-15 13:26:53,686 - __main__ - INFO - [app.py:201] - Initiating graceful shutdown...
2025-01-15 13:26:58,688 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-15 13:26:58,688 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-15 13:26:58,688 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-15 13:26:58,689 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-15 13:26:58,690 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-15 13:26:58,690 - __main__ - INFO - [app.py:205] - Graceful shutdown completed
2025-01-15 13:26:58,690 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-15 13:26:58,690 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-15 13:26:58,691 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-15 13:26:58,691 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-15 13:26:58,691 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-15 13:26:58,691 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-15 13:26:58,691 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-15 13:26:58,692 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-15 13:26:58,692 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-15 13:26:58,692 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-15 13:26:58,818 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-15 13:26:58,818 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-15 13:27:05,310 - __main__ - INFO - [app.py:424] - Metrics server started on port 8000
2025-01-15 13:27:05,310 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-15 13:27:18,313 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-15 13:27:24,926 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-15 13:27:24,927 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-15 13:27:31,701 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-15 13:27:31,704 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-15 13:27:31,704 - __main__ - INFO - [app.py:448] - ==================================================
2025-01-15 13:27:31,704 - __main__ - INFO - [app.py:449] - Starting LinguaSync Backend
2025-01-15 13:27:31,704 - __main__ - INFO - [app.py:450] - Starting Flask app on port 5001 using cpu
2025-01-15 13:27:31,704 - __main__ - INFO - [app.py:451] - Python version: 3.12.6 (v3.12.6:a4a2d2b0d85, Sep  6 2024, 16:08:03) [Clang 13.0.0 (clang-1300.0.29.30)]
2025-01-15 13:27:31,704 - __main__ - INFO - [app.py:452] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-15 13:27:31,704 - __main__ - INFO - [app.py:453] - Maximum audio length: 300 seconds
2025-01-15 13:27:31,704 - __main__ - INFO - [app.py:454] - Sample rate: 16000 Hz
2025-01-15 13:27:31,704 - __main__ - INFO - [app.py:458] - System memory: 36.0GB total, 15.5GB available
2025-01-15 13:27:31,704 - __main__ - INFO - [app.py:459] - CPU cores: 11
2025-01-15 13:27:31,704 - __main__ - INFO - [app.py:467] - Configuration:
2025-01-15 13:27:31,704 - __main__ - INFO - [app.py:468] - - Debug mode: False
2025-01-15 13:27:31,704 - __main__ - INFO - [app.py:469] - - CORS enabled: True
2025-01-15 13:27:31,704 - __main__ - INFO - [app.py:470] - - Rate limiting: 10 requests per minute
2025-01-15 13:27:31,704 - __main__ - INFO - [app.py:471] - - Metrics enabled: True (port 8000)
2025-01-15 13:27:31,704 - __main__ - INFO - [app.py:473] - ==================================================
2025-01-15 13:28:33,178 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-15 13:28:33,180 - services.translation_routes - INFO - [translation_routes.py:29] - Starting translation request b15228d6
2025-01-15 13:28:33,180 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-15 13:28:33,180 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-15 13:28:33,182 - services.translation_routes - INFO - [translation_routes.py:86] - Request b15228d6: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmp8pyl2qw4.wav
2025-01-15 13:28:33,183 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 18.36 seconds
2025-01-15 13:28:33,183 - services.translation_routes - INFO - [translation_routes.py:99] - Request b15228d6: Beginning audio processing with diagnostics
2025-01-15 13:28:33,183 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmp8pyl2qw4.wav
2025-01-15 13:28:33,183 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 44100, Channels: 2
2025-01-15 13:28:33,192 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([2, 809508]), Frequency: 44100Hz
2025-01-15 13:28:33,192 - services.audio_processor - INFO - [audio_processor.py:219] - Resampling from 44100Hz to 16000Hz
2025-01-15 13:28:33,213 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-15 13:28:33,216 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for fra
2025-01-15 13:28:33,241 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-15 13:28:33,260 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 13:28:33,260 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 13:28:33,268 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 13:28:33,268 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 13:28:33,276 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 13:28:33,276 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 13:28:33,285 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 13:28:33,286 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 13:28:33,750 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 13:28:33,750 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-15 13:28:33,786 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 13:28:33,786 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 13:28:33,791 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 13:28:33,791 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 13:28:33,800 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 13:28:33,800 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 13:28:33,808 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 13:28:33,808 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 13:28:34,245 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 13:28:34,245 - services.translation_routes - INFO - [translation_routes.py:110] - 
==================================================
2025-01-15 13:28:34,245 - services.translation_routes - INFO - [translation_routes.py:111] - Input Audio Quality Report
2025-01-15 13:28:34,245 - services.translation_routes - INFO - [translation_routes.py:112] - ==================================================
2025-01-15 13:28:34,245 - services.translation_routes - INFO - [translation_routes.py:113] - Request ID: b15228d6
2025-01-15 13:28:34,245 - services.translation_routes - INFO - [translation_routes.py:114] - Target Language: fra
2025-01-15 13:28:34,245 - services.translation_routes - INFO - [translation_routes.py:115] - --------------------------------------------------
2025-01-15 13:28:34,245 - services.translation_routes - INFO - [translation_routes.py:116] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.800
- Avg Amplitude: 0.013
- Rms Level: 0.039
- Crest Factor: 20.262
- Zero Crossings: 127716.000
- Silence Percentage: 62.168
- Clipping Points: 0.000
- Dynamic Range: 3022615.000

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.070
  - Temporal Flatness: 0.020

- Volume Metrics:
  - Volume Stability: -0.728
  - Volume Range: 29148040.000
  - Volume Variations: 0.034

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.003898838626448
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 0.6381455659866333, 'stability': 1.6408194303512573, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.23516440391540527, 'consistency': 0.2896541953086853, 'distinction': 0.11255760490894318}
  - Description: Moderate nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.670
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.340
  - Rhythm Quality: 0.358
  - Intonation Quality: 0.322

Vowel Quality:
  - Quality Score: 0.005
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-15 13:28:34,245 - services.translation_routes - INFO - [translation_routes.py:117] - ==================================================

2025-01-15 13:28:34,245 - services.translation_routes - INFO - [translation_routes.py:128] - Request b15228d6: Audio processed successfully
2025-01-15 13:28:34,266 - services.translation_routes - INFO - [translation_routes.py:147] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-15 13:28:49,035 - services.translation_routes - INFO - [translation_routes.py:185] - Source text: the stale smell of old beer lingers it takes heat to bring out the odor a cold dip restores health and zest a salt pickle tastes fine with ham tacos al pastor are my favorite a zestful food is the hot cross bun
2025-01-15 13:29:05,431 - services.translation_routes - INFO - [translation_routes.py:204] - Target text: l'odeur de la vieille bière lingoure il faut de la chaleur pour faire ressortir l'odore une dip froide restaure la santé et le zest un pickle salé goûte bien avec le jambon tacos al pasteur sont mon favori une nourriture zestueuse est le hot cross bun
2025-01-15 13:29:25,985 - services.translation_routes - INFO - [translation_routes.py:227] - Processing tuple output from model
2025-01-15 13:29:25,998 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 13:29:25,998 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 13:29:26,006 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 13:29:26,006 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 13:29:26,013 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 13:29:26,013 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 13:29:26,020 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 13:29:26,020 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 13:29:26,331 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 13:29:26,331 - services.translation_routes - INFO - [translation_routes.py:251] - 
==================================================
2025-01-15 13:29:26,331 - services.translation_routes - INFO - [translation_routes.py:252] - Translated Audio Quality Report
2025-01-15 13:29:26,331 - services.translation_routes - INFO - [translation_routes.py:253] - ==================================================
2025-01-15 13:29:26,331 - services.translation_routes - INFO - [translation_routes.py:254] - Request ID: b15228d6
2025-01-15 13:29:26,331 - services.translation_routes - INFO - [translation_routes.py:255] - Target Language: fra
2025-01-15 13:29:26,331 - services.translation_routes - INFO - [translation_routes.py:256] - --------------------------------------------------
2025-01-15 13:29:26,331 - services.translation_routes - INFO - [translation_routes.py:257] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.752
- Avg Amplitude: 0.065
- Rms Level: 0.100
- Crest Factor: 7.524
- Zero Crossings: 27509.000
- Silence Percentage: 10.035
- Clipping Points: 0.000
- Dynamic Range: 169.283

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.059
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.027
  - Temporal Flatness: 0.015

- Volume Metrics:
  - Volume Stability: 0.327
  - Volume Range: 800.867
  - Volume Variations: 0.056

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.0265767532551013
- Background Noise: 4.009653731941482
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 1.042994737625122, 'stability': 3.729914665222168, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.07451587170362473, 'consistency': 0.0, 'distinction': 0.07096657156944275}
  - Description: Strong nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.523
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.000
  - Rhythm Quality: 0.000
  - Intonation Quality: 0.000

Vowel Quality:
  - Quality Score: 0.003
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-15 13:29:26,331 - services.translation_routes - INFO - [translation_routes.py:258] - ==================================================

2025-01-15 13:29:26,331 - services.translation_routes - INFO - [translation_routes.py:264] - Request b15228d6: Audio output processed successfully
2025-01-15 13:29:26,336 - services.translation_routes - INFO - [translation_routes.py:317] - Request b15228d6: Response prepared successfully
2025-01-15 13:29:26,336 - services.translation_routes - INFO - [translation_routes.py:328] - Request b15228d6 completed in 53.16s
2025-01-15 13:29:26,337 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 53.16s, Memory Change: 1771.22MB
2025-01-15 13:29:26,337 - __main__ - INFO - [app.py:277] - Request to /translate took 60.78s
2025-01-15 14:27:29,141 - __main__ - INFO - [app.py:216] - Received SIGINT signal
2025-01-15 14:27:29,143 - __main__ - INFO - [app.py:201] - Initiating graceful shutdown...
2025-01-15 14:27:34,146 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-15 14:27:34,147 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-15 14:27:34,147 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-15 14:27:34,149 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-15 14:27:34,150 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-15 14:27:34,150 - __main__ - INFO - [app.py:205] - Graceful shutdown completed
2025-01-15 14:27:34,151 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-15 14:27:34,152 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-15 14:27:34,152 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-15 14:27:34,153 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-15 14:27:34,153 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-15 14:27:34,154 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-15 14:27:34,155 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-15 14:27:34,155 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-15 14:27:34,155 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-15 14:27:34,156 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-15 14:27:34,306 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-15 14:27:34,306 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-15 14:27:41,291 - __main__ - INFO - [app.py:424] - Metrics server started on port 8000
2025-01-15 14:27:41,291 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-15 14:27:54,606 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-15 14:28:03,524 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-15 14:28:03,526 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-15 14:28:08,388 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-15 14:28:08,390 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-15 14:28:08,390 - __main__ - INFO - [app.py:448] - ==================================================
2025-01-15 14:28:08,390 - __main__ - INFO - [app.py:449] - Starting LinguaSync Backend
2025-01-15 14:28:08,390 - __main__ - INFO - [app.py:450] - Starting Flask app on port 5001 using cpu
2025-01-15 14:28:08,390 - __main__ - INFO - [app.py:451] - Python version: 3.12.6 (v3.12.6:a4a2d2b0d85, Sep  6 2024, 16:08:03) [Clang 13.0.0 (clang-1300.0.29.30)]
2025-01-15 14:28:08,390 - __main__ - INFO - [app.py:452] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-15 14:28:08,390 - __main__ - INFO - [app.py:453] - Maximum audio length: 300 seconds
2025-01-15 14:28:08,390 - __main__ - INFO - [app.py:454] - Sample rate: 16000 Hz
2025-01-15 14:28:08,390 - __main__ - INFO - [app.py:458] - System memory: 36.0GB total, 15.3GB available
2025-01-15 14:28:08,390 - __main__ - INFO - [app.py:459] - CPU cores: 11
2025-01-15 14:28:08,390 - __main__ - INFO - [app.py:467] - Configuration:
2025-01-15 14:28:08,390 - __main__ - INFO - [app.py:468] - - Debug mode: False
2025-01-15 14:28:08,390 - __main__ - INFO - [app.py:469] - - CORS enabled: True
2025-01-15 14:28:08,390 - __main__ - INFO - [app.py:470] - - Rate limiting: 10 requests per minute
2025-01-15 14:28:08,390 - __main__ - INFO - [app.py:471] - - Metrics enabled: True (port 8000)
2025-01-15 14:28:08,390 - __main__ - INFO - [app.py:473] - ==================================================
2025-01-15 14:30:17,162 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-15 14:30:17,163 - services.translation_routes - INFO - [translation_routes.py:29] - Starting translation request 2d770627
2025-01-15 14:30:17,163 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-15 14:30:17,163 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-15 14:30:17,165 - services.translation_routes - INFO - [translation_routes.py:86] - Request 2d770627: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmp613cxqz4.wav
2025-01-15 14:30:17,165 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 18.36 seconds
2025-01-15 14:30:17,166 - services.translation_routes - INFO - [translation_routes.py:99] - Request 2d770627: Beginning audio processing with diagnostics
2025-01-15 14:30:17,166 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmp613cxqz4.wav
2025-01-15 14:30:17,166 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 44100, Channels: 2
2025-01-15 14:30:17,174 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([2, 809508]), Frequency: 44100Hz
2025-01-15 14:30:17,174 - services.audio_processor - INFO - [audio_processor.py:219] - Resampling from 44100Hz to 16000Hz
2025-01-15 14:30:17,195 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-15 14:30:17,197 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for fra
2025-01-15 14:30:17,219 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-15 14:30:17,232 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 14:30:17,232 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 14:30:17,238 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 14:30:17,238 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 14:30:17,246 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 14:30:17,246 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 14:30:17,253 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 14:30:17,253 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 14:30:17,783 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 14:30:17,783 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-15 14:30:17,824 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 14:30:17,825 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 14:30:17,835 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 14:30:17,835 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 14:30:17,842 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 14:30:17,842 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 14:30:17,851 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 14:30:17,851 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 14:30:18,273 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 14:30:18,273 - services.translation_routes - INFO - [translation_routes.py:110] - 
==================================================
2025-01-15 14:30:18,273 - services.translation_routes - INFO - [translation_routes.py:111] - Input Audio Quality Report
2025-01-15 14:30:18,273 - services.translation_routes - INFO - [translation_routes.py:112] - ==================================================
2025-01-15 14:30:18,274 - services.translation_routes - INFO - [translation_routes.py:113] - Request ID: 2d770627
2025-01-15 14:30:18,274 - services.translation_routes - INFO - [translation_routes.py:114] - Target Language: fra
2025-01-15 14:30:18,274 - services.translation_routes - INFO - [translation_routes.py:115] - --------------------------------------------------
2025-01-15 14:30:18,274 - services.translation_routes - INFO - [translation_routes.py:116] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.800
- Avg Amplitude: 0.013
- Rms Level: 0.039
- Crest Factor: 20.262
- Zero Crossings: 127716.000
- Silence Percentage: 62.168
- Clipping Points: 0.000
- Dynamic Range: 3022615.000

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.070
  - Temporal Flatness: 0.020

- Volume Metrics:
  - Volume Stability: -0.728
  - Volume Range: 29148040.000
  - Volume Variations: 0.034

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.003898838626448
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 0.6381455659866333, 'stability': 1.6408194303512573, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.23516440391540527, 'consistency': 0.2896541953086853, 'distinction': 0.11255760490894318}
  - Description: Moderate nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.670
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.340
  - Rhythm Quality: 0.358
  - Intonation Quality: 0.322

Vowel Quality:
  - Quality Score: 0.005
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-15 14:30:18,274 - services.translation_routes - INFO - [translation_routes.py:117] - ==================================================

2025-01-15 14:30:18,274 - services.translation_routes - INFO - [translation_routes.py:128] - Request 2d770627: Audio processed successfully
2025-01-15 14:30:18,294 - services.translation_routes - INFO - [translation_routes.py:147] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-15 14:30:31,987 - services.translation_routes - INFO - [translation_routes.py:185] - Source text: the stale smell of old beer lingers it takes heat to bring out the odor a cold dip restores health and zest a salt pickle tastes fine with ham tacos al pastor are my favorite a zestful food is the hot cross bun
2025-01-15 14:30:47,140 - services.translation_routes - INFO - [translation_routes.py:204] - Target text: l'odeur de la vieille bière lingoure il faut de la chaleur pour faire ressortir l'odore une dip froide restaure la santé et le zest un pickle salé goûte bien avec le jambon tacos al pasteur sont mon favori une nourriture zestueuse est le hot cross bun
2025-01-15 14:31:06,963 - services.translation_routes - INFO - [translation_routes.py:227] - Processing tuple output from model
2025-01-15 14:31:06,976 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 14:31:06,977 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 14:31:06,982 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 14:31:06,982 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 14:31:06,989 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 14:31:06,989 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 14:31:06,994 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 14:31:06,994 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 14:31:07,302 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 14:31:07,302 - services.translation_routes - INFO - [translation_routes.py:251] - 
==================================================
2025-01-15 14:31:07,302 - services.translation_routes - INFO - [translation_routes.py:252] - Translated Audio Quality Report
2025-01-15 14:31:07,302 - services.translation_routes - INFO - [translation_routes.py:253] - ==================================================
2025-01-15 14:31:07,302 - services.translation_routes - INFO - [translation_routes.py:254] - Request ID: 2d770627
2025-01-15 14:31:07,302 - services.translation_routes - INFO - [translation_routes.py:255] - Target Language: fra
2025-01-15 14:31:07,302 - services.translation_routes - INFO - [translation_routes.py:256] - --------------------------------------------------
2025-01-15 14:31:07,302 - services.translation_routes - INFO - [translation_routes.py:257] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.766
- Avg Amplitude: 0.066
- Rms Level: 0.103
- Crest Factor: 7.441
- Zero Crossings: 26841.000
- Silence Percentage: 10.494
- Clipping Points: 0.000
- Dynamic Range: 185.441

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.070
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.028
  - Temporal Flatness: 0.016

- Volume Metrics:
  - Volume Stability: 0.320
  - Volume Range: 1053.268
  - Volume Variations: 0.058

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.0276524517662313
- Background Noise: 3.976464324886124
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
No issues detected

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 1.0830187797546387, 'stability': 3.7765774726867676, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.0, 'consistency': 0.0, 'distinction': 0.10012152045965195}
  - Description: Strong nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.516
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.000
  - Rhythm Quality: 0.000
  - Intonation Quality: 0.000

Vowel Quality:
  - Quality Score: 0.003
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-15 14:31:07,302 - services.translation_routes - INFO - [translation_routes.py:258] - ==================================================

2025-01-15 14:31:07,302 - services.translation_routes - INFO - [translation_routes.py:264] - Request 2d770627: Audio output processed successfully
2025-01-15 14:31:07,307 - services.translation_routes - INFO - [translation_routes.py:317] - Request 2d770627: Response prepared successfully
2025-01-15 14:31:07,307 - services.translation_routes - INFO - [translation_routes.py:328] - Request 2d770627 completed in 50.14s
2025-01-15 14:31:07,311 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 50.15s, Memory Change: 973.30MB
2025-01-15 14:31:07,312 - __main__ - INFO - [app.py:277] - Request to /translate took 54.36s
2025-01-15 19:05:46,771 - __main__ - INFO - [app.py:216] - Received SIGINT signal
2025-01-15 19:05:46,775 - __main__ - INFO - [app.py:201] - Initiating graceful shutdown...
2025-01-15 19:05:51,780 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-15 19:05:51,782 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-15 19:05:51,783 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-15 19:05:51,787 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-15 19:05:51,788 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-15 19:05:51,789 - __main__ - INFO - [app.py:205] - Graceful shutdown completed
2025-01-15 19:05:51,791 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-15 19:05:51,791 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-15 19:05:51,791 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-15 19:05:51,792 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-15 19:05:51,792 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-15 19:05:51,795 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-15 19:05:51,795 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-15 19:05:51,796 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-15 19:05:51,796 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-15 19:05:51,797 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-15 19:05:51,958 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-15 19:05:51,958 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-15 19:06:29,501 - __main__ - INFO - [app.py:424] - Metrics server started on port 8000
2025-01-15 19:06:29,502 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-15 19:06:43,797 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-15 19:07:02,242 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-15 19:07:02,244 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-15 19:07:10,722 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-15 19:07:10,725 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-15 19:07:10,725 - __main__ - INFO - [app.py:448] - ==================================================
2025-01-15 19:07:10,725 - __main__ - INFO - [app.py:449] - Starting LinguaSync Backend
2025-01-15 19:07:10,725 - __main__ - INFO - [app.py:450] - Starting Flask app on port 5001 using cpu
2025-01-15 19:07:10,725 - __main__ - INFO - [app.py:451] - Python version: 3.12.6 (v3.12.6:a4a2d2b0d85, Sep  6 2024, 16:08:03) [Clang 13.0.0 (clang-1300.0.29.30)]
2025-01-15 19:07:10,726 - __main__ - INFO - [app.py:452] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-15 19:07:10,726 - __main__ - INFO - [app.py:453] - Maximum audio length: 300 seconds
2025-01-15 19:07:10,726 - __main__ - INFO - [app.py:454] - Sample rate: 16000 Hz
2025-01-15 19:07:10,726 - __main__ - INFO - [app.py:458] - System memory: 36.0GB total, 6.7GB available
2025-01-15 19:07:10,726 - __main__ - INFO - [app.py:459] - CPU cores: 11
2025-01-15 19:07:10,726 - __main__ - INFO - [app.py:467] - Configuration:
2025-01-15 19:07:10,726 - __main__ - INFO - [app.py:468] - - Debug mode: False
2025-01-15 19:07:10,726 - __main__ - INFO - [app.py:469] - - CORS enabled: True
2025-01-15 19:07:10,726 - __main__ - INFO - [app.py:470] - - Rate limiting: 10 requests per minute
2025-01-15 19:07:10,726 - __main__ - INFO - [app.py:471] - - Metrics enabled: True (port 8000)
2025-01-15 19:07:10,726 - __main__ - INFO - [app.py:473] - ==================================================
2025-01-15 19:09:12,617 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-15 19:09:12,622 - services.translation_routes - INFO - [translation_routes.py:29] - Starting translation request 5b92376a
2025-01-15 19:09:12,622 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-15 19:09:12,622 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-15 19:09:12,624 - services.translation_routes - INFO - [translation_routes.py:86] - Request 5b92376a: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpybufmcys.wav
2025-01-15 19:09:12,629 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 18.36 seconds
2025-01-15 19:09:12,629 - services.translation_routes - INFO - [translation_routes.py:99] - Request 5b92376a: Beginning audio processing with diagnostics
2025-01-15 19:09:12,629 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpybufmcys.wav
2025-01-15 19:09:12,629 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 44100, Channels: 2
2025-01-15 19:09:12,638 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([2, 809508]), Frequency: 44100Hz
2025-01-15 19:09:12,639 - services.audio_processor - INFO - [audio_processor.py:219] - Resampling from 44100Hz to 16000Hz
2025-01-15 19:09:12,667 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-15 19:09:12,669 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for fra
2025-01-15 19:09:12,692 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-15 19:09:12,708 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 19:09:12,709 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 19:09:12,717 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 19:09:12,717 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 19:09:12,724 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 19:09:12,724 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 19:09:12,731 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 19:09:12,731 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 19:09:13,181 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 19:09:13,183 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-15 19:09:13,221 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 19:09:13,222 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 19:09:13,228 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 19:09:13,229 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 19:09:13,236 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 19:09:13,236 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 19:09:13,244 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 19:09:13,245 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 19:09:13,679 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 19:09:13,679 - services.translation_routes - INFO - [translation_routes.py:110] - 
==================================================
2025-01-15 19:09:13,679 - services.translation_routes - INFO - [translation_routes.py:111] - Input Audio Quality Report
2025-01-15 19:09:13,679 - services.translation_routes - INFO - [translation_routes.py:112] - ==================================================
2025-01-15 19:09:13,679 - services.translation_routes - INFO - [translation_routes.py:113] - Request ID: 5b92376a
2025-01-15 19:09:13,679 - services.translation_routes - INFO - [translation_routes.py:114] - Target Language: fra
2025-01-15 19:09:13,679 - services.translation_routes - INFO - [translation_routes.py:115] - --------------------------------------------------
2025-01-15 19:09:13,679 - services.translation_routes - INFO - [translation_routes.py:116] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.800
- Avg Amplitude: 0.013
- Rms Level: 0.039
- Crest Factor: 20.262
- Zero Crossings: 127716.000
- Silence Percentage: 62.168
- Clipping Points: 0.000
- Dynamic Range: 3022615.000

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.070
  - Temporal Flatness: 0.020

- Volume Metrics:
  - Volume Stability: -0.728
  - Volume Range: 29148040.000
  - Volume Variations: 0.034

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.003898838626448
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 0.6381455659866333, 'stability': 1.6408194303512573, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.23516440391540527, 'consistency': 0.2896541953086853, 'distinction': 0.11255760490894318}
  - Description: Moderate nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.670
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.340
  - Rhythm Quality: 0.358
  - Intonation Quality: 0.322

Vowel Quality:
  - Quality Score: 0.005
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-15 19:09:13,679 - services.translation_routes - INFO - [translation_routes.py:117] - ==================================================

2025-01-15 19:09:13,680 - services.translation_routes - INFO - [translation_routes.py:128] - Request 5b92376a: Audio processed successfully
2025-01-15 19:09:13,703 - services.translation_routes - INFO - [translation_routes.py:147] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-15 19:09:28,777 - services.translation_routes - INFO - [translation_routes.py:185] - Source text: the stale smell of old beer lingers it takes heat to bring out the odor a cold dip restores health and zest a salt pickle tastes fine with ham tacos al pastor are my favorite a zestful food is the hot cross bun
2025-01-15 19:09:45,038 - services.translation_routes - INFO - [translation_routes.py:204] - Target text: l'odeur de la vieille bière lingoure il faut de la chaleur pour faire ressortir l'odore une dip froide restaure la santé et le zest un pickle salé goûte bien avec le jambon tacos al pasteur sont mon favori une nourriture zestueuse est le hot cross bun
2025-01-15 19:10:05,982 - services.translation_routes - INFO - [translation_routes.py:227] - Processing tuple output from model
2025-01-15 19:10:05,996 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 19:10:05,996 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 19:10:06,003 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 19:10:06,003 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 19:10:06,010 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 19:10:06,010 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 19:10:06,017 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-15 19:10:06,017 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-15 19:10:06,338 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-15 19:10:06,338 - services.translation_routes - INFO - [translation_routes.py:251] - 
==================================================
2025-01-15 19:10:06,338 - services.translation_routes - INFO - [translation_routes.py:252] - Translated Audio Quality Report
2025-01-15 19:10:06,338 - services.translation_routes - INFO - [translation_routes.py:253] - ==================================================
2025-01-15 19:10:06,338 - services.translation_routes - INFO - [translation_routes.py:254] - Request ID: 5b92376a
2025-01-15 19:10:06,338 - services.translation_routes - INFO - [translation_routes.py:255] - Target Language: fra
2025-01-15 19:10:06,338 - services.translation_routes - INFO - [translation_routes.py:256] - --------------------------------------------------
2025-01-15 19:10:06,338 - services.translation_routes - INFO - [translation_routes.py:257] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.757
- Avg Amplitude: 0.066
- Rms Level: 0.101
- Crest Factor: 7.533
- Zero Crossings: 26392.000
- Silence Percentage: 9.249
- Clipping Points: 0.000
- Dynamic Range: 154.010

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.058
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.027
  - Temporal Flatness: 0.016

- Volume Metrics:
  - Volume Stability: 0.356
  - Volume Range: 1352.907
  - Volume Variations: 0.054

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.02669067430969
- Background Noise: 4.013112813880249
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
No issues detected

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 1.0560309886932373, 'stability': 3.719334840774536, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.011901987716555595, 'consistency': 0.0, 'distinction': 0.056998226791620255}
  - Description: Strong nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.554
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.000
  - Rhythm Quality: 0.000
  - Intonation Quality: 0.000

Vowel Quality:
  - Quality Score: 0.003
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-15 19:10:06,338 - services.translation_routes - INFO - [translation_routes.py:258] - ==================================================

2025-01-15 19:10:06,338 - services.translation_routes - INFO - [translation_routes.py:264] - Request 5b92376a: Audio output processed successfully
2025-01-15 19:10:06,342 - services.translation_routes - INFO - [translation_routes.py:317] - Request 5b92376a: Response prepared successfully
2025-01-15 19:10:06,342 - services.translation_routes - INFO - [translation_routes.py:328] - Request 5b92376a completed in 53.72s
2025-01-15 19:10:06,344 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 53.72s, Memory Change: 1491.83MB
2025-01-15 19:10:06,344 - __main__ - INFO - [app.py:277] - Request to /translate took 64.73s
2025-01-17 21:07:40,654 - services.model_manager - INFO - [model_manager.py:188] - Model inactive for too long, reloading...
2025-01-17 21:07:40,662 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-17 21:07:57,384 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-17 21:08:21,141 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-17 21:08:21,143 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-17 21:08:27,149 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-17 21:08:27,153 - services.translation_routes - INFO - [translation_routes.py:29] - Starting translation request 766fc9b4
2025-01-17 21:08:27,154 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-17 21:08:27,154 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-17 21:08:27,158 - services.translation_routes - INFO - [translation_routes.py:86] - Request 766fc9b4: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpm_mb_ao3.wav
2025-01-17 21:08:27,164 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 18.36 seconds
2025-01-17 21:08:27,164 - services.translation_routes - INFO - [translation_routes.py:99] - Request 766fc9b4: Beginning audio processing with diagnostics
2025-01-17 21:08:27,164 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpm_mb_ao3.wav
2025-01-17 21:08:27,164 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 44100, Channels: 2
2025-01-17 21:08:27,176 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([2, 809508]), Frequency: 44100Hz
2025-01-17 21:08:27,176 - services.audio_processor - INFO - [audio_processor.py:219] - Resampling from 44100Hz to 16000Hz
2025-01-17 21:08:27,219 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-17 21:08:27,223 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for fra
2025-01-17 21:08:27,248 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-17 21:08:27,299 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-17 21:08:27,303 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-17 21:08:27,310 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-17 21:08:27,310 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-17 21:08:27,316 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-17 21:08:27,316 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-17 21:08:27,324 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-17 21:08:27,324 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-17 21:08:27,779 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-17 21:08:27,779 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-17 21:08:27,816 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-17 21:08:27,817 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-17 21:08:27,824 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-17 21:08:27,824 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-17 21:08:27,836 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-17 21:08:27,836 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-17 21:08:27,849 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-17 21:08:27,849 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-17 21:08:28,283 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-17 21:08:28,283 - services.translation_routes - INFO - [translation_routes.py:110] - 
==================================================
2025-01-17 21:08:28,283 - services.translation_routes - INFO - [translation_routes.py:111] - Input Audio Quality Report
2025-01-17 21:08:28,283 - services.translation_routes - INFO - [translation_routes.py:112] - ==================================================
2025-01-17 21:08:28,283 - services.translation_routes - INFO - [translation_routes.py:113] - Request ID: 766fc9b4
2025-01-17 21:08:28,284 - services.translation_routes - INFO - [translation_routes.py:114] - Target Language: fra
2025-01-17 21:08:28,284 - services.translation_routes - INFO - [translation_routes.py:115] - --------------------------------------------------
2025-01-17 21:08:28,284 - services.translation_routes - INFO - [translation_routes.py:116] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.800
- Avg Amplitude: 0.013
- Rms Level: 0.039
- Crest Factor: 20.262
- Zero Crossings: 127716.000
- Silence Percentage: 62.168
- Clipping Points: 0.000
- Dynamic Range: 3022615.000

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.070
  - Temporal Flatness: 0.020

- Volume Metrics:
  - Volume Stability: -0.728
  - Volume Range: 29148040.000
  - Volume Variations: 0.034

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.003898838626448
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 0.6381455659866333, 'stability': 1.6408194303512573, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.23516440391540527, 'consistency': 0.2896541953086853, 'distinction': 0.11255760490894318}
  - Description: Moderate nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.670
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.340
  - Rhythm Quality: 0.358
  - Intonation Quality: 0.322

Vowel Quality:
  - Quality Score: 0.005
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-17 21:08:28,284 - services.translation_routes - INFO - [translation_routes.py:117] - ==================================================

2025-01-17 21:08:28,284 - services.translation_routes - INFO - [translation_routes.py:128] - Request 766fc9b4: Audio processed successfully
2025-01-17 21:08:28,305 - services.translation_routes - INFO - [translation_routes.py:147] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-17 21:08:46,478 - services.translation_routes - INFO - [translation_routes.py:185] - Source text: the stale smell of old beer lingers it takes heat to bring out the odor a cold dip restores health and zest a salt pickle tastes fine with ham tacos al pastor are my favorite a zestful food is the hot cross bun
2025-01-17 21:09:06,452 - services.translation_routes - INFO - [translation_routes.py:204] - Target text: l'odeur de la vieille bière lingoure il faut de la chaleur pour faire ressortir l'odore une dip froide restaure la santé et le zest un pickle salé goûte bien avec le jambon tacos al pasteur sont mon favori une nourriture zestueuse est le hot cross bun
2025-01-17 21:09:31,175 - services.translation_routes - INFO - [translation_routes.py:227] - Processing tuple output from model
2025-01-17 21:09:31,191 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-17 21:09:31,192 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-17 21:09:31,197 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-17 21:09:31,197 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-17 21:09:31,204 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-17 21:09:31,204 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-17 21:09:31,209 - services.diagnostics.spectral_analysis - WARNING - [spectral_analysis.py:361] - ascii_graph not installed. Install with: pip install ascii_graph
2025-01-17 21:09:31,209 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-17 21:09:31,531 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-17 21:09:31,532 - services.translation_routes - INFO - [translation_routes.py:251] - 
==================================================
2025-01-17 21:09:31,532 - services.translation_routes - INFO - [translation_routes.py:252] - Translated Audio Quality Report
2025-01-17 21:09:31,532 - services.translation_routes - INFO - [translation_routes.py:253] - ==================================================
2025-01-17 21:09:31,532 - services.translation_routes - INFO - [translation_routes.py:254] - Request ID: 766fc9b4
2025-01-17 21:09:31,532 - services.translation_routes - INFO - [translation_routes.py:255] - Target Language: fra
2025-01-17 21:09:31,532 - services.translation_routes - INFO - [translation_routes.py:256] - --------------------------------------------------
2025-01-17 21:09:31,532 - services.translation_routes - INFO - [translation_routes.py:257] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.681
- Avg Amplitude: 0.065
- Rms Level: 0.100
- Crest Factor: 6.845
- Zero Crossings: 27542.000
- Silence Percentage: 9.761
- Clipping Points: 0.000
- Dynamic Range: 161.741

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.144
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.027
  - Temporal Flatness: 0.015

- Volume Metrics:
  - Volume Stability: 0.358
  - Volume Range: 674.685
  - Volume Variations: 0.054

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.0290801988723586
- Background Noise: 3.7380053769565347
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 1.0121961832046509, 'stability': 3.7616119384765625, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.0, 'consistency': 0.0, 'distinction': 0.06779065728187561}
  - Description: Strong nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.522
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.000
  - Rhythm Quality: 0.000
  - Intonation Quality: 0.000

Vowel Quality:
  - Quality Score: 0.003
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-17 21:09:31,532 - services.translation_routes - INFO - [translation_routes.py:258] - ==================================================

2025-01-17 21:09:31,532 - services.translation_routes - INFO - [translation_routes.py:264] - Request 766fc9b4: Audio output processed successfully
2025-01-17 21:09:31,538 - services.translation_routes - INFO - [translation_routes.py:317] - Request 766fc9b4: Response prepared successfully
2025-01-17 21:09:31,538 - services.translation_routes - INFO - [translation_routes.py:328] - Request 766fc9b4 completed in 64.39s
2025-01-17 21:09:31,539 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 64.39s, Memory Change: 9152.03MB
2025-01-17 21:09:31,540 - __main__ - INFO - [app.py:277] - Request to /translate took 110.89s
2025-01-17 22:06:40,230 - __main__ - INFO - [app.py:424] - Metrics server started on port 8000
2025-01-17 22:06:40,230 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-17 22:06:53,791 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-17 22:07:08,199 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-17 22:07:08,200 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-17 22:07:12,339 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-17 22:07:12,341 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-17 22:07:12,341 - __main__ - INFO - [app.py:448] - ==================================================
2025-01-17 22:07:12,341 - __main__ - INFO - [app.py:449] - Starting LinguaSync Backend
2025-01-17 22:07:12,341 - __main__ - INFO - [app.py:450] - Starting Flask app on port 5001 using cpu
2025-01-17 22:07:12,341 - __main__ - INFO - [app.py:451] - Python version: 3.12.4 | packaged by Anaconda, Inc. | (main, Jun 18 2024, 10:07:17) [Clang 14.0.6 ]
2025-01-17 22:07:12,341 - __main__ - INFO - [app.py:452] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-17 22:07:12,341 - __main__ - INFO - [app.py:453] - Maximum audio length: 300 seconds
2025-01-17 22:07:12,341 - __main__ - INFO - [app.py:454] - Sample rate: 16000 Hz
2025-01-17 22:07:12,341 - __main__ - INFO - [app.py:458] - System memory: 36.0GB total, 18.2GB available
2025-01-17 22:07:12,341 - __main__ - INFO - [app.py:459] - CPU cores: 11
2025-01-17 22:07:12,341 - __main__ - INFO - [app.py:467] - Configuration:
2025-01-17 22:07:12,341 - __main__ - INFO - [app.py:468] - - Debug mode: False
2025-01-17 22:07:12,341 - __main__ - INFO - [app.py:469] - - CORS enabled: True
2025-01-17 22:07:12,341 - __main__ - INFO - [app.py:470] - - Rate limiting: 10 requests per minute
2025-01-17 22:07:12,341 - __main__ - INFO - [app.py:471] - - Metrics enabled: True (port 8000)
2025-01-17 22:07:12,341 - __main__ - INFO - [app.py:473] - ==================================================
2025-01-17 23:28:51,800 - services.model_manager - INFO - [model_manager.py:188] - Model inactive for too long, reloading...
2025-01-17 23:28:51,801 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-17 23:29:05,550 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-17 23:29:14,394 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-17 23:29:14,396 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-17 23:29:21,868 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-17 23:29:21,871 - services.translation_routes - INFO - [translation_routes.py:29] - Starting translation request 446ed522
2025-01-17 23:29:21,871 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-17 23:29:21,871 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-17 23:29:21,872 - services.translation_routes - INFO - [translation_routes.py:86] - Request 446ed522: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmp93485eh8.wav
2025-01-17 23:29:21,872 - services.audio_processor - ERROR - [audio_processor.py:144] - Error validating audio: Error opening '/var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmp93485eh8.wav': Format not recognised.
2025-01-17 23:29:21,873 - services.translation_routes - ERROR - [translation_routes.py:94] - Request 446ed522: Audio validation failed - Error validating audio: Error opening '/var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmp93485eh8.wav': Format not recognised.
2025-01-17 23:29:21,873 - services.translation_routes - INFO - [translation_routes.py:328] - Request 446ed522 completed in 0.00s
2025-01-17 23:29:21,873 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 0.00s, Memory Change: 0.39MB
2025-01-17 23:29:21,873 - __main__ - INFO - [app.py:277] - Request to /translate took 30.07s
2025-01-17 23:31:35,509 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-17 23:31:35,511 - services.translation_routes - INFO - [translation_routes.py:29] - Starting translation request be558f42
2025-01-17 23:31:35,511 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-17 23:31:35,511 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-17 23:31:35,511 - services.translation_routes - INFO - [translation_routes.py:86] - Request be558f42: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpcxmms_2f.wav
2025-01-17 23:31:35,511 - services.audio_processor - ERROR - [audio_processor.py:144] - Error validating audio: Error opening '/var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpcxmms_2f.wav': Format not recognised.
2025-01-17 23:31:35,511 - services.translation_routes - ERROR - [translation_routes.py:94] - Request be558f42: Audio validation failed - Error validating audio: Error opening '/var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpcxmms_2f.wav': Format not recognised.
2025-01-17 23:31:35,512 - services.translation_routes - INFO - [translation_routes.py:328] - Request be558f42 completed in 0.00s
2025-01-17 23:31:35,512 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 0.00s, Memory Change: 0.03MB
2025-01-17 23:31:35,512 - __main__ - INFO - [app.py:277] - Request to /translate took 5.89s
2025-01-17 23:37:14,923 - __main__ - INFO - [app.py:216] - Received SIGINT signal
2025-01-17 23:37:14,924 - __main__ - INFO - [app.py:201] - Initiating graceful shutdown...
2025-01-17 23:37:19,925 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-17 23:37:19,926 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-17 23:37:19,926 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-17 23:37:19,927 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-17 23:37:19,928 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-17 23:37:19,928 - __main__ - INFO - [app.py:205] - Graceful shutdown completed
2025-01-17 23:37:19,929 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-17 23:37:19,929 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-17 23:37:19,929 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-17 23:37:19,930 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-17 23:37:19,930 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-17 23:37:19,931 - __main__ - INFO - [app.py:393] - Application shutting down...
2025-01-17 23:37:19,931 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-17 23:37:19,931 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-17 23:37:19,932 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-17 23:37:19,932 - __main__ - INFO - [app.py:407] - Cleanup completed successfully
2025-01-17 23:37:42,718 - __main__ - INFO - [app.py:424] - Metrics server started on port 8000
2025-01-17 23:37:42,718 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-17 23:37:57,273 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-17 23:38:03,875 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-17 23:38:03,876 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-17 23:38:08,884 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-17 23:38:08,887 - __main__ - INFO - [app.py:375] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-17 23:38:08,887 - __main__ - INFO - [app.py:448] - ==================================================
2025-01-17 23:38:08,887 - __main__ - INFO - [app.py:449] - Starting LinguaSync Backend
2025-01-17 23:38:08,887 - __main__ - INFO - [app.py:450] - Starting Flask app on port 5001 using cpu
2025-01-17 23:38:08,887 - __main__ - INFO - [app.py:451] - Python version: 3.12.4 | packaged by Anaconda, Inc. | (main, Jun 18 2024, 10:07:17) [Clang 14.0.6 ]
2025-01-17 23:38:08,887 - __main__ - INFO - [app.py:452] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-17 23:38:08,887 - __main__ - INFO - [app.py:453] - Maximum audio length: 300 seconds
2025-01-17 23:38:08,887 - __main__ - INFO - [app.py:454] - Sample rate: 16000 Hz
2025-01-17 23:38:08,887 - __main__ - INFO - [app.py:458] - System memory: 36.0GB total, 15.3GB available
2025-01-17 23:38:08,887 - __main__ - INFO - [app.py:459] - CPU cores: 11
2025-01-17 23:38:08,887 - __main__ - INFO - [app.py:467] - Configuration:
2025-01-17 23:38:08,887 - __main__ - INFO - [app.py:468] - - Debug mode: False
2025-01-17 23:38:08,887 - __main__ - INFO - [app.py:469] - - CORS enabled: True
2025-01-17 23:38:08,887 - __main__ - INFO - [app.py:470] - - Rate limiting: 10 requests per minute
2025-01-17 23:38:08,887 - __main__ - INFO - [app.py:471] - - Metrics enabled: True (port 8000)
2025-01-17 23:38:08,887 - __main__ - INFO - [app.py:473] - ==================================================
2025-01-18 00:01:06,275 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-18 00:01:06,278 - services.translation_routes - INFO - [translation_routes.py:29] - Starting translation request 29fa4852
2025-01-18 00:01:06,278 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-18 00:01:06,278 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-18 00:01:06,279 - services.translation_routes - INFO - [translation_routes.py:86] - Request 29fa4852: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmp98t47yh_.wav
2025-01-18 00:01:06,279 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 17.82 seconds
2025-01-18 00:01:06,279 - services.translation_routes - INFO - [translation_routes.py:99] - Request 29fa4852: Beginning audio processing with diagnostics
2025-01-18 00:01:06,279 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmp98t47yh_.wav
2025-01-18 00:01:06,279 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 16000, Channels: 1
2025-01-18 00:01:06,280 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([1, 285120]), Frequency: 16000Hz
2025-01-18 00:01:06,294 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-18 00:01:06,296 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for fra
2025-01-18 00:01:06,317 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-18 00:01:06,339 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-18 00:01:06,340 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-18 00:01:06,347 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-18 00:01:06,347 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-18 00:01:06,355 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-18 00:01:06,355 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-18 00:01:06,363 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-18 00:01:06,363 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-18 00:01:06,553 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-18 00:01:06,553 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-18 00:01:06,592 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-18 00:01:06,592 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-18 00:01:06,601 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-18 00:01:06,602 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-18 00:01:06,608 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-18 00:01:06,609 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-18 00:01:06,617 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-18 00:01:06,617 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-18 00:01:06,786 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-18 00:01:06,786 - services.translation_routes - INFO - [translation_routes.py:110] - 
==================================================
2025-01-18 00:01:06,786 - services.translation_routes - INFO - [translation_routes.py:111] - Input Audio Quality Report
2025-01-18 00:01:06,786 - services.translation_routes - INFO - [translation_routes.py:112] - ==================================================
2025-01-18 00:01:06,787 - services.translation_routes - INFO - [translation_routes.py:113] - Request ID: 29fa4852
2025-01-18 00:01:06,787 - services.translation_routes - INFO - [translation_routes.py:114] - Target Language: fra
2025-01-18 00:01:06,787 - services.translation_routes - INFO - [translation_routes.py:115] - --------------------------------------------------
2025-01-18 00:01:06,787 - services.translation_routes - INFO - [translation_routes.py:116] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.822
- Avg Amplitude: 0.008
- Rms Level: 0.042
- Crest Factor: 19.634
- Zero Crossings: 34956.000
- Silence Percentage: 88.453
- Clipping Points: 0.000
- Dynamic Range: 652475.157

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.072
  - Temporal Flatness: 0.014

- Volume Metrics:
  - Volume Stability: -2.535
  - Volume Range: 24283739.924
  - Volume Variations: 0.040

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.004265547511332
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 1.177080512046814, 'stability': 2.912121534347534, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.4504966735839844, 'consistency': 0.2064235806465149, 'distinction': 1.0}
  - Description: Strong nasal resonance. Unstable nasal resonance. Clear distinction between nasal and oral vowels

Liaison:
  - Detected: True
  - Confidence: 0.707
  - Description: Clear liaison patterns detected

Prosody:
  - Score: 0.179
  - Rhythm Quality: 0.223
  - Intonation Quality: 0.135

Vowel Quality:
  - Quality Score: 0.007
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-18 00:01:06,787 - services.translation_routes - INFO - [translation_routes.py:117] - ==================================================

2025-01-18 00:01:06,787 - services.translation_routes - INFO - [translation_routes.py:128] - Request 29fa4852: Audio processed successfully
2025-01-18 00:01:06,805 - services.translation_routes - INFO - [translation_routes.py:147] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-18 00:01:13,212 - services.translation_routes - INFO - [translation_routes.py:185] - Source text: Okay, let's try this. Let's see if this works.
2025-01-18 00:01:18,495 - services.translation_routes - INFO - [translation_routes.py:204] - Target text: Ok, essayons ça, voyons si ça fonctionne.
2025-01-18 00:01:26,807 - services.translation_routes - INFO - [translation_routes.py:227] - Processing tuple output from model
2025-01-18 00:01:26,812 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-18 00:01:26,812 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-18 00:01:26,815 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-18 00:01:26,815 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-18 00:01:26,817 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-18 00:01:26,817 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-18 00:01:26,820 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-18 00:01:26,820 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-18 00:01:26,878 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-18 00:01:26,878 - services.translation_routes - INFO - [translation_routes.py:251] - 
==================================================
2025-01-18 00:01:26,878 - services.translation_routes - INFO - [translation_routes.py:252] - Translated Audio Quality Report
2025-01-18 00:01:26,878 - services.translation_routes - INFO - [translation_routes.py:253] - ==================================================
2025-01-18 00:01:26,878 - services.translation_routes - INFO - [translation_routes.py:254] - Request ID: 29fa4852
2025-01-18 00:01:26,878 - services.translation_routes - INFO - [translation_routes.py:255] - Target Language: fra
2025-01-18 00:01:26,878 - services.translation_routes - INFO - [translation_routes.py:256] - --------------------------------------------------
2025-01-18 00:01:26,878 - services.translation_routes - INFO - [translation_routes.py:257] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.727
- Avg Amplitude: 0.056
- Rms Level: 0.098
- Crest Factor: 7.416
- Zero Crossings: 6685.000
- Silence Percentage: 16.726
- Clipping Points: 0.000
- Dynamic Range: 417.611

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.073
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.032
  - Temporal Flatness: 0.018

- Volume Metrics:
  - Volume Stability: 0.266
  - Volume Range: 843.838
  - Volume Variations: 0.059

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.026420785919579
- Background Noise: 3.966580218654595
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 0.6438602805137634, 'stability': 2.18398380279541, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.6906270384788513, 'consistency': 0.0, 'distinction': 1.0}
  - Description: Moderate nasal resonance. Unstable nasal resonance. Clear distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.531
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.030
  - Rhythm Quality: 0.000
  - Intonation Quality: 1.000

Vowel Quality:
  - Quality Score: 0.010
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-18 00:01:26,878 - services.translation_routes - INFO - [translation_routes.py:258] - ==================================================

2025-01-18 00:01:26,878 - services.translation_routes - INFO - [translation_routes.py:264] - Request 29fa4852: Audio output processed successfully
2025-01-18 00:01:26,880 - services.translation_routes - INFO - [translation_routes.py:317] - Request 29fa4852: Response prepared successfully
2025-01-18 00:01:26,880 - services.translation_routes - INFO - [translation_routes.py:328] - Request 29fa4852 completed in 20.60s
2025-01-18 00:01:26,881 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 20.60s, Memory Change: 921.38MB
2025-01-18 00:01:26,881 - __main__ - INFO - [app.py:277] - Request to /translate took 25.97s
2025-01-18 01:03:39,296 - __main__ - INFO - [app.py:277] - Request to /process-audio-url took 0.00s
2025-01-18 01:03:58,468 - __main__ - INFO - [app.py:277] - Request to /process-audio-url took 0.00s
2025-01-18 01:08:54,509 - __main__ - INFO - [app.py:277] - Request to /process-audio-url took 0.00s
2025-01-18 01:12:42,523 - __main__ - INFO - [app.py:277] - Request to /process-audio-url took 0.00s
2025-01-18 01:12:54,905 - __main__ - INFO - [app.py:277] - Request to /process-audio-url took 0.00s
2025-01-18 01:12:55,454 - __main__ - INFO - [app.py:277] - Request to /favicon.ico took 0.00s
2025-01-18 07:41:36,409 - __main__ - INFO - [app.py:469] - Metrics server started on port 8000
2025-01-18 07:41:36,409 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-18 07:41:49,570 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-18 07:42:06,460 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-18 07:42:06,461 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-18 07:42:13,985 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-18 07:42:13,987 - __main__ - INFO - [app.py:420] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-18 07:42:13,987 - __main__ - INFO - [app.py:493] - ==================================================
2025-01-18 07:42:13,987 - __main__ - INFO - [app.py:494] - Starting LinguaSync Backend
2025-01-18 07:42:13,987 - __main__ - INFO - [app.py:495] - Starting Flask app on port 5001 using cpu
2025-01-18 07:42:13,987 - __main__ - INFO - [app.py:496] - Python version: 3.12.4 | packaged by Anaconda, Inc. | (main, Jun 18 2024, 10:07:17) [Clang 14.0.6 ]
2025-01-18 07:42:13,987 - __main__ - INFO - [app.py:497] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-18 07:42:13,987 - __main__ - INFO - [app.py:498] - Maximum audio length: 300 seconds
2025-01-18 07:42:13,987 - __main__ - INFO - [app.py:499] - Sample rate: 16000 Hz
2025-01-18 07:42:13,987 - __main__ - INFO - [app.py:503] - System memory: 36.0GB total, 16.5GB available
2025-01-18 07:42:13,987 - __main__ - INFO - [app.py:504] - CPU cores: 11
2025-01-18 07:42:13,987 - __main__ - INFO - [app.py:512] - Configuration:
2025-01-18 07:42:13,987 - __main__ - INFO - [app.py:513] - - Debug mode: False
2025-01-18 07:42:13,987 - __main__ - INFO - [app.py:514] - - CORS enabled: True
2025-01-18 07:42:13,987 - __main__ - INFO - [app.py:515] - - Rate limiting: 10 requests per minute
2025-01-18 07:42:13,987 - __main__ - INFO - [app.py:516] - - Metrics enabled: True (port 8000)
2025-01-18 07:42:13,987 - __main__ - INFO - [app.py:518] - ==================================================
2025-01-18 08:00:00,391 - __main__ - INFO - [app.py:278] - Request to /process-audio-url took 0.00s
2025-01-18 08:00:04,664 - services.audio_link_routes - ERROR - [audio_link_routes.py:59] - YouTube processing error: Failed to download audio
2025-01-18 08:00:04,664 - services.audio_link_routes - ERROR - [audio_link_routes.py:118] - URL processing error: Failed to download audio
2025-01-18 08:00:04,665 - services.utils - INFO - [utils.py:57] - Performance - Function: process_audio_url, Duration: 4.27s, Memory Change: 57.62MB
2025-01-18 08:00:04,665 - __main__ - INFO - [app.py:278] - Request to /process-audio-url took 4.27s
2025-01-18 08:05:27,151 - __main__ - INFO - [app.py:278] - Request to /process-audio-url took 0.00s
2025-01-18 08:05:29,091 - services.audio_link_routes - ERROR - [audio_link_routes.py:59] - YouTube processing error: Failed to download audio
2025-01-18 08:05:29,091 - services.audio_link_routes - ERROR - [audio_link_routes.py:118] - URL processing error: Failed to download audio
2025-01-18 08:05:29,092 - services.utils - INFO - [utils.py:57] - Performance - Function: process_audio_url, Duration: 1.94s, Memory Change: 10.88MB
2025-01-18 08:05:29,092 - __main__ - INFO - [app.py:278] - Request to /process-audio-url took 1.94s
2025-01-18 08:05:47,650 - __main__ - INFO - [app.py:217] - Received SIGINT signal
2025-01-18 08:05:47,652 - __main__ - INFO - [app.py:202] - Initiating graceful shutdown...
2025-01-18 08:05:52,653 - __main__ - INFO - [app.py:438] - Application shutting down...
2025-01-18 08:05:52,654 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-18 08:05:52,655 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-18 08:05:52,656 - __main__ - INFO - [app.py:420] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-18 08:05:52,659 - __main__ - INFO - [app.py:452] - Cleanup completed successfully
2025-01-18 08:05:52,659 - __main__ - INFO - [app.py:206] - Graceful shutdown completed
2025-01-18 08:05:52,661 - __main__ - INFO - [app.py:438] - Application shutting down...
2025-01-18 08:05:52,662 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-18 08:05:52,662 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-18 08:05:52,663 - __main__ - INFO - [app.py:420] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-18 08:05:52,664 - __main__ - INFO - [app.py:452] - Cleanup completed successfully
2025-01-18 08:05:52,664 - __main__ - INFO - [app.py:438] - Application shutting down...
2025-01-18 08:05:52,665 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-18 08:05:52,665 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-18 08:05:52,665 - __main__ - INFO - [app.py:420] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-18 08:05:52,665 - __main__ - INFO - [app.py:452] - Cleanup completed successfully
2025-01-18 08:11:59,253 - __main__ - INFO - [app.py:467] - Metrics server started on port 8000
2025-01-18 08:11:59,253 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-18 08:12:12,736 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-18 08:12:20,953 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-18 08:12:20,955 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-18 08:12:25,793 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-18 08:12:25,795 - __main__ - INFO - [app.py:418] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-18 08:12:25,795 - __main__ - INFO - [app.py:491] - ==================================================
2025-01-18 08:12:25,795 - __main__ - INFO - [app.py:492] - Starting LinguaSync Backend
2025-01-18 08:12:25,795 - __main__ - INFO - [app.py:493] - Starting Flask app on port 5001 using cpu
2025-01-18 08:12:25,795 - __main__ - INFO - [app.py:494] - Python version: 3.12.4 | packaged by Anaconda, Inc. | (main, Jun 18 2024, 10:07:17) [Clang 14.0.6 ]
2025-01-18 08:12:25,795 - __main__ - INFO - [app.py:495] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-18 08:12:25,795 - __main__ - INFO - [app.py:496] - Maximum audio length: 300 seconds
2025-01-18 08:12:25,796 - __main__ - INFO - [app.py:497] - Sample rate: 16000 Hz
2025-01-18 08:12:25,796 - __main__ - INFO - [app.py:501] - System memory: 36.0GB total, 16.5GB available
2025-01-18 08:12:25,796 - __main__ - INFO - [app.py:502] - CPU cores: 11
2025-01-18 08:12:25,796 - __main__ - INFO - [app.py:510] - Configuration:
2025-01-18 08:12:25,796 - __main__ - INFO - [app.py:511] - - Debug mode: False
2025-01-18 08:12:25,796 - __main__ - INFO - [app.py:512] - - CORS enabled: True
2025-01-18 08:12:25,796 - __main__ - INFO - [app.py:513] - - Rate limiting: 10 requests per minute
2025-01-18 08:12:25,796 - __main__ - INFO - [app.py:514] - - Metrics enabled: True (port 8000)
2025-01-18 08:12:25,796 - __main__ - INFO - [app.py:516] - ==================================================
2025-01-18 08:13:02,350 - services.utils - INFO - [utils.py:57] - Performance - Function: process_audio_url, Duration: 0.00s, Memory Change: 0.00MB
2025-01-18 08:13:02,353 - __main__ - INFO - [app.py:278] - Request to /process-audio-url took 0.00s
2025-01-18 08:13:04,504 - services.audio_link_routes - ERROR - [audio_link_routes.py:117] - Output file not found at /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmp0t4mxcur/output.wav
2025-01-18 08:13:04,504 - services.utils - INFO - [utils.py:57] - Performance - Function: process_audio_url, Duration: 2.15s, Memory Change: 0.27MB
2025-01-18 08:13:04,504 - __main__ - INFO - [app.py:278] - Request to /process-audio-url took 2.15s
2025-01-18 08:22:26,867 - services.utils - INFO - [utils.py:57] - Performance - Function: process_audio_url, Duration: 0.00s, Memory Change: 0.00MB
2025-01-18 08:22:26,870 - __main__ - INFO - [app.py:278] - Request to /process-audio-url took 0.00s
2025-01-18 08:22:29,014 - services.audio_link_routes - ERROR - [audio_link_routes.py:117] - Output file not found at /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmp44zv14l1/output.wav
2025-01-18 08:22:29,015 - services.utils - INFO - [utils.py:57] - Performance - Function: process_audio_url, Duration: 2.14s, Memory Change: 6.69MB
2025-01-18 08:22:29,015 - __main__ - INFO - [app.py:278] - Request to /process-audio-url took 2.14s
2025-01-18 08:22:44,398 - __main__ - INFO - [app.py:217] - Received SIGINT signal
2025-01-18 08:22:44,399 - __main__ - INFO - [app.py:202] - Initiating graceful shutdown...
2025-01-18 08:22:49,404 - __main__ - INFO - [app.py:436] - Application shutting down...
2025-01-18 08:22:49,405 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-18 08:22:49,406 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-18 08:22:49,407 - __main__ - INFO - [app.py:418] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-18 08:22:49,408 - __main__ - INFO - [app.py:450] - Cleanup completed successfully
2025-01-18 08:22:49,408 - __main__ - INFO - [app.py:206] - Graceful shutdown completed
2025-01-18 08:22:49,409 - __main__ - INFO - [app.py:436] - Application shutting down...
2025-01-18 08:22:49,409 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-18 08:22:49,409 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-18 08:22:49,410 - __main__ - INFO - [app.py:418] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-18 08:22:49,410 - __main__ - INFO - [app.py:450] - Cleanup completed successfully
2025-01-18 08:22:49,411 - __main__ - INFO - [app.py:436] - Application shutting down...
2025-01-18 08:22:49,411 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-18 08:22:49,412 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-18 08:22:49,412 - __main__ - INFO - [app.py:418] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-18 08:22:49,413 - __main__ - INFO - [app.py:450] - Cleanup completed successfully
2025-01-18 08:23:03,270 - __main__ - INFO - [app.py:467] - Metrics server started on port 8000
2025-01-18 08:23:03,270 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-18 08:23:16,248 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-18 08:23:22,188 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-18 08:23:22,189 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-18 08:23:29,298 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-18 08:23:29,300 - __main__ - INFO - [app.py:418] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-18 08:23:29,300 - __main__ - INFO - [app.py:491] - ==================================================
2025-01-18 08:23:29,300 - __main__ - INFO - [app.py:492] - Starting LinguaSync Backend
2025-01-18 08:23:29,300 - __main__ - INFO - [app.py:493] - Starting Flask app on port 5001 using cpu
2025-01-18 08:23:29,300 - __main__ - INFO - [app.py:494] - Python version: 3.12.4 | packaged by Anaconda, Inc. | (main, Jun 18 2024, 10:07:17) [Clang 14.0.6 ]
2025-01-18 08:23:29,300 - __main__ - INFO - [app.py:495] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-18 08:23:29,300 - __main__ - INFO - [app.py:496] - Maximum audio length: 300 seconds
2025-01-18 08:23:29,300 - __main__ - INFO - [app.py:497] - Sample rate: 16000 Hz
2025-01-18 08:23:29,300 - __main__ - INFO - [app.py:501] - System memory: 36.0GB total, 16.8GB available
2025-01-18 08:23:29,300 - __main__ - INFO - [app.py:502] - CPU cores: 11
2025-01-18 08:23:29,300 - __main__ - INFO - [app.py:510] - Configuration:
2025-01-18 08:23:29,300 - __main__ - INFO - [app.py:511] - - Debug mode: False
2025-01-18 08:23:29,300 - __main__ - INFO - [app.py:512] - - CORS enabled: True
2025-01-18 08:23:29,300 - __main__ - INFO - [app.py:513] - - Rate limiting: 10 requests per minute
2025-01-18 08:23:29,300 - __main__ - INFO - [app.py:514] - - Metrics enabled: True (port 8000)
2025-01-18 08:23:29,300 - __main__ - INFO - [app.py:516] - ==================================================
2025-01-18 08:24:08,753 - services.utils - INFO - [utils.py:57] - Performance - Function: process_audio_url, Duration: 2.19s, Memory Change: 5.58MB
2025-01-18 08:24:08,753 - __main__ - INFO - [app.py:278] - Request to /process-audio-url took 2.19s
2025-01-18 08:24:14,878 - services.utils - INFO - [utils.py:57] - Performance - Function: process_audio_url, Duration: 1.91s, Memory Change: 5.12MB
2025-01-18 08:24:14,878 - __main__ - INFO - [app.py:278] - Request to /process-audio-url took 1.91s
2025-01-18 08:41:03,353 - __main__ - INFO - [app.py:217] - Received SIGINT signal
2025-01-18 08:41:03,355 - __main__ - INFO - [app.py:202] - Initiating graceful shutdown...
2025-01-18 08:41:08,361 - __main__ - INFO - [app.py:436] - Application shutting down...
2025-01-18 08:41:08,361 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-18 08:41:08,362 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-18 08:41:08,363 - __main__ - INFO - [app.py:418] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-18 08:41:08,364 - __main__ - INFO - [app.py:450] - Cleanup completed successfully
2025-01-18 08:41:08,364 - __main__ - INFO - [app.py:206] - Graceful shutdown completed
2025-01-18 08:41:08,365 - __main__ - INFO - [app.py:436] - Application shutting down...
2025-01-18 08:41:08,366 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-18 08:41:08,366 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-18 08:41:08,367 - __main__ - INFO - [app.py:418] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-18 08:41:08,367 - __main__ - INFO - [app.py:450] - Cleanup completed successfully
2025-01-18 08:41:08,368 - __main__ - INFO - [app.py:436] - Application shutting down...
2025-01-18 08:41:08,369 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-18 08:41:08,369 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-18 08:41:08,370 - __main__ - INFO - [app.py:418] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-18 08:41:08,370 - __main__ - INFO - [app.py:450] - Cleanup completed successfully
2025-01-18 08:41:30,022 - __main__ - INFO - [app.py:467] - Metrics server started on port 8000
2025-01-18 08:41:30,022 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-18 08:41:44,456 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-18 08:41:52,752 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-18 08:41:52,752 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-18 08:42:00,095 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-18 08:42:00,096 - __main__ - INFO - [app.py:418] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-18 08:42:00,096 - __main__ - INFO - [app.py:491] - ==================================================
2025-01-18 08:42:00,096 - __main__ - INFO - [app.py:492] - Starting LinguaSync Backend
2025-01-18 08:42:00,096 - __main__ - INFO - [app.py:493] - Starting Flask app on port 5001 using cpu
2025-01-18 08:42:00,097 - __main__ - INFO - [app.py:494] - Python version: 3.12.4 | packaged by Anaconda, Inc. | (main, Jun 18 2024, 10:07:17) [Clang 14.0.6 ]
2025-01-18 08:42:00,097 - __main__ - INFO - [app.py:495] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-18 08:42:00,097 - __main__ - INFO - [app.py:496] - Maximum audio length: 300 seconds
2025-01-18 08:42:00,097 - __main__ - INFO - [app.py:497] - Sample rate: 16000 Hz
2025-01-18 08:42:00,097 - __main__ - INFO - [app.py:501] - System memory: 36.0GB total, 16.7GB available
2025-01-18 08:42:00,097 - __main__ - INFO - [app.py:502] - CPU cores: 11
2025-01-18 08:42:00,097 - __main__ - INFO - [app.py:510] - Configuration:
2025-01-18 08:42:00,097 - __main__ - INFO - [app.py:511] - - Debug mode: False
2025-01-18 08:42:00,097 - __main__ - INFO - [app.py:512] - - CORS enabled: True
2025-01-18 08:42:00,097 - __main__ - INFO - [app.py:513] - - Rate limiting: 10 requests per minute
2025-01-18 08:42:00,097 - __main__ - INFO - [app.py:514] - - Metrics enabled: True (port 8000)
2025-01-18 08:42:00,097 - __main__ - INFO - [app.py:516] - ==================================================
2025-01-18 08:43:00,514 - services.utils - INFO - [utils.py:57] - Performance - Function: process_audio_url, Duration: 0.00s, Memory Change: 0.00MB
2025-01-18 08:43:00,514 - __main__ - INFO - [app.py:278] - Request to /process-audio-url took 0.00s
2025-01-18 08:43:02,755 - services.utils - INFO - [utils.py:57] - Performance - Function: process_audio_url, Duration: 2.24s, Memory Change: 4.33MB
2025-01-18 08:43:02,755 - __main__ - INFO - [app.py:278] - Request to /process-audio-url took 2.24s
2025-01-18 08:45:24,432 - services.utils - INFO - [utils.py:57] - Performance - Function: process_audio_url, Duration: 0.00s, Memory Change: 0.00MB
2025-01-18 08:45:24,434 - __main__ - INFO - [app.py:278] - Request to /process-audio-url took 0.00s
2025-01-18 08:45:26,479 - services.utils - INFO - [utils.py:57] - Performance - Function: process_audio_url, Duration: 2.04s, Memory Change: 1.73MB
2025-01-18 08:45:26,480 - __main__ - INFO - [app.py:278] - Request to /process-audio-url took 2.04s
2025-01-18 08:45:40,689 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-18 08:45:40,690 - services.translation_routes - INFO - [translation_routes.py:29] - Starting translation request 3771072e
2025-01-18 08:45:40,690 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-18 08:45:40,690 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-18 08:45:40,696 - services.translation_routes - INFO - [translation_routes.py:86] - Request 3771072e: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpzzeecmfe.wav
2025-01-18 08:45:40,696 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 52.42 seconds
2025-01-18 08:45:40,696 - services.translation_routes - INFO - [translation_routes.py:99] - Request 3771072e: Beginning audio processing with diagnostics
2025-01-18 08:45:40,696 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpzzeecmfe.wav
2025-01-18 08:45:40,696 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 48000, Channels: 2
2025-01-18 08:45:40,722 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([2, 2516115]), Frequency: 48000Hz
2025-01-18 08:45:40,722 - services.audio_processor - INFO - [audio_processor.py:219] - Resampling from 48000Hz to 16000Hz
2025-01-18 08:45:42,162 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-18 08:45:42,167 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for fra
2025-01-18 08:45:42,234 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-18 08:45:42,321 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-18 08:45:42,322 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-18 08:45:42,339 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-18 08:45:42,339 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-18 08:45:42,355 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-18 08:45:42,355 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-18 08:45:42,374 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-18 08:45:42,374 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-18 08:45:44,351 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-18 08:45:44,351 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-18 08:45:44,505 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-18 08:45:44,505 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-18 08:45:44,523 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-18 08:45:44,523 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-18 08:45:44,539 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-18 08:45:44,539 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-18 08:45:44,556 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-18 08:45:44,557 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-18 08:45:46,402 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-18 08:45:46,402 - services.translation_routes - INFO - [translation_routes.py:110] - 
==================================================
2025-01-18 08:45:46,402 - services.translation_routes - INFO - [translation_routes.py:111] - Input Audio Quality Report
2025-01-18 08:45:46,402 - services.translation_routes - INFO - [translation_routes.py:112] - ==================================================
2025-01-18 08:45:46,402 - services.translation_routes - INFO - [translation_routes.py:113] - Request ID: 3771072e
2025-01-18 08:45:46,402 - services.translation_routes - INFO - [translation_routes.py:114] - Target Language: fra
2025-01-18 08:45:46,402 - services.translation_routes - INFO - [translation_routes.py:115] - --------------------------------------------------
2025-01-18 08:45:46,402 - services.translation_routes - INFO - [translation_routes.py:116] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.950
- Avg Amplitude: 0.036
- Rms Level: 0.077
- Crest Factor: 12.378
- Zero Crossings: 468467.000
- Silence Percentage: 35.160
- Clipping Points: 0.000
- Dynamic Range: 9128175.349

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 0.000
  - Temporal Variation: 0.137
  - Temporal Flatness: 0.061

- Volume Metrics:
  - Volume Stability: -0.142
  - Volume Range: 37566521.764
  - Volume Variations: 0.058

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.0124004758728593
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 0.7600672841072083, 'stability': 1.425754427909851, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.0, 'consistency': 0.41630202531814575, 'distinction': 0.1015029102563858}
  - Description: Strong nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.517
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.413
  - Rhythm Quality: 0.395
  - Intonation Quality: 0.431

Vowel Quality:
  - Quality Score: 0.006
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-18 08:45:46,402 - services.translation_routes - INFO - [translation_routes.py:117] - ==================================================

2025-01-18 08:45:46,403 - services.translation_routes - INFO - [translation_routes.py:128] - Request 3771072e: Audio processed successfully
2025-01-18 08:45:46,452 - services.translation_routes - INFO - [translation_routes.py:147] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-18 08:46:09,689 - services.translation_routes - INFO - [translation_routes.py:185] - Source text: The main thing is to make sure you're balanced on both feet, hands up, elbows in, a lot of people box with their elbows like this.
2025-01-18 08:46:24,527 - services.translation_routes - INFO - [translation_routes.py:204] - Target text: [Musique épique]
2025-01-18 08:46:55,920 - services.translation_routes - INFO - [translation_routes.py:227] - Processing tuple output from model
2025-01-18 08:46:55,924 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-18 08:46:55,924 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-18 08:46:55,928 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-18 08:46:55,928 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-18 08:46:55,930 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-18 08:46:55,930 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-18 08:46:55,933 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-18 08:46:55,933 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-18 08:46:55,966 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-18 08:46:55,966 - services.translation_routes - INFO - [translation_routes.py:251] - 
==================================================
2025-01-18 08:46:55,966 - services.translation_routes - INFO - [translation_routes.py:252] - Translated Audio Quality Report
2025-01-18 08:46:55,966 - services.translation_routes - INFO - [translation_routes.py:253] - ==================================================
2025-01-18 08:46:55,966 - services.translation_routes - INFO - [translation_routes.py:254] - Request ID: 3771072e
2025-01-18 08:46:55,966 - services.translation_routes - INFO - [translation_routes.py:255] - Target Language: fra
2025-01-18 08:46:55,966 - services.translation_routes - INFO - [translation_routes.py:256] - --------------------------------------------------
2025-01-18 08:46:55,966 - services.translation_routes - INFO - [translation_routes.py:257] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.494
- Avg Amplitude: 0.038
- Rms Level: 0.077
- Crest Factor: 6.412
- Zero Crossings: 1546.000
- Silence Percentage: 40.746
- Clipping Points: 0.000
- Dynamic Range: 1305.922

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.199
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.019
  - Temporal Flatness: 0.008

- Volume Metrics:
  - Volume Stability: -0.173
  - Volume Range: 1020.269
  - Volume Variations: 0.060

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.0240319538794056
- Background Noise: 3.5647964520997624
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': nan, 'stability': nan, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.0, 'consistency': 1.0, 'distinction': 1.0}
  - Description: Weak nasal resonance. Unstable nasal resonance. Clear distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.588
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.000
  - Rhythm Quality: 0.000
  - Intonation Quality: 1.000

Vowel Quality:
  - Quality Score: 0.002
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-18 08:46:55,966 - services.translation_routes - INFO - [translation_routes.py:258] - ==================================================

2025-01-18 08:46:55,966 - services.translation_routes - INFO - [translation_routes.py:264] - Request 3771072e: Audio output processed successfully
2025-01-18 08:46:55,967 - services.translation_routes - INFO - [translation_routes.py:317] - Request 3771072e: Response prepared successfully
2025-01-18 08:46:55,968 - services.translation_routes - INFO - [translation_routes.py:328] - Request 3771072e completed in 75.28s
2025-01-18 08:46:55,970 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 75.28s, Memory Change: 2917.42MB
2025-01-18 08:46:55,970 - __main__ - INFO - [app.py:278] - Request to /translate took 80.97s
2025-01-19 00:26:31,749 - services.utils - INFO - [utils.py:57] - Performance - Function: process_audio_url, Duration: 0.00s, Memory Change: 0.52MB
2025-01-19 00:26:31,768 - __main__ - INFO - [app.py:278] - Request to /process-audio-url took 0.03s
2025-01-19 00:26:31,775 - services.utils - INFO - [utils.py:57] - Performance - Function: process_audio_url, Duration: 0.00s, Memory Change: 0.97MB
2025-01-19 00:26:31,775 - __main__ - INFO - [app.py:278] - Request to /process-audio-url took 0.00s
2025-01-20 01:02:14,470 - __main__ - INFO - [app.py:467] - Metrics server started on port 8000
2025-01-20 01:02:14,470 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-20 01:02:27,297 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-20 01:02:40,419 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-20 01:02:40,422 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-20 01:02:45,551 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-20 01:02:45,553 - __main__ - INFO - [app.py:418] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-20 01:02:45,553 - __main__ - INFO - [app.py:491] - ==================================================
2025-01-20 01:02:45,553 - __main__ - INFO - [app.py:492] - Starting LinguaSync Backend
2025-01-20 01:02:45,553 - __main__ - INFO - [app.py:493] - Starting Flask app on port 5001 using cpu
2025-01-20 01:02:45,553 - __main__ - INFO - [app.py:494] - Python version: 3.12.4 | packaged by Anaconda, Inc. | (main, Jun 18 2024, 10:07:17) [Clang 14.0.6 ]
2025-01-20 01:02:45,553 - __main__ - INFO - [app.py:495] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-20 01:02:45,553 - __main__ - INFO - [app.py:496] - Maximum audio length: 300 seconds
2025-01-20 01:02:45,553 - __main__ - INFO - [app.py:497] - Sample rate: 16000 Hz
2025-01-20 01:02:45,553 - __main__ - INFO - [app.py:501] - System memory: 36.0GB total, 10.7GB available
2025-01-20 01:02:45,553 - __main__ - INFO - [app.py:502] - CPU cores: 11
2025-01-20 01:02:45,553 - __main__ - INFO - [app.py:510] - Configuration:
2025-01-20 01:02:45,553 - __main__ - INFO - [app.py:511] - - Debug mode: False
2025-01-20 01:02:45,553 - __main__ - INFO - [app.py:512] - - CORS enabled: True
2025-01-20 01:02:45,553 - __main__ - INFO - [app.py:513] - - Rate limiting: 10 requests per minute
2025-01-20 01:02:45,553 - __main__ - INFO - [app.py:514] - - Metrics enabled: True (port 8000)
2025-01-20 01:02:45,553 - __main__ - INFO - [app.py:516] - ==================================================
2025-01-20 01:03:46,255 - services.utils - INFO - [utils.py:57] - Performance - Function: process_audio_url, Duration: 0.00s, Memory Change: 0.25MB
2025-01-20 01:03:46,257 - __main__ - INFO - [app.py:278] - Request to /process-audio-url took 0.00s
2025-01-20 01:03:48,860 - services.utils - INFO - [utils.py:57] - Performance - Function: process_audio_url, Duration: 2.60s, Memory Change: 34.03MB
2025-01-20 01:03:48,860 - __main__ - INFO - [app.py:278] - Request to /process-audio-url took 2.60s
2025-01-20 01:05:53,902 - services.utils - INFO - [utils.py:57] - Performance - Function: process_audio_url, Duration: 0.00s, Memory Change: 0.00MB
2025-01-20 01:05:53,903 - __main__ - INFO - [app.py:278] - Request to /process-audio-url took 0.00s
2025-01-20 01:05:55,862 - services.utils - INFO - [utils.py:57] - Performance - Function: process_audio_url, Duration: 1.96s, Memory Change: 10.84MB
2025-01-20 01:05:55,863 - __main__ - INFO - [app.py:278] - Request to /process-audio-url took 1.96s
2025-01-20 01:06:30,871 - services.utils - INFO - [utils.py:57] - Performance - Function: process_audio_url, Duration: 1.85s, Memory Change: 20.17MB
2025-01-20 01:06:30,871 - __main__ - INFO - [app.py:278] - Request to /process-audio-url took 1.85s
2025-01-20 01:19:30,585 - __main__ - INFO - [app.py:217] - Received SIGINT signal
2025-01-20 01:19:30,589 - __main__ - INFO - [app.py:202] - Initiating graceful shutdown...
2025-01-20 01:19:35,589 - __main__ - INFO - [app.py:436] - Application shutting down...
2025-01-20 01:19:35,590 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-20 01:19:35,591 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-20 01:19:35,592 - __main__ - INFO - [app.py:418] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-20 01:19:35,594 - __main__ - INFO - [app.py:450] - Cleanup completed successfully
2025-01-20 01:19:35,594 - __main__ - INFO - [app.py:206] - Graceful shutdown completed
2025-01-20 01:19:35,596 - __main__ - INFO - [app.py:436] - Application shutting down...
2025-01-20 01:19:35,596 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-20 01:19:35,596 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-20 01:19:35,597 - __main__ - INFO - [app.py:418] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-20 01:19:35,597 - __main__ - INFO - [app.py:450] - Cleanup completed successfully
2025-01-20 01:19:35,598 - __main__ - INFO - [app.py:436] - Application shutting down...
2025-01-20 01:19:35,598 - services.model_manager - INFO - [model_manager.py:210] - Cleaning up model resources
2025-01-20 01:19:35,598 - services.model_manager - INFO - [model_manager.py:223] - Model cleanup completed successfully
2025-01-20 01:19:35,598 - __main__ - INFO - [app.py:418] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-20 01:19:35,599 - __main__ - INFO - [app.py:450] - Cleanup completed successfully
2025-01-20 01:19:43,700 - __main__ - INFO - [app.py:467] - Metrics server started on port 8000
2025-01-20 01:19:43,700 - services.model_manager - INFO - [model_manager.py:97] - Loading SeamlessM4T model: facebook/seamless-m4t-v2-large
2025-01-20 01:19:56,861 - services.model_manager - INFO - [model_manager.py:161] - Models loaded on CPU
2025-01-20 01:20:07,908 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-20 01:20:07,909 - services.model_manager - INFO - [model_manager.py:167] - Model initialization successful
2025-01-20 01:20:15,013 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-20 01:20:15,016 - __main__ - INFO - [app.py:418] - Cleanup complete: removed 0 files, freed 0.00MB
2025-01-20 01:20:15,016 - __main__ - INFO - [app.py:491] - ==================================================
2025-01-20 01:20:15,016 - __main__ - INFO - [app.py:492] - Starting LinguaSync Backend
2025-01-20 01:20:15,016 - __main__ - INFO - [app.py:493] - Starting Flask app on port 5001 using cpu
2025-01-20 01:20:15,016 - __main__ - INFO - [app.py:494] - Python version: 3.12.4 | packaged by Anaconda, Inc. | (main, Jun 18 2024, 10:07:17) [Clang 14.0.6 ]
2025-01-20 01:20:15,016 - __main__ - INFO - [app.py:495] - Supported languages: ['fra', 'spa', 'deu', 'ita', 'por']
2025-01-20 01:20:15,016 - __main__ - INFO - [app.py:496] - Maximum audio length: 300 seconds
2025-01-20 01:20:15,016 - __main__ - INFO - [app.py:497] - Sample rate: 16000 Hz
2025-01-20 01:20:15,016 - __main__ - INFO - [app.py:501] - System memory: 36.0GB total, 10.8GB available
2025-01-20 01:20:15,016 - __main__ - INFO - [app.py:502] - CPU cores: 11
2025-01-20 01:20:15,016 - __main__ - INFO - [app.py:510] - Configuration:
2025-01-20 01:20:15,016 - __main__ - INFO - [app.py:511] - - Debug mode: False
2025-01-20 01:20:15,017 - __main__ - INFO - [app.py:512] - - CORS enabled: True
2025-01-20 01:20:15,017 - __main__ - INFO - [app.py:513] - - Rate limiting: 10 requests per minute
2025-01-20 01:20:15,017 - __main__ - INFO - [app.py:514] - - Metrics enabled: True (port 8000)
2025-01-20 01:20:15,017 - __main__ - INFO - [app.py:516] - ==================================================
2025-01-20 01:23:51,060 - services.utils - INFO - [utils.py:57] - Performance - Function: process_audio_url, Duration: 0.00s, Memory Change: 0.52MB
2025-01-20 01:23:51,062 - __main__ - INFO - [app.py:278] - Request to /process-audio-url took 0.00s
2025-01-20 01:23:53,100 - services.utils - INFO - [utils.py:57] - Performance - Function: process_audio_url, Duration: 2.03s, Memory Change: -37.80MB
2025-01-20 01:23:53,100 - __main__ - INFO - [app.py:278] - Request to /process-audio-url took 2.03s
2025-01-20 01:24:03,841 - services.model_manager - INFO - [model_manager.py:87] - Model verification successful
2025-01-20 01:24:03,842 - services.translation_routes - INFO - [translation_routes.py:29] - Starting translation request 82993986
2025-01-20 01:24:03,842 - services.diagnostics.spectral_analysis - INFO - [spectral_analysis.py:59] - Initialized SpectralAnalyzer with sample rate: 16000Hz
2025-01-20 01:24:03,843 - services.diagnostics.base - INFO - [base.py:75] - AudioDiagnostics initialized successfully
2025-01-20 01:24:03,849 - services.translation_routes - INFO - [translation_routes.py:86] - Request 82993986: Saved input file: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpoa3ktsj2.wav
2025-01-20 01:24:03,852 - services.audio_processor - INFO - [audio_processor.py:132] - Audio duration: 52.42 seconds
2025-01-20 01:24:03,852 - services.translation_routes - INFO - [translation_routes.py:99] - Request 82993986: Beginning audio processing with diagnostics
2025-01-20 01:24:03,852 - services.audio_processor - INFO - [audio_processor.py:204] - Loading audio from: /var/folders/x2/xbbstcms7ng3g13w2py4kwsc0000gn/T/tmpoa3ktsj2.wav
2025-01-20 01:24:03,853 - services.audio_processor - INFO - [audio_processor.py:206] - Audio info - Sample rate: 48000, Channels: 2
2025-01-20 01:24:03,879 - services.audio_processor - INFO - [audio_processor.py:215] - Original audio shape: torch.Size([2, 2516115]), Frequency: 48000Hz
2025-01-20 01:24:03,879 - services.audio_processor - INFO - [audio_processor.py:219] - Resampling from 48000Hz to 16000Hz
2025-01-20 01:24:06,044 - services.audio_processor - INFO - [audio_processor.py:373] - Base audio processing successful, proceeding with enhancement
2025-01-20 01:24:06,049 - services.audio_processor - INFO - [audio_processor.py:379] - Applying speech-optimized spectral enhancement for fra
2025-01-20 01:24:06,115 - services.audio_processor - INFO - [audio_processor.py:384] - Analyzing audio quality...
2025-01-20 01:24:06,208 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-20 01:24:06,211 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-20 01:24:06,231 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-20 01:24:06,231 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-20 01:24:06,248 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-20 01:24:06,248 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-20 01:24:06,265 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-20 01:24:06,265 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-20 01:24:08,184 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-20 01:24:08,184 - services.audio_processor - WARNING - [audio_processor.py:394] - Quality issues detected, reprocessing...
2025-01-20 01:24:08,332 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-20 01:24:08,333 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-20 01:24:08,348 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-20 01:24:08,349 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-20 01:24:08,365 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-20 01:24:08,365 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-20 01:24:08,381 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-20 01:24:08,381 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-20 01:24:10,134 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-20 01:24:10,134 - services.translation_routes - INFO - [translation_routes.py:110] - 
==================================================
2025-01-20 01:24:10,134 - services.translation_routes - INFO - [translation_routes.py:111] - Input Audio Quality Report
2025-01-20 01:24:10,134 - services.translation_routes - INFO - [translation_routes.py:112] - ==================================================
2025-01-20 01:24:10,134 - services.translation_routes - INFO - [translation_routes.py:113] - Request ID: 82993986
2025-01-20 01:24:10,134 - services.translation_routes - INFO - [translation_routes.py:114] - Target Language: fra
2025-01-20 01:24:10,134 - services.translation_routes - INFO - [translation_routes.py:115] - --------------------------------------------------
2025-01-20 01:24:10,134 - services.translation_routes - INFO - [translation_routes.py:116] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.950
- Avg Amplitude: 0.036
- Rms Level: 0.077
- Crest Factor: 12.378
- Zero Crossings: 468467.000
- Silence Percentage: 35.160
- Clipping Points: 0.000
- Dynamic Range: 9128175.349

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.000
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 0.000
  - Temporal Variation: 0.137
  - Temporal Flatness: 0.061

- Volume Metrics:
  - Volume Stability: -0.142
  - Volume Range: 37566521.764
  - Volume Variations: 0.058

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.0124004758728593
- Background Noise: 5.0
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 0.7600672841072083, 'stability': 1.425754427909851, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.0, 'consistency': 0.41630202531814575, 'distinction': 0.1015029102563858}
  - Description: Strong nasal resonance. Unstable nasal resonance. Limited distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.517
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.413
  - Rhythm Quality: 0.395
  - Intonation Quality: 0.431

Vowel Quality:
  - Quality Score: 0.006
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-20 01:24:10,134 - services.translation_routes - INFO - [translation_routes.py:117] - ==================================================

2025-01-20 01:24:10,135 - services.translation_routes - INFO - [translation_routes.py:128] - Request 82993986: Audio processed successfully
2025-01-20 01:24:10,182 - services.translation_routes - INFO - [translation_routes.py:147] - Input keys: dict_keys(['input_features', 'attention_mask'])
2025-01-20 01:24:33,418 - services.translation_routes - INFO - [translation_routes.py:185] - Source text: The main thing is to make sure you're balanced on both feet, hands up, elbows in, a lot of people box with their elbows like this.
2025-01-20 01:24:49,072 - services.translation_routes - INFO - [translation_routes.py:204] - Target text: [Musique épique]
2025-01-20 01:25:24,333 - services.translation_routes - INFO - [translation_routes.py:227] - Processing tuple output from model
2025-01-20 01:25:24,342 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-20 01:25:24,342 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-20 01:25:24,345 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-20 01:25:24,346 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-20 01:25:24,349 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-20 01:25:24,350 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-20 01:25:24,352 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:363] - Visualization failed: module 'collections' has no attribute 'Iterable'
2025-01-20 01:25:24,352 - services.diagnostics.spectral_analysis - ERROR - [spectral_analysis.py:764] - Harmonic analysis failed: mean(): could not infer output dtype. Input dtype must be either a floating point or complex dtype. Got: Long
2025-01-20 01:25:24,471 - services.diagnostics.base - INFO - [base.py:112] - Completed language analysis for fra
2025-01-20 01:25:24,471 - services.translation_routes - INFO - [translation_routes.py:251] - 
==================================================
2025-01-20 01:25:24,471 - services.translation_routes - INFO - [translation_routes.py:252] - Translated Audio Quality Report
2025-01-20 01:25:24,471 - services.translation_routes - INFO - [translation_routes.py:253] - ==================================================
2025-01-20 01:25:24,471 - services.translation_routes - INFO - [translation_routes.py:254] - Request ID: 82993986
2025-01-20 01:25:24,471 - services.translation_routes - INFO - [translation_routes.py:255] - Target Language: fra
2025-01-20 01:25:24,471 - services.translation_routes - INFO - [translation_routes.py:256] - --------------------------------------------------
2025-01-20 01:25:24,471 - services.translation_routes - INFO - [translation_routes.py:257] - Audio Quality Analysis Report
==============================

Target Language: fra

Waveform Analysis:
--------------------
- Peak Amplitude: 0.702
- Avg Amplitude: 0.058
- Rms Level: 0.095
- Crest Factor: 7.389
- Zero Crossings: 10257.000
- Silence Percentage: 11.367
- Clipping Points: 0.000
- Dynamic Range: 199.144

- Processing Metrics:
  - Compression Detected: 0.000
  - Over Compressed: 0.000
  - Compression Severity: 0.076
  - Dynamic Range Loss: 0.000

- Temporal Metrics:
  - Smoothing Detected: 1.000
  - Temporal Variation: 0.028
  - Temporal Flatness: 0.015

- Volume Metrics:
  - Volume Stability: 0.249
  - Volume Range: 174.700
  - Volume Variations: 0.058

Spectral Analysis:
--------------------

Quality Metrics (1-5 scale):
--------------------
- Robotic Voice: 1.0
- Pronunciation: 1.0
- Audio Clarity: 3.025735410379754
- Background Noise: 3.955403629409288
- Voice Consistency: 1.0
- Spectral Balance: 1.0

Detected Issues:
--------------------
- Muffled

Language-Specific Analysis:
--------------------

Nasalization:
  - Nasal Resonance: {'strength': 0.7432696223258972, 'stability': 3.026303291320801, 'peak_frequencies': []}
  - Quality Assessment: {'authenticity': 0.0, 'consistency': 0.0, 'distinction': 1.0}
  - Description: Strong nasal resonance. Unstable nasal resonance. Clear distinction between nasal and oral vowels

Liaison:
  - Detected: False
  - Confidence: 0.465
  - Description: Weak or inconsistent liaison patterns

Prosody:
  - Score: 0.000
  - Rhythm Quality: 0.000
  - Intonation Quality: 0.000

Vowel Quality:
  - Quality Score: 0.005
  - Formant Structure: 0.000
  - Description: Poor vowel articulation. Unclear formant structure
2025-01-20 01:25:24,471 - services.translation_routes - INFO - [translation_routes.py:258] - ==================================================

2025-01-20 01:25:24,471 - services.translation_routes - INFO - [translation_routes.py:264] - Request 82993986: Audio output processed successfully
2025-01-20 01:25:24,474 - services.translation_routes - INFO - [translation_routes.py:317] - Request 82993986: Response prepared successfully
2025-01-20 01:25:24,475 - services.translation_routes - INFO - [translation_routes.py:328] - Request 82993986 completed in 80.63s
2025-01-20 01:25:24,476 - services.utils - INFO - [utils.py:57] - Performance - Function: translate_audio_endpoint, Duration: 80.63s, Memory Change: 1418.39MB
2025-01-20 01:25:24,476 - __main__ - INFO - [app.py:278] - Request to /translate took 88.92s
